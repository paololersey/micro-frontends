(()=>{"use strict";var e,_={},h={};function n(e){var a=h[e];if(void 0!==a)return a.exports;var r=h[e]={exports:{}};return _[e].call(r.exports,r,r.exports,n),r.exports}n.m=_,e=[],n.O=(a,r,c,f)=>{if(!r){var s=1/0;for(t=0;t<e.length;t++){for(var[r,c,f]=e[t],o=!0,l=0;l<r.length;l++)(!1&f||s>=f)&&Object.keys(n.O).every(d=>n.O[d](r[l]))?r.splice(l--,1):(o=!1,f<s&&(s=f));if(o){e.splice(t--,1);var u=c();void 0!==u&&(a=u)}}return a}f=f||0;for(var t=e.length;t>0&&e[t-1][2]>f;t--)e[t]=e[t-1];e[t]=[r,c,f]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var r in a)n.o(a,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={666:0};n.O.j=c=>0===e[c];var a=(c,f)=>{var l,u,[t,s,o]=f,v=0;if(t.some(b=>0!==e[b])){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(o)var p=o(n)}for(c&&c(f);v<t.length;v++)n.o(e,u=t[v])&&e[u]&&e[u][0](),e[t[v]]=0;return n.O(p)},r=self.webpackChunkchat_stream=self.webpackChunkchat_stream||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})()})();"use strict";(self.webpackChunkchat_stream=self.webpackChunkchat_stream||[]).push([[429],{435:(we,ue,he)=>{he(583)},583:()=>{!function(e){const n=e.performance;function i(I){n&&n.mark&&n.mark(I)}function r(I,p){n&&n.measure&&n.measure(I,p)}i("Zone");const c=e.__Zone_symbol_prefix||"__zone_symbol__";function u(I){return c+I}const f=!0===e[u("forceDuplicateZoneCheck")];if(e.Zone){if(f||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let _=(()=>{class I{constructor(t,o){this._parent=t,this._name=o?o.name||"unnamed":"<root>",this._properties=o&&o.properties||{},this._zoneDelegate=new T(this,this._parent&&this._parent._zoneDelegate,o)}static assertZonePatched(){if(e.Promise!==J.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=I.current;for(;t.parent;)t=t.parent;return t}static get current(){return G.zone}static get currentTask(){return te}static __load_patch(t,o,y=!1){if(J.hasOwnProperty(t)){if(!y&&f)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const P="Zone:"+t;i(P),J[t]=o(e,I,le),r(P,P)}}get parent(){return this._parent}get name(){return this._name}get(t){const o=this.getZoneWith(t);if(o)return o._properties[t]}getZoneWith(t){let o=this;for(;o;){if(o._properties.hasOwnProperty(t))return o;o=o._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,o){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const y=this._zoneDelegate.intercept(this,t,o),P=this;return function(){return P.runGuarded(y,this,arguments,o)}}run(t,o,y,P){G={parent:G,zone:this};try{return this._zoneDelegate.invoke(this,t,o,y,P)}finally{G=G.parent}}runGuarded(t,o=null,y,P){G={parent:G,zone:this};try{try{return this._zoneDelegate.invoke(this,t,o,y,P)}catch(K){if(this._zoneDelegate.handleError(this,K))throw K}}finally{G=G.parent}}runTask(t,o,y){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||z).name+"; Execution: "+this.name+")");if(t.state===j&&(t.type===R||t.type===M))return;const P=t.state!=X;P&&t._transitionTo(X,O),t.runCount++;const K=te;te=t,G={parent:G,zone:this};try{t.type==M&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,o,y)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{t.state!==j&&t.state!==Y&&(t.type==R||t.data&&t.data.isPeriodic?P&&t._transitionTo(O,X):(t.runCount=0,this._updateTaskCount(t,-1),P&&t._transitionTo(j,X,j))),G=G.parent,te=K}}scheduleTask(t){if(t.zone&&t.zone!==this){let y=this;for(;y;){if(y===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);y=y.parent}}t._transitionTo(q,j);const o=[];t._zoneDelegates=o,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(y){throw t._transitionTo(Y,q,j),this._zoneDelegate.handleError(this,y),y}return t._zoneDelegates===o&&this._updateTaskCount(t,1),t.state==q&&t._transitionTo(O,q),t}scheduleMicroTask(t,o,y,P){return this.scheduleTask(new m(v,t,o,y,P,void 0))}scheduleMacroTask(t,o,y,P,K){return this.scheduleTask(new m(M,t,o,y,P,K))}scheduleEventTask(t,o,y,P,K){return this.scheduleTask(new m(R,t,o,y,P,K))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||z).name+"; Execution: "+this.name+")");t._transitionTo(A,O,X);try{this._zoneDelegate.cancelTask(this,t)}catch(o){throw t._transitionTo(Y,A),this._zoneDelegate.handleError(this,o),o}return this._updateTaskCount(t,-1),t._transitionTo(j,A),t.runCount=0,t}_updateTaskCount(t,o){const y=t._zoneDelegates;-1==o&&(t._zoneDelegates=null);for(let P=0;P<y.length;P++)y[P]._updateTaskCount(t.type,o)}}return I.__symbol__=u,I})();const g={name:"",onHasTask:(I,p,t,o)=>I.hasTask(t,o),onScheduleTask:(I,p,t,o)=>I.scheduleTask(t,o),onInvokeTask:(I,p,t,o,y,P)=>I.invokeTask(t,o,y,P),onCancelTask:(I,p,t,o)=>I.cancelTask(t,o)};class T{constructor(p,t,o){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=p,this._parentDelegate=t,this._forkZS=o&&(o&&o.onFork?o:t._forkZS),this._forkDlgt=o&&(o.onFork?t:t._forkDlgt),this._forkCurrZone=o&&(o.onFork?this.zone:t._forkCurrZone),this._interceptZS=o&&(o.onIntercept?o:t._interceptZS),this._interceptDlgt=o&&(o.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=o&&(o.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=o&&(o.onInvoke?o:t._invokeZS),this._invokeDlgt=o&&(o.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=o&&(o.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=o&&(o.onHandleError?o:t._handleErrorZS),this._handleErrorDlgt=o&&(o.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=o&&(o.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=o&&(o.onScheduleTask?o:t._scheduleTaskZS),this._scheduleTaskDlgt=o&&(o.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=o&&(o.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=o&&(o.onInvokeTask?o:t._invokeTaskZS),this._invokeTaskDlgt=o&&(o.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=o&&(o.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=o&&(o.onCancelTask?o:t._cancelTaskZS),this._cancelTaskDlgt=o&&(o.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=o&&(o.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const y=o&&o.onHasTask;(y||t&&t._hasTaskZS)&&(this._hasTaskZS=y?o:g,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=p,o.onScheduleTask||(this._scheduleTaskZS=g,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),o.onInvokeTask||(this._invokeTaskZS=g,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),o.onCancelTask||(this._cancelTaskZS=g,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(p,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,p,t):new _(p,t)}intercept(p,t,o){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,p,t,o):t}invoke(p,t,o,y,P){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,p,t,o,y,P):t.apply(o,y)}handleError(p,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,p,t)}scheduleTask(p,t){let o=t;if(this._scheduleTaskZS)this._hasTaskZS&&o._zoneDelegates.push(this._hasTaskDlgtOwner),o=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,p,t),o||(o=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=v)throw new Error("Task is missing scheduleFn.");d(t)}return o}invokeTask(p,t,o,y){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,p,t,o,y):t.callback.apply(o,y)}cancelTask(p,t){let o;if(this._cancelTaskZS)o=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,p,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");o=t.cancelFn(t)}return o}hasTask(p,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,p,t)}catch(o){this.handleError(p,o)}}_updateTaskCount(p,t){const o=this._taskCounts,y=o[p],P=o[p]=y+t;if(P<0)throw new Error("More tasks executed then were scheduled.");0!=y&&0!=P||this.hasTask(this.zone,{microTask:o.microTask>0,macroTask:o.macroTask>0,eventTask:o.eventTask>0,change:p})}}class m{constructor(p,t,o,y,P,K){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=p,this.source=t,this.data=y,this.scheduleFn=P,this.cancelFn=K,!o)throw new Error("callback is not defined");this.callback=o;const l=this;this.invoke=p===R&&y&&y.useG?m.invokeTask:function(){return m.invokeTask.call(e,l,this,arguments)}}static invokeTask(p,t,o){p||(p=this),re++;try{return p.runCount++,p.zone.runTask(p,t,o)}finally{1==re&&L(),re--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(j,q)}_transitionTo(p,t,o){if(this._state!==t&&this._state!==o)throw new Error(`${this.type} '${this.source}': can not transition to '${p}', expecting state '${t}'${o?" or '"+o+"'":""}, was '${this._state}'.`);this._state=p,p==j&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const S=u("setTimeout"),D=u("Promise"),Z=u("then");let E,B=[],V=!1;function d(I){if(0===re&&0===B.length)if(E||e[D]&&(E=e[D].resolve(0)),E){let p=E[Z];p||(p=E.then),p.call(E,L)}else e[S](L,0);I&&B.push(I)}function L(){if(!V){for(V=!0;B.length;){const I=B;B=[];for(let p=0;p<I.length;p++){const t=I[p];try{t.zone.runTask(t,null,null)}catch(o){le.onUnhandledError(o)}}}le.microtaskDrainDone(),V=!1}}const z={name:"NO ZONE"},j="notScheduled",q="scheduling",O="scheduled",X="running",A="canceling",Y="unknown",v="microTask",M="macroTask",R="eventTask",J={},le={symbol:u,currentZoneFrame:()=>G,onUnhandledError:F,microtaskDrainDone:F,scheduleMicroTask:d,showUncaughtError:()=>!_[u("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:F,patchMethod:()=>F,bindArguments:()=>[],patchThen:()=>F,patchMacroTask:()=>F,patchEventPrototype:()=>F,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>F,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>F,wrapWithCurrentZone:()=>F,filterProperties:()=>[],attachOriginToPatched:()=>F,_redefineProperty:()=>F,patchCallbacks:()=>F};let G={parent:null,zone:new _(null,null)},te=null,re=0;function F(){}r("Zone","Zone"),e.Zone=_}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const ue=Object.getOwnPropertyDescriptor,he=Object.defineProperty,de=Object.getPrototypeOf,Be=Object.create,ut=Array.prototype.slice,Se="addEventListener",Oe="removeEventListener",Ze=Zone.__symbol__(Se),Ie=Zone.__symbol__(Oe),se="true",ie="false",ke=Zone.__symbol__("");function Le(e,n){return Zone.current.wrap(e,n)}function Me(e,n,i,r,c){return Zone.current.scheduleMacroTask(e,n,i,r,c)}const x=Zone.__symbol__,Pe="undefined"!=typeof window,pe=Pe?window:void 0,$=Pe&&pe||"object"==typeof self&&self||global,ht=[null];function Ae(e,n){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=Le(e[i],n+"_"+i));return e}function Fe(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const Ue="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Re=!("nw"in $)&&void 0!==$.process&&"[object process]"==={}.toString.call($.process),je=!Re&&!Ue&&!(!Pe||!pe.HTMLElement),We=void 0!==$.process&&"[object process]"==={}.toString.call($.process)&&!Ue&&!(!Pe||!pe.HTMLElement),Ce={},qe=function(e){if(!(e=e||$.event))return;let n=Ce[e.type];n||(n=Ce[e.type]=x("ON_PROPERTY"+e.type));const i=this||e.target||$,r=i[n];let c;if(je&&i===pe&&"error"===e.type){const u=e;c=r&&r.call(this,u.message,u.filename,u.lineno,u.colno,u.error),!0===c&&e.preventDefault()}else c=r&&r.apply(this,arguments),null!=c&&!c&&e.preventDefault();return c};function Xe(e,n,i){let r=ue(e,n);if(!r&&i&&ue(i,n)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;const c=x("on"+n+"patched");if(e.hasOwnProperty(c)&&e[c])return;delete r.writable,delete r.value;const u=r.get,f=r.set,_=n.substr(2);let g=Ce[_];g||(g=Ce[_]=x("ON_PROPERTY"+_)),r.set=function(T){let m=this;!m&&e===$&&(m=$),m&&(m[g]&&m.removeEventListener(_,qe),f&&f.apply(m,ht),"function"==typeof T?(m[g]=T,m.addEventListener(_,qe,!1)):m[g]=null)},r.get=function(){let T=this;if(!T&&e===$&&(T=$),!T)return null;const m=T[g];if(m)return m;if(u){let S=u&&u.call(this);if(S)return r.set.call(this,S),"function"==typeof T.removeAttribute&&T.removeAttribute(n),S}return null},he(e,n,r),e[c]=!0}function Ye(e,n,i){if(n)for(let r=0;r<n.length;r++)Xe(e,"on"+n[r],i);else{const r=[];for(const c in e)"on"==c.substr(0,2)&&r.push(c);for(let c=0;c<r.length;c++)Xe(e,r[c],i)}}const ne=x("originalInstance");function ve(e){const n=$[e];if(!n)return;$[x(e)]=n,$[e]=function(){const c=Ae(arguments,e);switch(c.length){case 0:this[ne]=new n;break;case 1:this[ne]=new n(c[0]);break;case 2:this[ne]=new n(c[0],c[1]);break;case 3:this[ne]=new n(c[0],c[1],c[2]);break;case 4:this[ne]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},ae($[e],n);const i=new n(function(){});let r;for(r in i)"XMLHttpRequest"===e&&"responseBlob"===r||function(c){"function"==typeof i[c]?$[e].prototype[c]=function(){return this[ne][c].apply(this[ne],arguments)}:he($[e].prototype,c,{set:function(u){"function"==typeof u?(this[ne][c]=Le(u,e+"."+c),ae(this[ne][c],u)):this[ne][c]=u},get:function(){return this[ne][c]}})}(r);for(r in n)"prototype"!==r&&n.hasOwnProperty(r)&&($[e][r]=n[r])}function ce(e,n,i){let r=e;for(;r&&!r.hasOwnProperty(n);)r=de(r);!r&&e[n]&&(r=e);const c=x(n);let u=null;if(r&&(!(u=r[c])||!r.hasOwnProperty(c))&&(u=r[c]=r[n],Fe(r&&ue(r,n)))){const _=i(u,c,n);r[n]=function(){return _(this,arguments)},ae(r[n],u)}return u}function _t(e,n,i){let r=null;function c(u){const f=u.data;return f.args[f.cbIdx]=function(){u.invoke.apply(this,arguments)},r.apply(f.target,f.args),u}r=ce(e,n,u=>function(f,_){const g=i(f,_);return g.cbIdx>=0&&"function"==typeof _[g.cbIdx]?Me(g.name,_[g.cbIdx],g,c):u.apply(f,_)})}function ae(e,n){e[x("OriginalDelegate")]=n}let $e=!1,He=!1;function mt(){if($e)return He;$e=!0;try{const e=pe.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(He=!0)}catch(e){}return He}Zone.__load_patch("ZoneAwarePromise",(e,n,i)=>{const r=Object.getOwnPropertyDescriptor,c=Object.defineProperty,f=i.symbol,_=[],g=!0===e[f("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],T=f("Promise"),m=f("then");i.onUnhandledError=l=>{if(i.showUncaughtError()){const s=l&&l.rejection;s?console.error("Unhandled Promise rejection:",s instanceof Error?s.message:s,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",s,s instanceof Error?s.stack:void 0):console.error(l)}},i.microtaskDrainDone=()=>{for(;_.length;){const l=_.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(s){Z(s)}}};const D=f("unhandledPromiseRejectionHandler");function Z(l){i.onUnhandledError(l);try{const s=n[D];"function"==typeof s&&s.call(this,l)}catch(s){}}function B(l){return l&&l.then}function V(l){return l}function E(l){return t.reject(l)}const d=f("state"),L=f("value"),z=f("finally"),j=f("parentPromiseValue"),q=f("parentPromiseState"),X=null,A=!0,Y=!1;function M(l,s){return a=>{try{G(l,s,a)}catch(h){G(l,!1,h)}}}const le=f("currentTaskTrace");function G(l,s,a){const h=function(){let l=!1;return function(a){return function(){l||(l=!0,a.apply(null,arguments))}}}();if(l===a)throw new TypeError("Promise resolved with itself");if(l[d]===X){let w=null;try{("object"==typeof a||"function"==typeof a)&&(w=a&&a.then)}catch(C){return h(()=>{G(l,!1,C)})(),l}if(s!==Y&&a instanceof t&&a.hasOwnProperty(d)&&a.hasOwnProperty(L)&&a[d]!==X)re(a),G(l,a[d],a[L]);else if(s!==Y&&"function"==typeof w)try{w.call(a,h(M(l,s)),h(M(l,!1)))}catch(C){h(()=>{G(l,!1,C)})()}else{l[d]=s;const C=l[L];if(l[L]=a,l[z]===z&&s===A&&(l[d]=l[q],l[L]=l[j]),s===Y&&a instanceof Error){const k=n.currentTask&&n.currentTask.data&&n.currentTask.data.__creationTrace__;k&&c(a,le,{configurable:!0,enumerable:!1,writable:!0,value:k})}for(let k=0;k<C.length;)F(l,C[k++],C[k++],C[k++],C[k++]);if(0==C.length&&s==Y){l[d]=0;let k=a;try{throw new Error("Uncaught (in promise): "+function(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(a)+(a&&a.stack?"\n"+a.stack:""))}catch(b){k=b}g&&(k.throwOriginal=!0),k.rejection=a,k.promise=l,k.zone=n.current,k.task=n.currentTask,_.push(k),i.scheduleMicroTask()}}}return l}const te=f("rejectionHandledHandler");function re(l){if(0===l[d]){try{const s=n[te];s&&"function"==typeof s&&s.call(this,{rejection:l[L],promise:l})}catch(s){}l[d]=Y;for(let s=0;s<_.length;s++)l===_[s].promise&&_.splice(s,1)}}function F(l,s,a,h,w){re(l);const C=l[d],k=C?"function"==typeof h?h:V:"function"==typeof w?w:E;s.scheduleMicroTask("Promise.then",()=>{try{const b=l[L],N=!!a&&z===a[z];N&&(a[j]=b,a[q]=C);const H=s.run(k,void 0,N&&k!==E&&k!==V?[]:[b]);G(a,!0,H)}catch(b){G(a,!1,b)}},a)}const p=function(){};class t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(s){return G(new this(null),A,s)}static reject(s){return G(new this(null),Y,s)}static race(s){let a,h,w=new this((b,N)=>{a=b,h=N});function C(b){a(b)}function k(b){h(b)}for(let b of s)B(b)||(b=this.resolve(b)),b.then(C,k);return w}static all(s){return t.allWithCallback(s)}static allSettled(s){return(this&&this.prototype instanceof t?this:t).allWithCallback(s,{thenCallback:h=>({status:"fulfilled",value:h}),errorCallback:h=>({status:"rejected",reason:h})})}static allWithCallback(s,a){let h,w,C=new this((H,U)=>{h=H,w=U}),k=2,b=0;const N=[];for(let H of s){B(H)||(H=this.resolve(H));const U=b;try{H.then(Q=>{N[U]=a?a.thenCallback(Q):Q,k--,0===k&&h(N)},Q=>{a?(N[U]=a.errorCallback(Q),k--,0===k&&h(N)):w(Q)})}catch(Q){w(Q)}k++,b++}return k-=2,0===k&&h(N),C}constructor(s){const a=this;if(!(a instanceof t))throw new Error("Must be an instanceof Promise.");a[d]=X,a[L]=[];try{s&&s(M(a,A),M(a,Y))}catch(h){G(a,!1,h)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t}then(s,a){let h=this.constructor[Symbol.species];(!h||"function"!=typeof h)&&(h=this.constructor||t);const w=new h(p),C=n.current;return this[d]==X?this[L].push(C,w,s,a):F(this,C,w,s,a),w}catch(s){return this.then(null,s)}finally(s){let a=this.constructor[Symbol.species];(!a||"function"!=typeof a)&&(a=t);const h=new a(p);h[z]=z;const w=n.current;return this[d]==X?this[L].push(w,h,s,s):F(this,w,h,s,s),h}}t.resolve=t.resolve,t.reject=t.reject,t.race=t.race,t.all=t.all;const o=e[T]=e.Promise;e.Promise=t;const y=f("thenPatched");function P(l){const s=l.prototype,a=r(s,"then");if(a&&(!1===a.writable||!a.configurable))return;const h=s.then;s[m]=h,l.prototype.then=function(w,C){return new t((b,N)=>{h.call(this,b,N)}).then(w,C)},l[y]=!0}return i.patchThen=P,o&&(P(o),ce(e,"fetch",l=>function(l){return function(s,a){let h=l.apply(s,a);if(h instanceof t)return h;let w=h.constructor;return w[y]||P(w),h}}(l))),Promise[n.__symbol__("uncaughtPromiseErrors")]=_,t}),Zone.__load_patch("toString",e=>{const n=Function.prototype.toString,i=x("OriginalDelegate"),r=x("Promise"),c=x("Error"),u=function(){if("function"==typeof this){const T=this[i];if(T)return"function"==typeof T?n.call(T):Object.prototype.toString.call(T);if(this===Promise){const m=e[r];if(m)return n.call(m)}if(this===Error){const m=e[c];if(m)return n.call(m)}}return n.call(this)};u[i]=n,Function.prototype.toString=u;const f=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":f.call(this)}});let me=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){me=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){me=!1}const Et={useG:!0},ee={},Ke={},Je=new RegExp("^"+ke+"(\\w+)(true|false)$"),xe=x("propagationStopped");function Qe(e,n){const i=(n?n(e):e)+ie,r=(n?n(e):e)+se,c=ke+i,u=ke+r;ee[e]={},ee[e][ie]=c,ee[e][se]=u}function Tt(e,n,i){const r=i&&i.add||Se,c=i&&i.rm||Oe,u=i&&i.listeners||"eventListeners",f=i&&i.rmAll||"removeAllListeners",_=x(r),g="."+r+":",S=function(E,d,L){if(E.isRemoved)return;const z=E.callback;"object"==typeof z&&z.handleEvent&&(E.callback=q=>z.handleEvent(q),E.originalDelegate=z),E.invoke(E,d,[L]);const j=E.options;j&&"object"==typeof j&&j.once&&d[c].call(d,L.type,E.originalDelegate?E.originalDelegate:E.callback,j)},D=function(E){if(!(E=E||e.event))return;const d=this||E.target||e,L=d[ee[E.type][ie]];if(L)if(1===L.length)S(L[0],d,E);else{const z=L.slice();for(let j=0;j<z.length&&(!E||!0!==E[xe]);j++)S(z[j],d,E)}},Z=function(E){if(!(E=E||e.event))return;const d=this||E.target||e,L=d[ee[E.type][se]];if(L)if(1===L.length)S(L[0],d,E);else{const z=L.slice();for(let j=0;j<z.length&&(!E||!0!==E[xe]);j++)S(z[j],d,E)}};function B(E,d){if(!E)return!1;let L=!0;d&&void 0!==d.useG&&(L=d.useG);const z=d&&d.vh;let j=!0;d&&void 0!==d.chkDup&&(j=d.chkDup);let q=!1;d&&void 0!==d.rt&&(q=d.rt);let O=E;for(;O&&!O.hasOwnProperty(r);)O=de(O);if(!O&&E[r]&&(O=E),!O||O[_])return!1;const X=d&&d.eventNameToString,A={},Y=O[_]=O[r],v=O[x(c)]=O[c],M=O[x(u)]=O[u],R=O[x(f)]=O[f];let J;function le(s,a){return!me&&"object"==typeof s&&s?!!s.capture:me&&a?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?Object.assign(Object.assign({},s),{passive:!0}):s:{passive:!0}:s}d&&d.prepend&&(J=O[x(d.prepend)]=O[d.prepend]);const p=L?function(s){if(!A.isExisting)return Y.call(A.target,A.eventName,A.capture?Z:D,A.options)}:function(s){return Y.call(A.target,A.eventName,s.invoke,A.options)},t=L?function(s){if(!s.isRemoved){const a=ee[s.eventName];let h;a&&(h=a[s.capture?se:ie]);const w=h&&s.target[h];if(w)for(let C=0;C<w.length;C++)if(w[C]===s){w.splice(C,1),s.isRemoved=!0,0===w.length&&(s.allRemoved=!0,s.target[h]=null);break}}if(s.allRemoved)return v.call(s.target,s.eventName,s.capture?Z:D,s.options)}:function(s){return v.call(s.target,s.eventName,s.invoke,s.options)},y=d&&d.diff?d.diff:function(s,a){const h=typeof a;return"function"===h&&s.callback===a||"object"===h&&s.originalDelegate===a},P=Zone[x("UNPATCHED_EVENTS")],K=e[x("PASSIVE_EVENTS")],l=function(s,a,h,w,C=!1,k=!1){return function(){const b=this||e;let N=arguments[0];d&&d.transferEventName&&(N=d.transferEventName(N));let H=arguments[1];if(!H)return s.apply(this,arguments);if(Re&&"uncaughtException"===N)return s.apply(this,arguments);let U=!1;if("function"!=typeof H){if(!H.handleEvent)return s.apply(this,arguments);U=!0}if(z&&!z(s,H,b,arguments))return;const Q=me&&!!K&&-1!==K.indexOf(N),oe=le(arguments[2],Q);if(P)for(let _e=0;_e<P.length;_e++)if(N===P[_e])return Q?s.call(b,N,H,oe):s.apply(this,arguments);const Ge=!!oe&&("boolean"==typeof oe||oe.capture),st=!(!oe||"object"!=typeof oe)&&oe.once,At=Zone.current;let ze=ee[N];ze||(Qe(N,X),ze=ee[N]);const it=ze[Ge?se:ie];let De,ge=b[it],ct=!1;if(ge){if(ct=!0,j)for(let _e=0;_e<ge.length;_e++)if(y(ge[_e],H))return}else ge=b[it]=[];const at=b.constructor.name,lt=Ke[at];lt&&(De=lt[N]),De||(De=at+a+(X?X(N):N)),A.options=oe,st&&(A.options.once=!1),A.target=b,A.capture=Ge,A.eventName=N,A.isExisting=ct;const be=L?Et:void 0;be&&(be.taskData=A);const fe=At.scheduleEventTask(De,H,be,h,w);return A.target=null,be&&(be.taskData=null),st&&(oe.once=!0),!me&&"boolean"==typeof fe.options||(fe.options=oe),fe.target=b,fe.capture=Ge,fe.eventName=N,U&&(fe.originalDelegate=H),k?ge.unshift(fe):ge.push(fe),C?b:void 0}};return O[r]=l(Y,g,p,t,q),J&&(O.prependListener=l(J,".prependListener:",function(s){return J.call(A.target,A.eventName,s.invoke,A.options)},t,q,!0)),O[c]=function(){const s=this||e;let a=arguments[0];d&&d.transferEventName&&(a=d.transferEventName(a));const h=arguments[2],w=!!h&&("boolean"==typeof h||h.capture),C=arguments[1];if(!C)return v.apply(this,arguments);if(z&&!z(v,C,s,arguments))return;const k=ee[a];let b;k&&(b=k[w?se:ie]);const N=b&&s[b];if(N)for(let H=0;H<N.length;H++){const U=N[H];if(y(U,C))return N.splice(H,1),U.isRemoved=!0,0===N.length&&(U.allRemoved=!0,s[b]=null,"string"==typeof a)&&(s[ke+"ON_PROPERTY"+a]=null),U.zone.cancelTask(U),q?s:void 0}return v.apply(this,arguments)},O[u]=function(){const s=this||e;let a=arguments[0];d&&d.transferEventName&&(a=d.transferEventName(a));const h=[],w=et(s,X?X(a):a);for(let C=0;C<w.length;C++){const k=w[C];h.push(k.originalDelegate?k.originalDelegate:k.callback)}return h},O[f]=function(){const s=this||e;let a=arguments[0];if(a){d&&d.transferEventName&&(a=d.transferEventName(a));const h=ee[a];if(h){const k=s[h[ie]],b=s[h[se]];if(k){const N=k.slice();for(let H=0;H<N.length;H++){const U=N[H];this[c].call(this,a,U.originalDelegate?U.originalDelegate:U.callback,U.options)}}if(b){const N=b.slice();for(let H=0;H<N.length;H++){const U=N[H];this[c].call(this,a,U.originalDelegate?U.originalDelegate:U.callback,U.options)}}}}else{const h=Object.keys(s);for(let w=0;w<h.length;w++){const k=Je.exec(h[w]);let b=k&&k[1];b&&"removeListener"!==b&&this[f].call(this,b)}this[f].call(this,"removeListener")}if(q)return this},ae(O[r],Y),ae(O[c],v),R&&ae(O[f],R),M&&ae(O[u],M),!0}let V=[];for(let E=0;E<n.length;E++)V[E]=B(n[E],i);return V}function et(e,n){if(!n){const u=[];for(let f in e){const _=Je.exec(f);let g=_&&_[1];if(g&&(!n||g===n)){const T=e[f];if(T)for(let m=0;m<T.length;m++)u.push(T[m])}}return u}let i=ee[n];i||(Qe(n),i=ee[n]);const r=e[i[ie]],c=e[i[se]];return r?c?r.concat(c):r.slice():c?c.slice():[]}function yt(e,n){const i=e.Event;i&&i.prototype&&n.patchMethod(i.prototype,"stopImmediatePropagation",r=>function(c,u){c[xe]=!0,r&&r.apply(c,u)})}function gt(e,n,i,r,c){const u=Zone.__symbol__(r);if(n[u])return;const f=n[u]=n[r];n[r]=function(_,g,T){return g&&g.prototype&&c.forEach(function(m){const S=`${i}.${r}::`+m,D=g.prototype;if(D.hasOwnProperty(m)){const Z=e.ObjectGetOwnPropertyDescriptor(D,m);Z&&Z.value?(Z.value=e.wrapWithCurrentZone(Z.value,S),e._redefineProperty(g.prototype,m,Z)):D[m]&&(D[m]=e.wrapWithCurrentZone(D[m],S))}else D[m]&&(D[m]=e.wrapWithCurrentZone(D[m],S))}),f.call(n,_,g,T)},e.attachOriginToPatched(n[r],f)}const Ve=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],wt=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],tt=["load"],nt=["blur","error","focus","load","resize","scroll","messageerror"],Dt=["bounce","finish","start"],rt=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],Ee=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],St=["close","error","open","message"],Ot=["error","message"],Te=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],Ve,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function ot(e,n,i){if(!i||0===i.length)return n;const r=i.filter(u=>u.target===e);if(!r||0===r.length)return n;const c=r[0].ignoreProperties;return n.filter(u=>-1===c.indexOf(u))}function W(e,n,i,r){e&&Ye(e,ot(e,n,i),r)}Zone.__load_patch("util",(e,n,i)=>{i.patchOnProperties=Ye,i.patchMethod=ce,i.bindArguments=Ae,i.patchMacroTask=_t;const r=n.__symbol__("BLACK_LISTED_EVENTS"),c=n.__symbol__("UNPATCHED_EVENTS");e[c]&&(e[r]=e[c]),e[r]&&(n[r]=n[c]=e[r]),i.patchEventPrototype=yt,i.patchEventTarget=Tt,i.isIEOrEdge=mt,i.ObjectDefineProperty=he,i.ObjectGetOwnPropertyDescriptor=ue,i.ObjectCreate=Be,i.ArraySlice=ut,i.patchClass=ve,i.wrapWithCurrentZone=Le,i.filterProperties=ot,i.attachOriginToPatched=ae,i._redefineProperty=Object.defineProperty,i.patchCallbacks=gt,i.getGlobalObjects=()=>({globalSources:Ke,zoneSymbolEventNames:ee,eventNames:Te,isBrowser:je,isMix:We,isNode:Re,TRUE_STR:se,FALSE_STR:ie,ZONE_SYMBOL_PREFIX:ke,ADD_EVENT_LISTENER_STR:Se,REMOVE_EVENT_LISTENER_STR:Oe})});const Ne=x("zoneTask");function ye(e,n,i,r){let c=null,u=null;i+=r;const f={};function _(T){const m=T.data;return m.args[0]=function(){return T.invoke.apply(this,arguments)},m.handleId=c.apply(e,m.args),T}function g(T){return u.call(e,T.data.handleId)}c=ce(e,n+=r,T=>function(m,S){if("function"==typeof S[0]){const D={isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?S[1]||0:void 0,args:S},Z=S[0];S[0]=function(){try{return Z.apply(this,arguments)}finally{D.isPeriodic||("number"==typeof D.handleId?delete f[D.handleId]:D.handleId&&(D.handleId[Ne]=null))}};const B=Me(n,S[0],D,_,g);if(!B)return B;const V=B.data.handleId;return"number"==typeof V?f[V]=B:V&&(V[Ne]=B),V&&V.ref&&V.unref&&"function"==typeof V.ref&&"function"==typeof V.unref&&(B.ref=V.ref.bind(V),B.unref=V.unref.bind(V)),"number"==typeof V||V?V:B}return T.apply(e,S)}),u=ce(e,i,T=>function(m,S){const D=S[0];let Z;"number"==typeof D?Z=f[D]:(Z=D&&D[Ne],Z||(Z=D)),Z&&"string"==typeof Z.type?"notScheduled"!==Z.state&&(Z.cancelFn&&Z.data.isPeriodic||0===Z.runCount)&&("number"==typeof D?delete f[D]:D&&(D[Ne]=null),Z.zone.cancelTask(Z)):T.apply(e,S)})}Zone.__load_patch("legacy",e=>{const n=e[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("queueMicrotask",(e,n,i)=>{i.patchMethod(e,"queueMicrotask",r=>function(c,u){n.current.scheduleMicroTask("queueMicrotask",u[0])})}),Zone.__load_patch("timers",e=>{const n="set",i="clear";ye(e,n,i,"Timeout"),ye(e,n,i,"Interval"),ye(e,n,i,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{ye(e,"request","cancel","AnimationFrame"),ye(e,"mozRequest","mozCancel","AnimationFrame"),ye(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,n)=>{const i=["alert","prompt","confirm"];for(let r=0;r<i.length;r++)ce(e,i[r],(u,f,_)=>function(g,T){return n.current.run(u,e,T,_)})}),Zone.__load_patch("EventTarget",(e,n,i)=>{(function(e,n){n.patchEventPrototype(e,n)})(e,i),function(e,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:i,zoneSymbolEventNames:r,TRUE_STR:c,FALSE_STR:u,ZONE_SYMBOL_PREFIX:f}=n.getGlobalObjects();for(let g=0;g<i.length;g++){const T=i[g],D=f+(T+u),Z=f+(T+c);r[T]={},r[T][u]=D,r[T][c]=Z}const _=e.EventTarget;_&&_.prototype&&n.patchEventTarget(e,[_&&_.prototype])}(e,i);const r=e.XMLHttpRequestEventTarget;r&&r.prototype&&i.patchEventTarget(e,[r.prototype])}),Zone.__load_patch("MutationObserver",(e,n,i)=>{ve("MutationObserver"),ve("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e,n,i)=>{ve("IntersectionObserver")}),Zone.__load_patch("FileReader",(e,n,i)=>{ve("FileReader")}),Zone.__load_patch("on_property",(e,n,i)=>{!function(e,n){if(Re&&!We||Zone[e.symbol("patchEvents")])return;const i="undefined"!=typeof WebSocket,r=n.__Zone_ignore_on_properties;if(je){const f=window,_=function(){try{const e=pe.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}()?[{target:f,ignoreProperties:["error"]}]:[];W(f,Te.concat(["messageerror"]),r&&r.concat(_),de(f)),W(Document.prototype,Te,r),void 0!==f.SVGElement&&W(f.SVGElement.prototype,Te,r),W(Element.prototype,Te,r),W(HTMLElement.prototype,Te,r),W(HTMLMediaElement.prototype,wt,r),W(HTMLFrameSetElement.prototype,Ve.concat(nt),r),W(HTMLBodyElement.prototype,Ve.concat(nt),r),W(HTMLFrameElement.prototype,tt,r),W(HTMLIFrameElement.prototype,tt,r);const g=f.HTMLMarqueeElement;g&&W(g.prototype,Dt,r);const T=f.Worker;T&&W(T.prototype,Ot,r)}const c=n.XMLHttpRequest;c&&W(c.prototype,rt,r);const u=n.XMLHttpRequestEventTarget;u&&W(u&&u.prototype,rt,r),"undefined"!=typeof IDBIndex&&(W(IDBIndex.prototype,Ee,r),W(IDBRequest.prototype,Ee,r),W(IDBOpenDBRequest.prototype,Ee,r),W(IDBDatabase.prototype,Ee,r),W(IDBTransaction.prototype,Ee,r),W(IDBCursor.prototype,Ee,r)),i&&W(WebSocket.prototype,St,r)}(i,e)}),Zone.__load_patch("customElements",(e,n,i)=>{!function(e,n){const{isBrowser:i,isMix:r}=n.getGlobalObjects();(i||r)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)}),Zone.__load_patch("XHR",(e,n)=>{!function(T){const m=T.XMLHttpRequest;if(!m)return;const S=m.prototype;let Z=S[Ze],B=S[Ie];if(!Z){const v=T.XMLHttpRequestEventTarget;if(v){const M=v.prototype;Z=M[Ze],B=M[Ie]}}const V="readystatechange",E="scheduled";function d(v){const M=v.data,R=M.target;R[u]=!1,R[_]=!1;const J=R[c];Z||(Z=R[Ze],B=R[Ie]),J&&B.call(R,V,J);const le=R[c]=()=>{if(R.readyState===R.DONE)if(!M.aborted&&R[u]&&v.state===E){const te=R[n.__symbol__("loadfalse")];if(0!==R.status&&te&&te.length>0){const re=v.invoke;v.invoke=function(){const F=R[n.__symbol__("loadfalse")];for(let I=0;I<F.length;I++)F[I]===v&&F.splice(I,1);!M.aborted&&v.state===E&&re.call(v)},te.push(v)}else v.invoke()}else!M.aborted&&!1===R[u]&&(R[_]=!0)};return Z.call(R,V,le),R[i]||(R[i]=v),A.apply(R,M.args),R[u]=!0,v}function L(){}function z(v){const M=v.data;return M.aborted=!0,Y.apply(M.target,M.args)}const j=ce(S,"open",()=>function(v,M){return v[r]=0==M[2],v[f]=M[1],j.apply(v,M)}),O=x("fetchTaskAborting"),X=x("fetchTaskScheduling"),A=ce(S,"send",()=>function(v,M){if(!0===n.current[X]||v[r])return A.apply(v,M);{const R={target:v,url:v[f],isPeriodic:!1,args:M,aborted:!1},J=Me("XMLHttpRequest.send",L,R,d,z);v&&!0===v[_]&&!R.aborted&&J.state===E&&J.invoke()}}),Y=ce(S,"abort",()=>function(v,M){const R=function(v){return v[i]}(v);if(R&&"string"==typeof R.type){if(null==R.cancelFn||R.data&&R.data.aborted)return;R.zone.cancelTask(R)}else if(!0===n.current[O])return Y.apply(v,M)})}(e);const i=x("xhrTask"),r=x("xhrSync"),c=x("xhrListener"),u=x("xhrScheduled"),f=x("xhrURL"),_=x("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function(e,n){const i=e.constructor.name;for(let r=0;r<n.length;r++){const c=n[r],u=e[c];if(u){if(!Fe(ue(e,c)))continue;e[c]=(_=>{const g=function(){return _.apply(this,Ae(arguments,i+"."+c))};return ae(g,_),g})(u)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,n)=>{function i(r){return function(c){et(e,r).forEach(f=>{const _=e.PromiseRejectionEvent;if(_){const g=new _(r,{promise:c.promise,reason:c.rejection});f.invoke(g)}})}}e.PromiseRejectionEvent&&(n[x("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[x("rejectionHandledHandler")]=i("rejectionhandled"))})}},we=>{we(we.s=435)}]);(self.webpackChunkchat_stream=self.webpackChunkchat_stream||[]).push([[179],{766:(Z,de,E)=>{"use strict";function D(t){return"function"==typeof t}function V(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const j=V(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function M(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class T{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(D(r))try{r()}catch(s){n=s instanceof j?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{B(s)}catch(o){n=null!=n?n:[],o instanceof j?n=[...n,...o.errors]:n.push(o)}}if(n)throw new j(n)}}add(n){var e;if(n&&n!==this)if(this.closed)B(n);else{if(n instanceof T){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&M(e,n)}remove(n){const{_teardowns:e}=this;e&&M(e,n),n instanceof T&&n._removeParent(this)}}T.EMPTY=(()=>{const t=new T;return t.closed=!0,t})();const W=T.EMPTY;function R(t){return t instanceof T||t&&"closed"in t&&D(t.remove)&&D(t.add)&&D(t.unsubscribe)}function B(t){D(t)?t():t.unsubscribe()}const G={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y={setTimeout(...t){const{delegate:n}=y;return((null==n?void 0:n.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:n}=y;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function ie(t){y.setTimeout(()=>{const{onUnhandledError:n}=G;if(!n)throw t;n(t)})}function he(){}const Oe=ge("C",void 0,void 0);function ge(t,n,e){return{kind:t,value:n,error:e}}let Q=null;function xe(t){if(G.useDeprecatedSynchronousErrorHandling){const n=!Q;if(n&&(Q={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=Q;if(Q=null,e)throw r}}else t()}class Pe extends T{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,R(n)&&n.add(this)):this.destination=z}static create(n,e,r){return new Ne(n,e,r)}next(n){this.isStopped?it(ge("N",n,void 0),this):this._next(n)}error(n){this.isStopped?it(ge("E",void 0,n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?it(Oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ne extends Pe{constructor(n,e,r){let i;if(super(),D(n))i=n;else if(n){let s;({next:i,error:e,complete:r}=n),this&&G.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe()):s=n,i=null==i?void 0:i.bind(s),e=null==e?void 0:e.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?ee(i):he,error:ee(null!=e?e:_e),complete:r?ee(r):he}}}function ee(t,n){return(...e)=>{try{t(...e)}catch(r){G.useDeprecatedSynchronousErrorHandling?function(t){G.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=t)}(r):ie(r)}}}function _e(t){throw t}function it(t,n){const{onStoppedNotification:e}=G;e&&y.setTimeout(()=>e(t,n))}const z={closed:!0,next:he,error:_e,complete:he},ae="function"==typeof Symbol&&Symbol.observable||"@@observable";function X(t){return t}let H=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function(t){return t&&t instanceof Pe||function(t){return t&&D(t.next)&&D(t.error)&&D(t.complete)}(t)&&R(t)}(e)?e:new Ne(e,r,i);return xe(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Se(r))((i,s)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(l){s(l),null==o||o.unsubscribe()}},s,i)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ae](){return this}pipe(...e){return function(t){return 0===t.length?X:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=Se(e))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=n=>new t(n),t})();function Se(t){var n;return null!==(n=null!=t?t:G.Promise)&&void 0!==n?n:Promise}const q=V(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let te=(()=>{class t extends H{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new oe(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new q}next(e){xe(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(e)}})}error(e){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?W:(s.push(e),new T(()=>M(s,e)))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new H;return e.source=this,e}}return t.create=(n,e)=>new oe(n,e),t})();class oe extends te{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:W}}function ke(t){return n=>{if(function(t){return D(null==t?void 0:t.lift)}(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Be extends Pe{constructor(n,e,r,i,s){super(n),this.onFinalize=s,this._next=e?function(o){try{e(o)}catch(a){n.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){n.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function Ze(t,n){return ke((e,r)=>{let i=0;e.subscribe(new Be(r,s=>{r.next(t.call(n,s,i++))}))})}function Ar(t){return this instanceof Ar?(this.v=t,this):new Ar(t)}function _y(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(g,I){s.push([f,h,g,I])>1||a(f,h)})})}function a(f,h){try{!function(f){f.value instanceof Ar?Promise.resolve(f.value.v).then(u,c):d(s[0][2],f)}(r[f](h))}catch(g){d(s[0][3],g)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function yy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=t[s]&&function(o){return new Promise(function(a,l){!function(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const Pd=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Nd(t){return D(null==t?void 0:t.then)}function Ud(t){return D(t[ae])}function jd(t){return Symbol.asyncIterator&&D(null==t?void 0:t[Symbol.asyncIterator])}function Bd(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Vd="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function $d(t){return D(null==t?void 0:t[Vd])}function Hd(t){return _y(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield Ar(e.read());if(i)return yield Ar(void 0);yield yield Ar(r)}}finally{e.releaseLock()}})}function zd(t){return D(null==t?void 0:t.getReader)}function Bn(t){if(t instanceof H)return t;if(null!=t){if(Ud(t))return function(t){return new H(n=>{const e=t[ae]();if(D(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Pd(t))return function(t){return new H(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Nd(t))return function(t){return new H(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,ie)})}(t);if(jd(t))return Wd(t);if($d(t))return function(t){return new H(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(zd(t))return function(t){return Wd(Hd(t))}(t)}throw Bd(t)}function Wd(t){return new H(n=>{(function(t,n){var e,r,i,s;return function(t,n,e,r){return new(e||(e=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function(s){return s instanceof e?s:new e(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=yy(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function pr(t,n,e,r=0,i=!1){const s=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function uo(t,n,e=1/0){return D(n)?uo((r,i)=>Ze((s,o)=>n(r,s,i,o))(Bn(t(r,i))),e):("number"==typeof n&&(e=n),ke((r,i)=>function(t,n,e,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&n.complete()},h=I=>u<r?g(I):l.push(I),g=I=>{u++;let F=!1;Bn(e(I,c++)).subscribe(new Be(n,C=>{n.next(C)},()=>{F=!0},void 0,()=>{if(F)try{for(u--;l.length&&u<r;){const C=l.shift();g(C)}f()}catch(C){n.error(C)}}))};return t.subscribe(new Be(n,h,()=>{d=!0,f()})),()=>{}}(r,i,t,e)))}function Gd(t=1/0){return uo(X,t)}const Qa=new H(t=>t.complete());function Ja(t){return t[t.length-1]}function co(t){return function(t){return t&&D(t.schedule)}(Ja(t))?t.pop():void 0}function qd(t,n=0){return ke((e,r)=>{e.subscribe(new Be(r,i=>pr(r,t,()=>r.next(i),n),()=>pr(r,t,()=>r.complete(),n),i=>pr(r,t,()=>r.error(i),n)))})}function Kd(t,n=0){return ke((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Yd(t,n){if(!t)throw new Error("Iterable cannot be null");return new H(e=>{pr(e,n,()=>{const r=t[Symbol.asyncIterator]();pr(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function fo(t,n){return n?function(t,n){if(null!=t){if(Ud(t))return function(t,n){return Bn(t).pipe(Kd(n),qd(n))}(t,n);if(Pd(t))return function(t,n){return new H(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(Nd(t))return function(t,n){return Bn(t).pipe(Kd(n),qd(n))}(t,n);if(jd(t))return Yd(t,n);if($d(t))return function(t,n){return new H(e=>{let r;return pr(e,n,()=>{r=t[Vd](),pr(e,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void e.error(o)}s?e.complete():e.next(i)},0,!0)}),()=>D(null==r?void 0:r.return)&&r.return()})}(t,n);if(zd(t))return function(t,n){return Yd(Hd(t),n)}(t,n)}throw Bd(t)}(t,n):Bn(t)}function Zd(...t){const n=co(t),e=function(t,n){return"number"==typeof Ja(t)?t.pop():1/0}(t),r=t;return r.length?1===r.length?Bn(r[0]):Gd(e)(fo(r,n)):Qa}function Xr(t){return t<=0?()=>Qa:ke((n,e)=>{let r=0;n.subscribe(new Be(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Qd(t={}){const{connector:n=(()=>new te),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,l=null,u=0,c=!1,d=!1;const f=()=>{null==a||a.unsubscribe(),a=null},h=()=>{f(),o=l=null,c=d=!1},g=()=>{const I=o;h(),null==I||I.unsubscribe()};return ke((I,F)=>{u++,!d&&!c&&f();const C=l=null!=l?l:n();F.add(()=>{u--,0===u&&!d&&!c&&(a=Xa(g,i))}),C.subscribe(F),o||(o=new Ne({next:_=>C.next(_),error:_=>{d=!0,f(),a=Xa(h,e,_),C.error(_)},complete:()=>{c=!0,f(),a=Xa(h,r),C.complete()}}),fo(I).subscribe(o))})(s)}}function Xa(t,n,...e){return!0===n?(t(),null):!1===n?null:n(...e).pipe(Xr(1)).subscribe(()=>t())}function Je(t){for(let n in t)if(t[n]===Je)return n;throw Error("Could not find renamed property on target object.")}function He(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(He).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function tl(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const jy=Je({__forward_ref__:Je});function nl(t){return t.__forward_ref__=nl,t.toString=function(){return He(this())},t}function Me(t){return Jd(t)?t():t}function Jd(t){return"function"==typeof t&&t.hasOwnProperty(jy)&&t.__forward_ref__===nl}class Jt extends Error{constructor(n,e){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,e)),this.code=n}}function Ce(t){return"string"==typeof t?t:null==t?"":String(t)}function Ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ce(t)}function ho(t,n){const e=n?` in ${n}`:"";throw new Jt("201",`No provider for ${Ut(t)} found${e}`)}function en(t,n){null==t&&function(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function Ue(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mn(t){return{providers:t.providers||[],imports:t.imports||[]}}function il(t){return Xd(t,po)||Xd(t,tf)}function Xd(t,n){return t.hasOwnProperty(n)?t[n]:null}function ef(t){return t&&(t.hasOwnProperty(sl)||t.hasOwnProperty(Gy))?t[sl]:null}const po=Je({\u0275prov:Je}),sl=Je({\u0275inj:Je}),tf=Je({ngInjectableDef:Je}),Gy=Je({ngInjectorDef:Je});var Te=(()=>((Te=Te||{})[Te.Default=0]="Default",Te[Te.Host=1]="Host",Te[Te.Self=2]="Self",Te[Te.SkipSelf=4]="SkipSelf",Te[Te.Optional=8]="Optional",Te))();let ol;function gr(t){const n=ol;return ol=t,n}function nf(t,n,e){const r=il(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Te.Optional?null:void 0!==n?n:void ho(He(t),"Injector")}function mr(t){return{toString:t}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),Vn=(()=>{return(t=Vn||(Vn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Vn;var t})();const Ky="undefined"!=typeof globalThis&&globalThis,Yy="undefined"!=typeof window&&window,Zy="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qe=Ky||"undefined"!=typeof global&&global||Yy||Zy,ei={},Xe=[],go=Je({\u0275cmp:Je}),al=Je({\u0275dir:Je}),ll=Je({\u0275pipe:Je}),rf=Je({\u0275mod:Je}),tr=Je({\u0275fac:Je}),Xi=Je({__NG_ELEMENT_ID__:Je});let Qy=0;function ut(t){return mr(()=>{const e={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Xe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Vn.Emulated,id:"c",styles:t.styles||Xe,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=Qy++,r.inputs=lf(t.inputs,e),r.outputs=lf(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(sf):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(of):null,r})}function sf(t){return Rt(t)||function(t){return t[al]||null}(t)}function of(t){return function(t){return t[ll]||null}(t)}const af={};function $n(t){return mr(()=>{const n={type:t.type,bootstrap:t.bootstrap||Xe,declarations:t.declarations||Xe,imports:t.imports||Xe,exports:t.exports||Xe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(af[t.id]=t.type),n})}function lf(t,n){if(null==t)return ei;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,n&&(n[i]=s)}return e}const jt=ut;function Bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Rt(t){return t[go]||null}function fn(t,n){const e=t[rf]||null;if(!e&&!0===n)throw new Error(`Type ${He(t)} does not have '\u0275mod' property.`);return e}function Hn(t){return Array.isArray(t)&&"object"==typeof t[1]}function An(t){return Array.isArray(t)&&!0===t[1]}function dl(t){return 0!=(8&t.flags)}function yo(t){return 2==(2&t.flags)}function wo(t){return 1==(1&t.flags)}function kn(t){return null!==t.template}function r0(t){return 0!=(512&t[2])}function Fr(t,n){return t.hasOwnProperty(tr)?t[tr]:null}class cf{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kt(){return df}function df(t){return t.type.prototype.ngOnChanges&&(t.setInput=l0),a0}function a0(){const t=hf(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===ei)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function l0(t,n,e,r){const i=hf(t)||function(t,n){return t[ff]=n}(t,{previous:ei,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[e],l=o[a];s[a]=new cf(l&&l.currentValue,n,o===ei),t[r]=n}Kt.ngInherit=!0;const ff="__ngSimpleChanges__";function hf(t){return t[ff]||null}const pf="http://www.w3.org/2000/svg";let pl;function gl(){return void 0!==pl?pl:"undefined"!=typeof document?document:void 0}function ct(t){return!!t.listen}const mf={createRenderer:(t,n)=>gl()};function mt(t){for(;Array.isArray(t);)t=t[0];return t}function Co(t,n){return mt(n[t])}function gn(t,n){return mt(n[t.index])}function ml(t,n){return t.data[n]}function si(t,n){return t[n]}function nn(t,n){const e=n[t];return Hn(e)?e:e[0]}function vf(t){return 4==(4&t[2])}function vl(t){return 128==(128&t[2])}function _r(t,n){return null==n?null:t[n]}function _f(t){t[18]=0}function _l(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const ye={lFrame:Mf(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function yf(){return ye.bindingsEnabled}function N(){return ye.lFrame.lView}function ze(){return ye.lFrame.tView}function ue(t){return ye.lFrame.contextLView=t,t[8]}function Dt(){let t=wf();for(;null!==t&&64===t.type;)t=t.parent;return t}function wf(){return ye.lFrame.currentTNode}function zn(t,n){const e=ye.lFrame;e.currentTNode=t,e.isParent=n}function yl(){return ye.lFrame.isParent}function wl(){ye.lFrame.isParent=!1}function bo(){return ye.isInCheckNoChangesMode}function Do(t){ye.isInCheckNoChangesMode=t}function Vt(){const t=ye.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function nr(){return ye.lFrame.bindingIndex}function oi(){return ye.lFrame.bindingIndex++}function rr(t){const n=ye.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function D0(t,n){const e=ye.lFrame;e.bindingIndex=e.bindingRootIndex=t,Cl(n)}function Cl(t){ye.lFrame.currentDirectiveIndex=t}function Df(){return ye.lFrame.currentQueryIndex}function Dl(t){ye.lFrame.currentQueryIndex=t}function S0(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Ef(t,n,e){if(e&Te.SkipSelf){let i=n,s=t;for(;!(i=i.parent,null!==i||e&Te.Host||(i=S0(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;n=i,t=s}const r=ye.lFrame=Sf();return r.currentTNode=n,r.lView=t,!0}function Eo(t){const n=Sf(),e=t[1];ye.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Sf(){const t=ye.lFrame,n=null===t?null:t.child;return null===n?Mf(t):n}function Mf(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Tf(){const t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const If=Tf;function So(){const t=Tf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $t(){return ye.lFrame.selectedIndex}function yr(t){ye.lFrame.selectedIndex=t}function dt(){const t=ye.lFrame;return ml(t.tView,t.selectedIndex)}function xn(){ye.lFrame.currentNamespace=pf}function Mo(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-e,o),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-e,l),u&&((t.viewHooks||(t.viewHooks=[])).push(e,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(e,c)}}function To(t,n,e){Af(t,n,3,e)}function Io(t,n,e,r){(3&t[2])===e&&Af(t,n,e,r)}function El(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function Af(t,n,e,r){const s=null!=r?r:-1,o=n.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(O0(t,e,n,l),t[18]=(4294901760&t[18])+l+2),l++}function O0(t,n,e,r){const i=e[r]<0,s=e[r+1],a=t[i?-e[r]:e[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class is{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Ao(t,n,e){const r=ct(t);let i=0;for(;i<e.length;){const s=e[i];if("number"==typeof s){if(0!==s)break;i++;const o=e[i++],a=e[i++],l=e[i++];r?t.setAttribute(n,a,l,o):n.setAttributeNS(o,a,l)}else{const o=s,a=e[++i];Ml(o)?r&&t.setProperty(n,o,a):r?t.setAttribute(n,o,a):n.setAttribute(o,a),i++}}return i}function kf(t){return 3===t||4===t||6===t}function Ml(t){return 64===t.charCodeAt(0)}function ko(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||xf(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function xf(t,n,e,r,i){let s=0,o=t.length;if(-1===n)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,n),s=o+1),t.splice(s++,0,e),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Rf(t){return-1!==t}function ai(t){return 32767&t}function li(t,n){let e=function(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let Tl=!0;function xo(t){const n=Tl;return Tl=t,n}let j0=0;function os(t,n){const e=Al(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,Il(r.data,t),Il(n,null),Il(r.blueprint,null));const i=Ro(t,n),s=t.injectorIndex;if(Rf(i)){const o=ai(i),a=li(i,n),l=a[1].data;for(let u=0;u<8;u++)n[s+u]=a[o+u]|l[o+u]}return n[s+8]=i,s}function Il(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Al(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ro(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Oo(t,n,e){!function(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Xi)&&(r=e[Xi]),null==r&&(r=e[Xi]=j0++);const i=255&r;n.data[t+(i>>5)]|=1<<i}(t,n,e)}function Lf(t,n,e){if(e&Te.Optional)return t;ho(n,"NodeInjector")}function Pf(t,n,e,r){if(e&Te.Optional&&void 0===r&&(r=null),0==(e&(Te.Self|Te.Host))){const i=t[9],s=gr(void 0);try{return i?i.get(n,r,e&Te.Optional):nf(n,r,e&Te.Optional)}finally{gr(s)}}return Lf(r,n,e)}function Nf(t,n,e,r=Te.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Xi)?t[Xi]:void 0;return"number"==typeof n?n>=0?255&n:$0:n}(e);if("function"==typeof s){if(!Ef(n,t,r))return r&Te.Host?Lf(i,e,r):Pf(n,e,r,i);try{const o=s(r);if(null!=o||r&Te.Optional)return o;ho(e)}finally{If()}}else if("number"==typeof s){let o=null,a=Al(t,n),l=-1,u=r&Te.Host?n[16][6]:null;for((-1===a||r&Te.SkipSelf)&&(l=-1===a?Ro(t,n):n[a+8],-1!==l&&Bf(r,!1)?(o=n[1],a=ai(l),n=li(l,n)):a=-1);-1!==a;){const c=n[1];if(jf(s,a,c.data)){const d=H0(a,n,e,o,r,u);if(d!==Uf)return d}l=n[a+8],-1!==l&&Bf(r,n[1].data[a+8]===u)&&jf(s,a,n)?(o=c,a=ai(l),n=li(l,n)):a=-1}}}return Pf(n,e,r,i)}const Uf={};function $0(){return new ui(Dt(),N())}function H0(t,n,e,r,i,s){const o=n[1],a=o.data[t+8],c=Fo(a,o,e,null==r?yo(a)&&Tl:r!=o&&0!=(3&a.type),i&Te.Host&&s===a);return null!==c?as(n,o,c,a):Uf}function Fo(t,n,e,r,i){const s=t.providerIndexes,o=n.data,a=1048575&s,l=t.directiveStart,c=s>>20,f=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<f;h++){const g=o[h];if(h<l&&e===g||h>=l&&g.type===e)return h}if(i){const h=o[l];if(h&&kn(h)&&h.type===e)return l}return null}function as(t,n,e,r){let i=t[e];const s=n.data;if(function(t){return t instanceof is}(i)){const o=i;o.resolving&&function(t,n){throw new Jt("200",`Circular dependency in DI detected for ${t}`)}(Ut(s[e]));const a=xo(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?gr(o.injectImpl):null;Ef(t,r,Te.Default);try{i=t[e]=o.factory(void 0,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&function(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const o=df(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,i),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s))}(e,s[e],n)}finally{null!==l&&gr(l),xo(a),o.resolving=!1,If()}}return i}function jf(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function Bf(t,n){return!(t&Te.Self||t&Te.Host&&n)}class ui{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Nf(this._tNode,this._lView,n,r,e)}}function Lo(t){return mr(()=>{const n=t.prototype.constructor,e=n[tr]||kl(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[tr]||kl(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function kl(t){return Jd(t)?()=>{const n=kl(Me(t));return n&&n()}:Fr(t)}const di="__parameters__";function hi(t,n,e){return mr(()=>{const r=function(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(di)?l[di]:Object.defineProperty(l,di,{value:[]})[di];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class We{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ue({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function mn(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),mn(r,n)):n!==t&&n.push(r)}return n}function Wn(t,n){t.forEach(e=>Array.isArray(e)?Wn(e,n):n(e))}function $f(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Po(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function cs(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function rn(t,n,e){let r=pi(t,n);return r>=0?t[1|r]=e:(r=~r,function(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Fl(t,n){const e=pi(t,n);if(e>=0)return t[1|e]}function pi(t,n){return function(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<e];if(n===o)return s<<e;o>n?i=s:r=s+1}return~(i<<e)}(t,n,1)}const ds={},Pl="__NG_DI_FLAG__",Uo="ngTempTokenPath",tw=/\n/gm,qf="__source",rw=Je({provide:String,useValue:Je});let fs;function Kf(t){const n=fs;return fs=t,n}function iw(t,n=Te.Default){if(void 0===fs)throw new Error("inject() must be called from an injection context");return null===fs?nf(t,void 0,n):fs.get(t,n&Te.Optional?null:void 0,n)}function De(t,n=Te.Default){return(ol||iw)(Me(t),n)}function Nl(t){const n=[];for(let e=0;e<t.length;e++){const r=Me(t[e]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=Te.Default;for(let o=0;o<r.length;o++){const a=r[o],l=sw(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}n.push(De(i,s))}else n.push(De(r))}return n}function hs(t,n){return t[Pl]=n,t.prototype[Pl]=n,t}function sw(t){return t[Pl]}const jo=hs(hi("Inject",t=>({token:t})),-1),gi=hs(hi("Optional"),8),ps=hs(hi("SkipSelf"),4);let Vo,$o;function vi(t){var n;return(null===(n=function(){if(void 0===Vo&&(Vo=null,Qe.trustedTypes))try{Vo=Qe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Vo}())||void 0===n?void 0:n.createHTML(t))||t}function eh(t){var n;return(null===(n=function(){if(void 0===$o&&($o=null,Qe.trustedTypes))try{$o=Qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return $o}())||void 0===n?void 0:n.createHTML(t))||t}class rh{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Cr(t){return t instanceof rh?t.changingThisBreaksApplicationSecurity:t}function ms(t,n){const e=function(t){return t instanceof rh&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class Ew{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(vi(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Sw{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=vi(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=vi(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let i=e.length-1;0<i;i--){const o=e.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&n.removeAttribute(o)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Tw=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Iw=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ho(t){return(t=String(t)).match(Tw)||t.match(Iw)?t:"unsafe:"+t}function Gn(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function vs(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const oh=Gn("area,br,col,hr,img,wbr"),ah=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lh=Gn("rp,rt"),Vl=vs(oh,vs(ah,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vs(lh,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vs(lh,ah)),$l=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hl=Gn("srcset"),uh=vs($l,Hl,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Aw=Gn("script,style,template");class kw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Vl.hasOwnProperty(e))return this.sanitizedSomething=!0,!Aw.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!uh.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;$l[a]&&(l=Ho(l)),Hl[a]&&(t=l,l=(t=String(t)).split(",").map(n=>Ho(n.trim())).join(", ")),this.buf.push(" ",o,'="',ch(l),'"')}var t;return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Vl.hasOwnProperty(e)&&!oh.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(ch(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const xw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rw=/([^\#-~ |!])/g;function ch(t){return t.replace(/&/g,"&amp;").replace(xw,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Rw,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zo;function zl(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vt=(()=>((vt=vt||{})[vt.NONE=0]="NONE",vt[vt.HTML=1]="HTML",vt[vt.STYLE=2]="STYLE",vt[vt.SCRIPT=3]="SCRIPT",vt[vt.URL=4]="URL",vt[vt.RESOURCE_URL=5]="RESOURCE_URL",vt))();function dh(t){const n=_s();return n?eh(n.sanitize(vt.HTML,t)||""):ms(t,"HTML")?eh(Cr(t)):function(t,n){let e=null;try{zo=zo||function(t){const n=new Sw(t);return function(){try{return!!(new window.DOMParser).parseFromString(vi(""),"text/html")}catch(t){return!1}}()?new Ew(n):n}(t);let r=n?String(n):"";e=zo.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=zo.getInertBodyElement(r)}while(r!==s);return vi((new kw).sanitizeChildren(zl(e)||e))}finally{if(e){const r=zl(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(gl(),Ce(t))}function ir(t){const n=_s();return n?n.sanitize(vt.URL,t)||"":ms(t,"URL")?Cr(t):Ho(Ce(t))}function _s(){const t=N();return t&&t[12]}const ph="__ngContext__";function Ft(t,n){t[ph]=n}function Gl(t){const n=function(t){return t[ph]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Kl(t){return t.ngOriginalError}function Qw(t,...n){t.error(...n)}class _i{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),r=(t=n)&&t.ngErrorLogger||Qw;var t;r(this._console,"ERROR",n),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Kl(n);for(;e&&Kl(e);)e=Kl(e);return e||null}}const yh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qe))();function qn(t){return t instanceof Function?t():t}var sn=(()=>((sn=sn||{})[sn.Important=1]="Important",sn[sn.DashCase=2]="DashCase",sn))();function Zl(t,n){return undefined(t,n)}function ws(t){const n=t[3];return An(n)?n[3]:n}function Ql(t){return Eh(t[13])}function Jl(t){return Eh(t[4])}function Eh(t){for(;null!==t&&!An(t);)t=t[4];return t}function wi(t,n,e,r,i){if(null!=r){let s,o=!1;An(r)?s=r:Hn(r)&&(o=!0,r=r[0]);const a=mt(r);0===t&&null!==e?null==i?kh(n,e,a):Lr(n,e,a,i||null,!0):1===t&&null!==e?Lr(n,e,a,i||null,!0):2===t?function(t,n,e){const r=Wo(t,n);r&&function(t,n,e,r){ct(t)?t.removeChild(n,e,r):n.removeChild(e)}(t,r,n,e)}(n,a,o):3===t&&n.destroyNode(a),null!=s&&function(t,n,e,r,i){const s=e[7];s!==mt(e)&&wi(n,t,r,s,i);for(let a=10;a<e.length;a++){const l=e[a];Cs(l[1],l,t,n,r,s)}}(n,t,s,e,i)}}function eu(t,n,e){return ct(t)?t.createElement(n,e):null===e?t.createElement(n):t.createElementNS(e,n)}function Mh(t,n){const e=t[9],r=e.indexOf(n),i=n[3];1024&n[2]&&(n[2]&=-1025,_l(i,-1)),e.splice(r,1)}function tu(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const i=r[17];null!==i&&i!==t&&Mh(i,r),n>0&&(t[e-1][4]=r[4]);const s=Po(t,10+n);!function(t,n){Cs(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Th(t,n){if(!(256&n[2])){const e=n[11];ct(e)&&e.destroyNode&&Cs(t,n,e,3,null,null),function(t){let n=t[13];if(!n)return nu(t[1],t);for(;n;){let e=null;if(Hn(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)Hn(n)&&nu(n[1],n),n=n[3];null===n&&(n=t),Hn(n)&&nu(n[1],n),e=n&&n[4]}n=e}}(n)}}function nu(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof is)){const s=e[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,n),function(t,n){const e=t.cleanup,r=n[7];let i=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(n):mt(n[o]),l=r[i=e[s+2]],u=e[s+3];"boolean"==typeof u?a.removeEventListener(e[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=e[s+1]];e[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();n[7]=null}}(t,n),1===n[1].type&&ct(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&An(n[3])){e!==n[3]&&Mh(e,n);const r=n[19];null!==r&&r.detachView(t)}}}function Ih(t,n,e){return function(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Vn.None||i===Vn.Emulated)return null}return gn(r,e)}(t,n.parent,e)}function Lr(t,n,e,r,i){ct(t)?t.insertBefore(n,e,r,i):n.insertBefore(e,r,i)}function kh(t,n,e){ct(t)?t.appendChild(n,e):n.appendChild(e)}function xh(t,n,e,r,i){null!==r?Lr(t,n,e,r,i):kh(t,n,e)}function Wo(t,n){return ct(t)?t.parentNode(n):n.parentNode}function Rh(t,n,e){return Fh(t,n,e)}let Fh=function(t,n,e){return 40&t.type?gn(t,e):null};function Go(t,n,e,r){const i=Ih(t,r,n),s=n[11],a=Rh(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)xh(s,i,e[l],a,!1);else xh(s,i,e,a,!1)}function qo(t,n){if(null!==n){const e=n.type;if(3&e)return gn(n,t);if(4&e)return iu(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return qo(t,r);{const i=t[n.index];return An(i)?iu(-1,i):mt(i)}}if(32&e)return Zl(n,t)()||mt(t[n.index]);{const r=Ph(t,n);return null!==r?Array.isArray(r)?r[0]:qo(ws(t[16]),r):qo(t,n.next)}}return null}function Ph(t,n){return null!==n?t[16][6].projection[n.projection]:null}function iu(t,n){const e=10+t+1;if(e<n.length){const r=n[e],i=r[1].firstChild;if(null!==i)return qo(r,i)}return n[7]}function su(t,n,e,r,i,s,o){for(;null!=e;){const a=r[e.index],l=e.type;if(o&&0===n&&(a&&Ft(mt(a),r),e.flags|=4),64!=(64&e.flags))if(8&l)su(t,n,e.child,r,i,s,!1),wi(n,t,i,a,s);else if(32&l){const u=Zl(e,r);let c;for(;c=u();)wi(n,t,i,c,s);wi(n,t,i,a,s)}else 16&l?Uh(t,n,r,e,i,s):wi(n,t,i,a,s);e=o?e.projectionNext:e.next}}function Cs(t,n,e,r,i,s){su(e,r,t.firstChild,n,i,s,!1)}function Uh(t,n,e,r,i,s){const o=e[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)wi(n,t,i,l[u],s);else su(t,n,l,o[3],i,s,!0)}function jh(t,n,e){ct(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function ou(t,n,e){ct(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function Bh(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}e=i+1}}const Vh="ng-template";function SC(t,n,e){let r=0;for(;r<t.length;){let i=t[r++];if(e&&"class"===i){if(i=t[r],-1!==Bh(i.toLowerCase(),n,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function $h(t){return 4===t.type&&t.value!==Vh}function MC(t,n,e){return n===(4!==t.type||e?t.value:Vh)}function TC(t,n,e){let r=4;const i=t.attrs||[],s=function(t){for(let n=0;n<t.length;n++)if(kf(t[n]))return n;return t.length}(i);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!MC(t,l,e)||""===l&&1===n.length){if(Rn(r))return!1;o=!0}}else{const u=8&r?l:n[++a];if(8&r&&null!==t.attrs){if(!SC(t.attrs,u,e)){if(Rn(r))return!1;o=!0}continue}const d=IC(8&r?"class":l,i,$h(t),e);if(-1===d){if(Rn(r))return!1;o=!0;continue}if(""!==u){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Bh(h,u,0)||2&r&&u!==f){if(Rn(r))return!1;o=!0}}}}else{if(!o&&!Rn(r)&&!Rn(l))return!1;if(o&&Rn(l))continue;o=!1,r=l|1&r}}return Rn(r)||o}function Rn(t){return 0==(1&t)}function IC(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let s=!1;for(;i<n.length;){const o=n[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function Hh(t,n,e=!1){for(let r=0;r<n.length;r++)if(TC(t,n[r],e))return!0;return!1}function RC(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function zh(t,n){return t?":not("+n.trim()+")":n}function OC(t){let n=t[0],e=1,r=2,i="",s=!1;for(;e<t.length;){let o=t[e];if("string"==typeof o)if(2&r){const a=t[++e];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Rn(o)&&(n+=zh(s,i),i=""),r=o,s=s||!Rn(r);e++}return""!==i&&(n+=zh(s,i)),n}const be={};function b(t){Wh(ze(),N(),$t()+t,bo())}function Wh(t,n,e,r){if(!r)if(3==(3&n[2])){const s=t.preOrderCheckHooks;null!==s&&To(n,s,e)}else{const s=t.preOrderHooks;null!==s&&Io(n,s,0,e)}yr(e)}function Ko(t,n){return t<<17|n<<2}function On(t){return t>>17&32767}function au(t){return 2|t}function sr(t){return(131068&t)>>2}function lu(t,n){return-131069&t|n<<2}function uu(t){return 1|t}function np(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];if(-1!==s){const o=t.data[s];Dl(i),o.contentQueries(2,n[s],s)}}}function bs(t,n,e,r,i,s,o,a,l,u){const c=n.blueprint.slice();return c[0]=i,c[2]=140|r,_f(c),c[3]=c[15]=t,c[8]=e,c[10]=o||t&&t[10],c[11]=a||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=s,c[16]=2==n.type?t[16]:c,c}function Ci(t,n,e,r,i){let s=t.data[n];if(null===s)s=function(t,n,e,r,i){const s=wf(),o=yl(),l=t.data[n]=function(t,n,e,r,i,s){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,n,e,r,i),ye.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const o=function(){const t=ye.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return zn(s,!0),s}function bi(t,n,e,r){if(0===e)return-1;const i=n.length;for(let s=0;s<e;s++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ds(t,n,e){Eo(n);try{const r=t.viewQuery;null!==r&&Tu(1,r,e);const i=t.template;null!==i&&rp(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&np(t,n),t.staticViewQueries&&Tu(2,t.viewQuery,e);const s=t.components;null!==s&&function(t,n){for(let e=0;e<n.length;e++)g1(t,n[e])}(n,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,So()}}function Di(t,n,e,r){const i=n[2];if(256==(256&i))return;Eo(n);const s=bo();try{_f(n),function(t){ye.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&rp(t,n,e,2,r);const o=3==(3&i);if(!s)if(o){const u=t.preOrderCheckHooks;null!==u&&To(n,u,null)}else{const u=t.preOrderHooks;null!==u&&Io(n,u,0,null),El(n,0)}if(function(t){for(let n=Ql(t);null!==n;n=Jl(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const i=e[r],s=i[3];0==(1024&i[2])&&_l(s,1),i[2]|=1024}}}(n),function(t){for(let n=Ql(t);null!==n;n=Jl(n))for(let e=10;e<n.length;e++){const r=n[e],i=r[1];vl(r)&&Di(i,r,i.template,r[8])}}(n),null!==t.contentQueries&&np(t,n),!s)if(o){const u=t.contentCheckHooks;null!==u&&To(n,u)}else{const u=t.contentHooks;null!==u&&Io(n,u,1),El(n,1)}!function(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)yr(~i);else{const s=i,o=e[++r],a=e[++r];D0(o,s),a(2,n[s])}}}finally{yr(-1)}}(t,n);const a=t.components;null!==a&&function(t,n){for(let e=0;e<n.length;e++)p1(t,n[e])}(n,a);const l=t.viewQuery;if(null!==l&&Tu(2,l,r),!s)if(o){const u=t.viewCheckHooks;null!==u&&To(n,u)}else{const u=t.viewHooks;null!==u&&Io(n,u,2),El(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,_l(n[3],-1))}finally{So()}}function YC(t,n,e,r){const i=n[10],s=!bo(),o=vf(n);try{s&&!o&&i.begin&&i.begin(),o&&Ds(t,n,r),Di(t,n,e,r)}finally{s&&!o&&i.end&&i.end()}}function rp(t,n,e,r,i){const s=$t(),o=2&r;try{yr(-1),o&&n.length>20&&Wh(t,n,20,bo()),e(r,i)}finally{yr(s)}}function ip(t,n,e){if(dl(n)){const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function yu(t,n,e){!yf()||(function(t,n,e,r){const i=e.directiveStart,s=e.directiveEnd;t.firstCreatePass||os(e,n),Ft(r,n);const o=e.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=kn(l);u&&u1(n,e,l);const c=as(n,t,a,e);Ft(c,n),null!==o&&c1(0,a-i,c,l,0,o),u&&(nn(e.index,n)[8]=c)}}(t,n,e,gn(e,n)),128==(128&e.flags)&&function(t,n,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,a=ye.lFrame.currentDirectiveIndex;try{yr(o);for(let l=r;l<i;l++){const u=t.data[l],c=n[l];Cl(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&fp(u,c)}}finally{yr(-1),Cl(a)}}(t,n,e))}function wu(t,n,e=gn){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?e(n,t):t[o];t[i++]=a}}}function sp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Qo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Qo(t,n,e,r,i,s,o,a,l,u){const c=20+r,d=c+i,f=function(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:be);return e}(c,d),h="function"==typeof u?u():u;return f[1]={type:t,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function lp(t,n,e,r){const i=_p(n);null===e?i.push(r):(i.push(e),t.firstCreatePass&&yp(t).push(r,i.length-1))}function up(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,i):e[r]=[n,i]}return e}function on(t,n,e,r,i,s,o,a){const l=gn(n,e);let c,u=n.inputs;!a&&null!=u&&(c=u[r])?(bp(t,e,c,r,i),yo(n)&&function(t,n){const e=nn(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,n.value||"",r):i,ct(s)?s.setProperty(l,r,i):Ml(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Cu(t,n,e,r){let i=!1;if(yf()){const s=function(t,n,e){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Hh(e,o.selectors,!1)&&(i||(i=[]),Oo(os(e,n),t,o.type),kn(o)?(hp(t,e),i.unshift(o)):i.push(o))}return i}(t,n,e),o=null===r?null:{"":-1};if(null!==s){i=!0,pp(e,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=bi(t,n,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];e.mergedAttrs=ko(e.mergedAttrs,d.hostAttrs),gp(t,e,n,u,d),l1(u,d,o),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),l=!0),u++}!function(t,n){const r=n.directiveEnd,i=t.data,s=n.attrs,o=[];let a=null,l=null;for(let u=n.directiveStart;u<r;u++){const c=i[u],d=c.inputs,f=null===s||$h(n)?null:d1(d,s);o.push(f),a=up(d,u,a),l=up(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=o,n.inputs=a,n.outputs=l}(t,e)}o&&function(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const s=e[n[i+1]];if(null==s)throw new Jt("301",`Export of name '${n[i+1]}' not found!`);r.push(n[i],s)}}}(e,r,o)}return e.mergedAttrs=ko(e.mergedAttrs,e.attrs),i}function dp(t,n,e,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~n.index;(function(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function fp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function hp(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function l1(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;kn(n)&&(e[""]=t)}}function pp(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function gp(t,n,e,r,i){t.data[r]=i;const s=i.factory||(i.factory=Fr(i.type)),o=new is(s,kn(i),null);t.blueprint[r]=o,e[r]=o,dp(t,n,0,r,bi(t,e,i.hostVars,be),i)}function u1(t,n,e){const r=gn(n,t),i=sp(e),s=t[10],o=Jo(t,bs(t,i,null,e.onPush?64:16,r,n,s,s.createRenderer(r,e),null,null));t[n.index]=o}function Kn(t,n,e,r,i,s){const o=gn(t,n);!function(t,n,e,r,i,s,o){if(null==s)ct(t)?t.removeAttribute(n,i,e):n.removeAttribute(i);else{const a=null==o?Ce(s):o(s,r||"",i);ct(t)?t.setAttribute(n,i,a,e):e?n.setAttributeNS(e,i,a):n.setAttribute(i,a)}}(n[11],o,s,t.value,e,r,i)}function c1(t,n,e,r,i,s){const o=s[n];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(e,d,u,c):e[c]=d}}}function d1(t,n){let e=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,t[i],n[r+1])),r+=2}else r+=2;else r+=4}return e}function mp(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function p1(t,n){const e=nn(n,t);if(vl(e)){const r=e[1];80&e[2]?Di(r,e,r.template,e[8]):e[5]>0&&Du(e)}}function Du(t){for(let r=Ql(t);null!==r;r=Jl(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Di(o,s,o.template,s[8])}else s[5]>0&&Du(s)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=nn(e[r],t);vl(i)&&i[5]>0&&Du(i)}}function g1(t,n){const e=nn(n,t),r=e[1];(function(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),Ds(r,e,e[8])}function Jo(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Eu(t){for(;t;){t[2]|=64;const n=ws(t);if(r0(t)&&!n)return t;t=n}return null}function Mu(t,n,e){const r=n[10];r.begin&&r.begin();try{Di(t,n,t.template,e)}catch(i){throw Cp(n,i),i}finally{r.end&&r.end()}}function vp(t){!function(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=Gl(e),i=r[1];YC(i,r,i.template,e)}}(t[8])}function Tu(t,n,e){Dl(0),n(t,e)}const w1=(()=>Promise.resolve(null))();function _p(t){return t[7]||(t[7]=[])}function yp(t){return t.cleanup||(t.cleanup=[])}function Cp(t,n){const e=t[9],r=e?e.get(_i,null):null;r&&r.handleError(n)}function bp(t,n,e,r,i){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=n[o],u=t.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function or(t,n,e){const r=Co(n,t);!function(t,n,e){ct(t)?t.setValue(n,e):n.textContent=e}(t[11],r,e)}function Xo(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?i=tl(i,a):2==s&&(r=tl(r,a+": "+n[++o]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}const Iu=new We("INJECTOR",-1);class Dp{get(n,e=ds){if(e===ds){const r=new Error(`NullInjectorError: No provider for ${He(n)}!`);throw r.name="NullInjectorError",r}return e}}const Au=new We("Set Injector scope."),Es={},D1={};let ku;function Ep(){return void 0===ku&&(ku=new Dp),ku}function Sp(t,n=null,e=null,r){const i=Mp(t,n,e,r);return i._resolveInjectorDefTypes(),i}function Mp(t,n=null,e=null,r){return new E1(t,e,n||Ep(),r)}class E1{constructor(n,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Wn(e,a=>this.processProvider(a,n,e)),Wn([n],a=>this.processInjectorType(a,[],s)),this.records.set(Iu,Ei(void 0,this));const o=this.records.get(Au);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof n?null:He(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=ds,r=Te.Default){this.assertNotDestroyed();const i=Kf(this),s=gr(void 0);try{if(!(r&Te.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=("function"==typeof(t=n)||"object"==typeof t&&t instanceof We)&&il(n);a=l&&this.injectableDefInScope(l)?Ei(xu(n),Es):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Te.Self?Ep():this.parent).get(n,e=r&Te.Optional&&e===ds?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Uo]=o[Uo]||[]).unshift(He(n)),i)throw o;return function(t,n,e,r){const i=t[Uo];throw n[qf]&&i.unshift(n[qf]),t.message=function(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=He(n);if(Array.isArray(n))i=n.map(He).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):He(a)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(tw,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[Uo]=null,t}(o,n,"R3InjectorError",this.source)}throw o}finally{gr(s),Kf(i)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((r,i)=>n.push(He(i))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,e,r){if(!(n=Me(n)))return!1;let i=ef(n);const s=null==i&&n.ngModule||void 0,o=void 0===s?n:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=ef(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{Wn(i.imports,d=>{this.processInjectorType(d,e,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:f,providers:h}=c[d];Wn(h,g=>this.processProvider(g,f,h||Xe))}}this.injectorDefTypes.add(o);const l=Fr(o)||(()=>new o);this.records.set(o,Ei(l,Es));const u=i.providers;if(null!=u&&!a){const c=n;Wn(u,d=>this.processProvider(d,c,u))}return void 0!==s&&void 0!==n.providers}processProvider(n,e,r){let i=Si(n=Me(n))?n:Me(n&&n.provide);const s=(t=n,Ip(t)?Ei(void 0,t.useValue):Ei(Tp(t),Es));var t;if(Si(n)||!0!==n.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Ei(void 0,Es,!0),o.factory=()=>Nl(o.multi),this.records.set(i,o)),i=n,o.multi.push(n)}this.records.set(i,s)}hydrate(n,e){return e.value===Es&&(e.value=D1,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(t=e.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const e=Me(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function xu(t){const n=il(t),e=null!==n?n.factory:Fr(t);if(null!==e)return e;if(t instanceof We)throw new Error(`Token ${He(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const r=cs(n,"?");throw new Error(`Can't resolve all parameters for ${He(t)}: (${r.join(", ")}).`)}const e=function(t){const n=t&&(t[po]||t[tf]);if(n){const e=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Error("unreachable")}function Tp(t,n,e){let r;if(Si(t)){const i=Me(t);return Fr(i)||xu(i)}if(Ip(t))r=()=>Me(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Nl(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>De(Me(t.useExisting));else{const i=Me(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Fr(i)||xu(i);r=()=>new i(...Nl(t.deps))}return r}function Ei(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Ip(t){return null!==t&&"object"==typeof t&&rw in t}function Si(t){return"function"==typeof t}let Yt=(()=>{class t{static create(e,r){var i;if(Array.isArray(e))return Sp({name:""},r,e,"");{const s=null!==(i=e.name)&&void 0!==i?i:"";return Sp({name:s},e.parent,e.providers,s)}}}return t.THROW_IF_NOT_FOUND=ds,t.NULL=new Dp,t.\u0275prov=Ue({token:t,providedIn:"any",factory:()=>De(Iu)}),t.__NG_ELEMENT_ID__=-1,t})();function B1(t,n){Mo(Gl(t)[1],Dt())}let ea=null;function Mi(){if(!ea){const t=Qe.Symbol;if(t&&t.iterator)ea=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ea=r)}}}return ea}function Ss(t){return!!Lu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Mi()in t)}function Lu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yn(t,n,e){return t[n]=e}function Ms(t,n){return t[n]}function Lt(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Pr(t,n,e,r){const i=Lt(t,n,e);return Lt(t,n+1,r)||i}function ta(t,n,e,r,i){const s=Pr(t,n,e,r);return Lt(t,n+2,i)||s}function vn(t,n,e,r,i,s){const o=Pr(t,n,e,r);return Pr(t,n+2,i,s)||o}function Ts(t,n,e,r){const i=N();return Lt(i,oi(),n)&&(ze(),Kn(dt(),i,t,n,e,r)),Ts}function Ii(t,n,e,r){return Lt(t,oi(),e)?n+Ce(e)+r:be}function Is(t,n,e,r,i,s){const o=N(),a=Ii(o,n,e,r);return a!==be&&Kn(dt(),o,t,a,i,s),Is}function O(t,n,e,r,i,s,o,a){const l=N(),u=ze(),c=t+20,d=u.firstCreatePass?function(t,n,e,r,i,s,o,a,l){const u=n.consts,c=Ci(n,t,4,o||null,_r(u,a));Cu(n,e,c,_r(u,l)),Mo(n,c);const d=c.tViews=Qo(2,c,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,u,l,n,e,r,i,s,o):u.data[c];zn(d,!1);const f=l[11].createComment("");Go(u,l,f,d),Ft(f,l),Jo(l,l[c]=mp(f,l,f,d)),wo(d)&&yu(u,l,d),null!=o&&wu(l,d,a)}function ot(t){return si(ye.lFrame.contextLView,20+t)}function Y(t,n=Te.Default){const e=N();return null===e?De(t,n):Nf(Dt(),e,Me(t),n)}function x(t,n,e){const r=N();return Lt(r,oi(),n)&&on(ze(),dt(),r,t,n,r[11],e,!1),x}function Bu(t,n,e,r,i){const o=i?"class":"style";bp(t,e,n.inputs[o],o,r)}function m(t,n,e,r){const i=N(),s=ze(),o=20+t,a=i[11],l=i[o]=eu(a,n,ye.lFrame.currentNamespace),u=s.firstCreatePass?function(t,n,e,r,i,s,o){const a=n.consts,u=Ci(n,t,2,i,_r(a,s));return Cu(n,e,u,_r(a,o)),null!==u.attrs&&Xo(u,u.attrs,!1),null!==u.mergedAttrs&&Xo(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(o,s,i,0,n,e,r):s.data[o];zn(u,!0);const c=u.mergedAttrs;null!==c&&Ao(a,l,c);const d=u.classes;null!==d&&ou(a,l,d);const f=u.styles;null!==f&&jh(a,l,f),64!=(64&u.flags)&&Go(s,i,l,u),0===ye.lFrame.elementDepthCount&&Ft(l,i),ye.lFrame.elementDepthCount++,wo(u)&&(yu(s,i,u),ip(s,u,i)),null!==r&&wu(i,u)}function v(){let t=Dt();yl()?wl():(t=t.parent,zn(t,!1));const n=t;ye.lFrame.elementDepthCount--;const e=ze();e.firstCreatePass&&(Mo(e,t),dl(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Bu(e,n,N(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Bu(e,n,N(),n.stylesWithoutHost,!1)}function le(t,n,e,r){m(t,n,e,r),v()}function It(t,n,e){const r=N(),i=ze(),s=t+20,o=i.firstCreatePass?function(t,n,e,r,i){const s=n.consts,o=_r(s,r),a=Ci(n,t,8,"ng-container",o);return null!==o&&Xo(a,o,!0),Cu(n,e,a,_r(s,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,i,r,n,e):i.data[s];zn(o,!0);const a=r[s]=r[11].createComment("");Go(i,r,a,o),Ft(a,r),wo(o)&&(yu(i,r,o),ip(i,o,r)),null!=e&&wu(r,o)}function At(){let t=Dt();const n=ze();yl()?wl():(t=t.parent,zn(t,!1)),n.firstCreatePass&&(Mo(n,t),dl(t)&&n.queries.elementEnd(t))}function Zt(t,n,e){It(t,n,e),At()}function Ye(){return N()}function Vu(t){return!!t&&"function"==typeof t.then}function og(t){return!!t&&"function"==typeof t.subscribe}const Cb=og;function Ee(t,n,e,r){const i=N(),s=ze(),o=Dt();return function(t,n,e,r,i,s,o,a){const l=wo(r),c=t.firstCreatePass&&yp(t),d=n[8],f=_p(n);let h=!0;if(3&r.type||a){const F=gn(r,n),C=a?a(F):F,_=f.length,L=a?K=>a(mt(K[r.index])):r.index;if(ct(e)){let K=null;if(!a&&l&&(K=function(t,n,e,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===e&&i[s+1]===r){const a=n[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,n,i,r.index)),null!==K)(K.__ngLastListenerFn__||K).__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,h=!1;else{s=$u(r,n,d,s,!1);const ce=e.listen(C,i,s);f.push(s,ce),c&&c.push(i,L,_,_+1)}}else s=$u(r,n,d,s,!0),C.addEventListener(i,s,o),f.push(s),c&&c.push(i,L,_,o)}else s=$u(r,n,d,s,!1);const g=r.outputs;let I;if(h&&null!==g&&(I=g[i])){const F=I.length;if(F)for(let C=0;C<F;C+=2){const we=n[I[C]][I[C+1]].subscribe(s),Ct=f.length;f.push(s,we),c&&c.push(i,r.index,Ct,-(Ct+1))}}}(s,i,i[11],o,t,n,!!e,r),Ee}function ug(t,n,e,r){try{return!1!==e(r)}catch(i){return Cp(t,i),!1}}function $u(t,n,e,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?nn(t.index,n):n;0==(32&n[2])&&Eu(a);let l=ug(n,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=ug(n,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function S(t=1){return function(t){return(ye.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,ye.lFrame.contextLView))[8]}(t)}function Db(t,n){let e=null;const r=function(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?Hh(t,s,!0):RC(r,s))return i}else e=i}return e}function ra(t){const n=N()[16][6];if(!n.projection){const r=n.projection=cs(t?t.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const o=t?Db(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function ia(t,n=0,e){const r=N(),i=ze(),s=Ci(i,20+t,16,null,e||null);null===s.projection&&(s.projection=n),wl(),64!=(64&s.flags)&&function(t,n,e){Uh(n[11],0,n,e,Ih(t,e,n),Rh(e.parent||n[6],e,n))}(i,r,s)}function Pt(t,n,e){return Hu(t,"",n,"",e),Pt}function Hu(t,n,e,r,i){const s=N(),o=Ii(s,n,e,r);return o!==be&&on(ze(),dt(),s,t,o,s[11],i,!1),Hu}function _g(t,n,e,r,i){const s=t[e+1],o=null===n;let a=r?On(s):sr(s),l=!1;for(;0!==a&&(!1===l||o);){const c=t[a+1];Mb(t[a],n)&&(l=!0,t[a+1]=r?uu(c):au(c)),a=r?On(c):sr(c)}l&&(t[e+1]=r?au(s):uu(s))}function Mb(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&pi(t,n)>=0}const St={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yg(t){return t.substring(St.key,St.keyEnd)}function Tb(t){return t.substring(St.value,St.valueEnd)}function wg(t,n){const e=St.textEnd;return e===n?-1:(n=St.keyEnd=function(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,St.key=n,e),Ni(t,n,e))}function Cg(t,n){const e=St.textEnd;let r=St.key=Ni(t,n,e);return e===r?-1:(r=St.keyEnd=function(t,n,e){let r;for(;n<e&&(45===(r=t.charCodeAt(n))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)n++;return n}(t,r,e),r=Dg(t,r,e),r=St.value=Ni(t,r,e),r=St.valueEnd=function(t,n,e){let r=-1,i=-1,s=-1,o=n,a=o;for(;o<e;){const l=t.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=Eg(t,l,o,e):n===o-4&&85===s&&82===i&&76===r&&40===l?a=o=Eg(t,41,o,e):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(t,r,e),Dg(t,r,e))}function bg(t){St.key=0,St.keyEnd=0,St.value=0,St.valueEnd=0,St.textEnd=t.length}function Ni(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function Dg(t,n,e,r){return(n=Ni(t,n,e))<e&&n++,n}function Eg(t,n,e,r){let i=-1,s=e;for(;s<r;){const o=t.charCodeAt(s++);if(o==n&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function Nt(t,n){return function(t,n,e,r){const i=N(),s=ze(),o=rr(2);s.firstUpdatePass&&Tg(s,t,o,r),n!==be&&Lt(i,o,n)&&Ag(s,s.data[$t()],i,i[11],t,i[o+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=He(Cr(t)))),t}(n,e),r,o)}(t,n,null,!0),Nt}function _n(t){Pn(Ig,Ob,t,!1)}function Ob(t,n){for(let e=function(t){return bg(t),Cg(t,Ni(t,0,St.textEnd))}(n);e>=0;e=Cg(n,e))Ig(t,yg(n),Tb(n))}function zu(t){Pn(rn,Zn,t,!0)}function Zn(t,n){for(let e=function(t){return bg(t),wg(t,Ni(t,0,St.textEnd))}(n);e>=0;e=wg(n,e))rn(t,yg(n),!0)}function Pn(t,n,e,r){const i=ze(),s=rr(2);i.firstUpdatePass&&Tg(i,null,s,r);const o=N();if(e!==be&&Lt(o,s,e)){const a=i.data[$t()];if(xg(a,r)&&!Mg(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=tl(l,e||"")),Bu(i,a,o,e,r)}else!function(t,n,e,r,i,s,o,a){i===be&&(i=Xe);let l=0,u=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const f=l<i.length?i[l+1]:void 0,h=u<s.length?s[u+1]:void 0;let I,g=null;c===d?(l+=2,u+=2,f!==h&&(g=d,I=h)):null===d||null!==c&&c<d?(l+=2,g=c):(u+=2,g=d,I=h),null!==g&&Ag(t,n,e,r,g,I,o,a),c=l<i.length?i[l]:null,d=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,n,e){if(null==e||""===e)return Xe;const r=[],i=Cr(e);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&n(r,i);return r}(t,n,e),r,s)}}function Mg(t,n){return n>=t.expandoStartIndex}function Tg(t,n,e,r){const i=t.data;if(null===i[e+1]){const s=i[$t()],o=Mg(t,e);xg(s,r)&&null===n&&!o&&(n=!1),n=function(t,n,e,r){const i=function(t){const n=ye.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=As(e=Wu(null,t,n,e,r),n.attrs,r),s=null);else{const o=n.directiveStylingLast;if(-1===o||t[o]!==i)if(e=Wu(i,t,n,e,r),null===s){let l=function(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==sr(r))return t[On(r)]}(t,n,r);void 0!==l&&Array.isArray(l)&&(l=Wu(null,t,n,l[1],r),l=As(l,n.attrs,r),function(t,n,e,r){t[On(e?n.classBindings:n.styleBindings)]=r}(t,n,r,l))}else s=function(t,n,e){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=As(r,t[s].hostAttrs,e);return As(r,n.attrs,e)}(t,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),e}(i,s,n,r),function(t,n,e,r,i,s){let o=s?n.classBindings:n.styleBindings,a=On(o),l=sr(o);t[r]=e;let c,u=!1;if(Array.isArray(e)){const d=e;c=d[1],(null===c||pi(d,c)>0)&&(u=!0)}else c=e;if(i)if(0!==l){const f=On(t[a+1]);t[r+1]=Ko(f,a),0!==f&&(t[f+1]=lu(t[f+1],r)),t[a+1]=function(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=Ko(a,0),0!==a&&(t[a+1]=lu(t[a+1],r)),a=r;else t[r+1]=Ko(l,0),0===a?a=r:t[l+1]=lu(t[l+1],r),l=r;u&&(t[r+1]=au(t[r+1])),_g(t,c,r,!0),_g(t,c,r,!1),function(t,n,e,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&pi(s,n)>=0&&(e[r+1]=uu(e[r+1]))}(n,c,t,r,s),o=Ko(a,l),s?n.classBindings=o:n.styleBindings=o}(i,s,n,e,o,r)}}function Wu(t,n,e,r,i){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=n[a],r=As(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function As(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),rn(t,o,!!e||n[++s]))}return void 0===t?null:t}function Ig(t,n,e){rn(t,n,Cr(e))}function Ag(t,n,e,r,i,s,o,a){if(!(3&n.type))return;const l=t.data,u=l[a+1];sa(function(t){return 1==(1&t)}(u)?kg(l,n,e,i,sr(u),o):void 0)||(sa(s)||function(t){return 2==(2&t)}(u)&&(s=kg(l,null,e,i,a,o)),function(t,n,e,r,i){const s=ct(t);if(n)i?s?t.addClass(e,r):e.classList.add(r):s?t.removeClass(e,r):e.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:sn.DashCase;if(null==i)s?t.removeStyle(e,r,o):e.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=sn.Important),s?t.setStyle(e,r,i,o):e.style.setProperty(r,i,a?"important":"")}}}(r,o,Co($t(),e),i,s))}function kg(t,n,e,r,i,s){const o=null===n;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=e[i+1];f===be&&(f=d?Xe:void 0);let h=d?Fl(f,r):c===r?f:void 0;if(u&&!sa(h)&&(h=Fl(l,r)),sa(h)&&(a=h,o))return a;const g=t[i+1];i=o?On(g):sr(g)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=Fl(l,r))}return a}function sa(t){return void 0!==t}function xg(t,n){return 0!=(t.flags&(n?16:32))}function fe(t,n=""){const e=N(),r=ze(),i=t+20,s=r.firstCreatePass?Ci(r,i,1,n,null):r.data[i],o=e[i]=function(t,n){return ct(t)?t.createText(n):t.createTextNode(n)}(e[11],n);Go(r,e,o,s),zn(s,!1)}function Qn(t){return Ve("",t,""),Qn}function Ve(t,n,e){const r=N(),i=Ii(r,t,n,e);return i!==be&&or(r,$t(),i),Ve}function Gu(t,n,e,r,i){const s=N(),o=function(t,n,e,r,i,s){const a=Pr(t,nr(),e,i);return rr(2),a?n+Ce(e)+r+Ce(i)+s:be}(s,t,n,e,r,i);return o!==be&&or(s,$t(),o),Gu}function Nr(t,n,e){Pn(rn,Zn,Ii(N(),t,n,e),!0)}function jg(t,n,e,r,i,s,o){Pn(rn,Zn,function(t,n,e,r,i,s,o,a){const u=ta(t,nr(),e,i,o);return rr(3),u?n+Ce(e)+r+Ce(i)+s+Ce(o)+a:be}(N(),t,n,e,r,i,s,o),!0)}const Ur=void 0;var iD=["en",[["a","p"],["AM","PM"],Ur],[["AM","PM"],Ur,Ur],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ur,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ur,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ur,"{1} 'at' {0}",Ur],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let Ui={};function Jg(t){return t in Ui||(Ui[t]=Qe.ng&&Qe.ng.common&&Qe.ng.common.locales&&Qe.ng.common.locales[t]),Ui[t]}var re=(()=>((re=re||{})[re.LocaleId=0]="LocaleId",re[re.DayPeriodsFormat=1]="DayPeriodsFormat",re[re.DayPeriodsStandalone=2]="DayPeriodsStandalone",re[re.DaysFormat=3]="DaysFormat",re[re.DaysStandalone=4]="DaysStandalone",re[re.MonthsFormat=5]="MonthsFormat",re[re.MonthsStandalone=6]="MonthsStandalone",re[re.Eras=7]="Eras",re[re.FirstDayOfWeek=8]="FirstDayOfWeek",re[re.WeekendRange=9]="WeekendRange",re[re.DateFormat=10]="DateFormat",re[re.TimeFormat=11]="TimeFormat",re[re.DateTimeFormat=12]="DateTimeFormat",re[re.NumberSymbols=13]="NumberSymbols",re[re.NumberFormats=14]="NumberFormats",re[re.CurrencyCode=15]="CurrencyCode",re[re.CurrencySymbol=16]="CurrencySymbol",re[re.CurrencyName=17]="CurrencyName",re[re.Currencies=18]="Currencies",re[re.Directionality=19]="Directionality",re[re.PluralCase=20]="PluralCase",re[re.ExtraData=21]="ExtraData",re))();const oa="en-US";let Xg=oa;function Yu(t,n,e,r,i){if(t=Me(t),Array.isArray(t))for(let s=0;s<t.length;s++)Yu(t[s],n,e,r,i);else{const s=ze(),o=N();let a=Si(t)?t:Me(t.provide),l=Tp(t);const u=Dt(),c=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(Si(t)||!t.multi){const h=new is(l,i,Y),g=Qu(a,n,i?c:c+f,d);-1===g?(Oo(os(u,o),s,a),Zu(s,t,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),e.push(h),o.push(h)):(e[g]=h,o[g]=h)}else{const h=Qu(a,n,c+f,d),g=Qu(a,n,c,c+f),I=h>=0&&e[h],F=g>=0&&e[g];if(i&&!F||!i&&!I){Oo(os(u,o),s,a);const C=function(t,n,e,r,i){const s=new is(t,e,Y);return s.multi=[],s.index=n,s.componentProviders=0,Dm(s,i,r&&!e),s}(i?nE:tE,e.length,i,r,l);!i&&F&&(e[g].providerFactory=C),Zu(s,t,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),e.push(C),o.push(C)}else Zu(s,t,h>-1?h:g,Dm(e[i?g:h],l,!i&&r));!i&&r&&F&&e[g].componentProviders++}}}function Zu(t,n,e,r){const i=Si(n),s=function(t){return!!t.useClass}(n);if(i||s){const l=(s?Me(n.useClass):n).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const c=u.indexOf(e);-1===c?u.push(e,[r,l]):u[c+1].push(r,l)}else u.push(e,l)}}}function Dm(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Qu(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function tE(t,n,e,r){return Ju(this.multi,[])}function nE(t,n,e,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=as(e,e[1],this.providerFactory.index,r);s=a.slice(0,o),Ju(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Ju(i,s);return s}function Ju(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Em(t,n=[]){return e=>{e.providersResolver=(r,i)=>function(t,n,e){const r=ze();if(r.firstCreatePass){const i=kn(t);Yu(e,r.data,r.blueprint,i,!0),Yu(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class Sm{}class oE{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${He(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ar=(()=>{class t{}return t.NULL=new oE,t})();function aE(){return Bi(Dt(),N())}function Bi(t,n){return new lr(gn(t,n))}let lr=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=aE,t})();function lE(t){return t instanceof lr?t.nativeElement:t}class Tm{}let Im=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=N(),e=nn(Dt().index,t);return function(t){return t[11]}(Hn(e)?e:t)}(),t})(),dE=(()=>{class t{}return t.\u0275prov=Ue({token:t,providedIn:"root",factory:()=>null}),t})();class da{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const fE=new da("13.1.1"),Xu={};function fa(t,n,e,r,i=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&r.push(mt(s)),An(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&fa(l[1],l,u,r)}const o=e.type;if(8&o)fa(t,n,e.child,r);else if(32&o){const a=Zl(e,n);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Ph(n,e);if(Array.isArray(a))r.push(...a);else{const l=ws(n[16]);fa(l[1],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class Fs{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return fa(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(An(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(tu(n,r),Po(e,r))}this._attachedToViewContainer=!1}Th(this._lView[1],this._lView)}onDestroy(n){lp(this._lView[1],this._lView,null,n)}markForCheck(){Eu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,e){Do(!0);try{Mu(t,n,e)}finally{Do(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Cs(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class hE extends Fs{constructor(n){super(n),this._view=n}detectChanges(){vp(this._view)}checkNoChanges(){!function(t){Do(!0);try{vp(t)}finally{Do(!1)}}(this._view)}get context(){return null}}class Am extends ar{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Rt(n);return new ec(e,this.ngModule)}}function km(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}const gE=new We("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yh});class ec extends Sm{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=n.selectors.map(OC).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return km(this.componentDef.inputs)}get outputs(){return km(this.componentDef.outputs)}create(n,e,r,i){const s=(i=i||this.ngModule)?function(t,n){return{get:(e,r,i)=>{const s=t.get(e,Xu,i);return s!==Xu||r===Xu?s:n.get(e,r,i)}}}(n,i.injector):n,o=s.get(Tm,mf),a=s.get(dE,null),l=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=r?function(t,n,e){if(ct(t))return t.selectRootElement(n,e===Vn.ShadowDom);let r="string"==typeof n?t.querySelector(n):n;return r.textContent="",r}(l,r,this.componentDef.encapsulation):eu(o.createRenderer(null,this.componentDef),u,function(t){const n=t.toLowerCase();return"svg"===n?pf:"math"===n?"http://www.w3.org/1998/MathML/":null}(u)),d=this.componentDef.onPush?576:528,f=function(t,n){return{components:[],scheduler:t||yh,clean:w1,playerHandler:n||null,flags:0}}(),h=Qo(0,null,null,1,0,null,null,null,null,null),g=bs(null,h,f,d,null,null,o,l,a,s);let I,F;Eo(g);try{const C=function(t,n,e,r,i,s){const o=e[1];e[20]=t;const l=Ci(o,20,2,"#host",null),u=l.mergedAttrs=n.hostAttrs;null!==u&&(Xo(l,u,!0),null!==t&&(Ao(i,t,u),null!==l.classes&&ou(i,t,l.classes),null!==l.styles&&jh(i,t,l.styles)));const c=r.createRenderer(t,n),d=bs(e,sp(n),null,n.onPush?64:16,e[20],l,r,c,s||null,null);return o.firstCreatePass&&(Oo(os(l,e),o,n.type),hp(o,l),pp(l,e.length,1)),Jo(e,d),e[20]=d}(c,this.componentDef,g,o,l);if(c)if(r)Ao(l,c,["ng-version",fE.full]);else{const{attrs:_,classes:L}=function(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&n.push(s,t[++r]):8===i&&e.push(s);else{if(!Rn(i))break;i=s}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);_&&Ao(l,c,_),L&&L.length>0&&ou(l,c,L.join(" "))}if(F=ml(h,20),void 0!==e){const _=F.projection=[];for(let L=0;L<this.ngContentSelectors.length;L++){const K=e[L];_.push(null!=K?Array.from(K):null)}}I=function(t,n,e,r,i){const s=e[1],o=function(t,n,e){const r=Dt();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),gp(t,r,n,bi(t,n,1,null),e));const i=as(n,t,r.directiveStart,r);Ft(i,n);const s=gn(r,n);return s&&Ft(s,n),i}(s,e,n);if(r.components.push(o),t[8]=o,i&&i.forEach(l=>l(o,n)),n.contentQueries){const l=Dt();n.contentQueries(1,o,l.directiveStart)}const a=Dt();return!s.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(yr(a.index),dp(e[1],a,0,a.directiveStart,a.directiveEnd,n),fp(n,o)),o}(C,this.componentDef,g,f,[B1]),Ds(h,g,null)}finally{So()}return new _E(this.componentType,I,Bi(F,g),g,F)}}class _E extends class{}{constructor(n,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new hE(i),this.componentType=n}get injector(){return new ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class Vi{}const $i=new Map;class Om extends Vi{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Am(this);const r=fn(n);this._bootstrapComponents=qn(r.bootstrap),this._r3Injector=Mp(n,e,[{provide:Vi,useValue:this},{provide:ar,useValue:this.componentFactoryResolver}],He(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=Yt.THROW_IF_NOT_FOUND,r=Te.Default){return n===Yt||n===Vi||n===Iu?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class tc extends class{}{constructor(n){super(),this.moduleType=n,null!==fn(n)&&function(t){const n=new Set;!function e(r){const i=fn(r,!0),s=i.id;null!==s&&(function(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${He(n)} vs ${He(n.name)}`)}(s,$i.get(s),r),$i.set(s,r));const o=qn(i.imports);for(const a of o)n.has(a)||(n.add(a),e(a))}(t)}(n)}create(n){return new Om(this.moduleType,n)}}function ha(t,n,e){const r=Vt()+t,i=N();return i[r]===be?Yn(i,r,e?n.call(e):n()):Ms(i,r)}function jr(t,n,e,r){return Nm(N(),Vt(),t,n,e,r)}function nc(t,n,e,r,i){return Um(N(),Vt(),t,n,e,r,i)}function Fm(t,n,e,r,i,s){return function(t,n,e,r,i,s,o,a){const l=n+e;return ta(t,l,i,s,o)?Yn(t,l+3,a?r.call(a,i,s,o):r(i,s,o)):Ls(t,l+3)}(N(),Vt(),t,n,e,r,i,s)}function Ls(t,n){const e=t[n];return e===be?void 0:e}function Nm(t,n,e,r,i,s){const o=n+e;return Lt(t,o,i)?Yn(t,o+1,s?r.call(s,i):r(i)):Ls(t,o+1)}function Um(t,n,e,r,i,s,o){const a=n+e;return Pr(t,a,i,s)?Yn(t,a+2,o?r.call(o,i,s):r(i,s)):Ls(t,a+2)}function $e(t,n){const e=ze();let r;const i=t+20;e.firstCreatePass?(r=function(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const s=r.factory||(r.factory=Fr(r.type)),o=gr(Y);try{const a=xo(!1),l=s();return xo(a),function(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,N(),i,l),l}finally{gr(o)}}function Ge(t,n,e){const r=t+20,i=N(),s=si(i,r);return Ps(i,r)?Nm(i,Vt(),n,s.transform,e,s):s.transform(e)}function pa(t,n,e,r){const i=t+20,s=N(),o=si(s,i);return Ps(s,i)?Um(s,Vt(),n,o.transform,e,r,o):o.transform(e,r)}function Ps(t,n){return t[1].data[n].pure}function rc(t){return n=>{setTimeout(t,void 0,n)}}const Ke=class extends te{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){var i,s,o;let a=n,l=e||(()=>null),u=r;if(n&&"object"==typeof n){const d=n;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),u=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=rc(l),a&&(a=rc(a)),u&&(u=rc(u)));const c=super.subscribe({next:a,error:l,complete:u});return n instanceof T&&n.add(c),c}};function xE(){return this._results[Mi()]()}class ic{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Mi(),r=ic.prototype;r[e]||(r[e]=xE)}get changes(){return this._changes||(this._changes=new Ke)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=mn(n);(this._changesDetected=!function(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=n[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ur=(()=>{class t{}return t.__NG_ELEMENT_ID__=FE,t})();const RE=ur,OE=class extends RE{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n){const e=this._declarationTContainer.tViews,r=bs(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(e)),Ds(e,r,n),new Fs(r)}};function FE(){return ga(Dt(),N())}function ga(t,n){return 4&t.type?new OE(n,t,Bi(t,n)):null}let yn=(()=>{class t{}return t.__NG_ELEMENT_ID__=LE,t})();function LE(){return zm(Dt(),N())}const PE=yn,$m=class extends PE{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Bi(this._hostTNode,this._hostLView)}get injector(){return new ui(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ro(this._hostTNode,this._hostLView);if(Rf(n)){const e=li(n,this._hostLView),r=ai(n);return new ui(e[1].data[r+8],e)}return new ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=Hm(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){const i=n.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(n,e,r,i,s){const o=n&&!("function"==typeof n);let a;if(o)a=e;else{const d=e||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const l=o?n:new ec(Rt(n)),u=r||this.parentInjector;if(!s&&null==l.ngModule&&u){const d=u.get(Vi,null);d&&(s=d)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(n,e){const r=n._lView,i=r[1];if(An(r[3])){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const d=r[3],f=new $m(d,d[6],d[3]);f.detach(f.indexOf(n))}}const s=this._adjustIndex(e),o=this._lContainer;!function(t,n,e,r){const i=10+r,s=e.length;r>0&&(e[i-1][4]=n),r<s-10?(n[4]=e[i],$f(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const o=n[17];null!==o&&e!==o&&function(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(o,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=128}(i,r,o,s);const a=iu(s,o),l=r[11],u=Wo(l,o[7]);return null!==u&&function(t,n,e,r,i,s){r[0]=i,r[6]=n,Cs(t,r,e,1,i,s)}(i,o[6],l,r,u,a),n.attachToViewContainerRef(),$f(sc(o),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=Hm(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=tu(this._lContainer,e);r&&(Po(sc(this._lContainer),e),Th(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=tu(this._lContainer,e);return r&&null!=Po(sc(this._lContainer),e)?new Fs(r):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function Hm(t){return t[8]}function sc(t){return t[8]||(t[8]=[])}function zm(t,n){let e;const r=n[t.index];if(An(r))e=r;else{let i;if(8&t.type)i=mt(r);else{const s=n[11];i=s.createComment("");const o=gn(t,n);Lr(s,Wo(s,o),i,function(t,n){return ct(t)?t.nextSibling(n):n.nextSibling}(s,o),!1)}n[t.index]=e=mp(r,n,i,t),Jo(n,e)}return new $m(e,t,n)}class oc{constructor(n){this.queryList=n,this.matches=null}clone(){return new oc(this.queryList)}setDirty(){this.queryList.setDirty()}}class ac{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const o=e.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new ac(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==Ym(n,e).matches&&this.queries[e].setDirty()}}class Wm{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class lc{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new lc(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class uc{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new uc(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,e,jE(e,s)),this.matchTNodeWithReadOption(n,e,Fo(e,n,s,!1,!1))}else r===ur?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Fo(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===lr||i===yn||i===ur&&4&e.type)this.addMatch(e.index,-2);else{const s=Fo(e,n,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function jE(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function VE(t,n,e,r){return-1===e?function(t,n){return 11&t.type?Bi(t,n):4&t.type?ga(t,n):null}(n,t):-2===e?function(t,n,e){return e===lr?Bi(n,t):e===ur?ga(n,t):e===yn?zm(n,t):void 0}(t,n,r):as(t,t[1],e,n)}function Gm(t,n,e,r){const i=n[19].queries[r];if(null===i.matches){const s=t.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:VE(n,s[u],o[l+1],e.metadata.read))}i.matches=a}return i.matches}function cc(t,n,e,r){const i=t.queries.getByIndex(e),s=i.matches;if(null!==s){const o=Gm(t,n,i,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],c=n[-l];for(let d=10;d<c.length;d++){const f=c[d];f[17]===f[3]&&cc(f[1],f,u,r)}if(null!==c[9]){const d=c[9];for(let f=0;f<d.length;f++){const h=d[f];cc(h[1],h,u,r)}}}}}return r}function an(t){const n=N(),e=ze(),r=Df();Dl(r+1);const i=Ym(e,r);if(t.dirty&&vf(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?cc(e,n,r,[]):Gm(e,n,i,r);t.reset(s,lE),t.notifyOnChanges()}return!0}return!1}function ln(t,n,e){const r=ze();r.firstCreatePass&&(function(t,n,e){null===t.queries&&(t.queries=new lc),t.queries.track(new uc(n,e))}(r,new Wm(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),function(t,n,e){const r=new ic(4==(4&e));lp(t,n,r,r.destroy),null===n[19]&&(n[19]=new ac),n[19].queries.push(new oc(r))}(r,N(),n)}function un(){return t=N(),n=Df(),t[19].queries[n].queryList;var t,n}function Ym(t,n){return t.queries.getByIndex(n)}function ht(t,n){return ga(t,n)}function _a(...t){}const mc=new We("Application Initializer");let zi=(()=>{class t{constructor(e){this.appInits=e,this.resolve=_a,this.reject=_a,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Vu(s))e.push(s);else if(Cb(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(De(mc,8))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();const Us=new We("AppId"),uS={provide:Us,useFactory:function(){return`${vc()}${vc()}${vc()}`},deps:[]};function vc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fv=new We("Platform Initializer"),_c=new We("Platform ID"),cS=new We("appBootstrapListener");let dS=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();const Er=new We("LocaleId"),hv=new We("DefaultCurrencyCode");class fS{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let pv=(()=>{class t{compileModuleSync(e){return new tc(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=qn(fn(e).declarations).reduce((o,a)=>{const l=Rt(a);return l&&o.push(new ec(l)),o},[]);return new fS(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();const pS=(()=>Promise.resolve(0))();function yc(t){"undefined"==typeof Zone?pS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class _t{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Qe.requestAnimationFrame,n=Qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cc(t),t.isCheckStableRunning=!0,wc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,o,a)=>{try{return gv(t),e.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),mv(t)}},onInvoke:(e,r,i,s,o,a,l)=>{try{return gv(t),e.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),mv(t)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Cc(t),wc(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,n,mS,_a,_a);try{return s.runTask(o,e,r)}finally{s.cancelTask(o)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const mS={};function wc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function gv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mv(t){t._nesting--,wc(t)}class yS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}let bc=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_t.assertNotInAngularZone(),yc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(De(_t))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})(),vv=(()=>{class t{constructor(){this._applications=new Map,Dc.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Dc.findTestabilityInTree(this,e,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();class wS{addToWindow(n){}findTestabilityInTree(n,e,r){return null}}let Nn,Dc=new wS;const _v=new We("AllowMultipleToken");function yv(t,n,e=[]){const r=`Platform: ${n}`,i=new We(r);return(s=[])=>{let o=wv();if(!o||o.injector.get(_v,!1))if(t)t(e.concat(s).concat({provide:i,useValue:!0}));else{const a=e.concat(s).concat({provide:i,useValue:!0},{provide:Au,useValue:"platform"});!function(t){if(Nn&&!Nn.destroyed&&!Nn.injector.get(_v,!1))throw new Jt("400","");Nn=t.get(Cv);const n=t.get(fv,null);n&&n.forEach(e=>e())}(Yt.create({providers:a,name:r}))}return function(t){const n=wv();if(!n)throw new Jt("401","");return n}()}}function wv(){return Nn&&!Nn.destroyed?Nn:null}let Cv=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const a=function(t,n){let e;return e="noop"===t?new yS:("zone.js"===t?void 0:t)||new _t({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:_t,useValue:a}];return a.run(()=>{const u=Yt.create({providers:l,parent:this.injector,name:e.moduleType.name}),c=e.create(u),d=c.injector.get(_i,null);if(!d)throw new Jt("402","");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:h=>{d.handleError(h)}});c.onDestroy(()=>{Ec(this._modules,c),f.unsubscribe()})}),function(t,n,e){try{const r=e();return Vu(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const f=c.injector.get(zi);return f.runInitializers(),f.donePromise.then(()=>(function(t){en(t,"Expected localeId to be defined"),"string"==typeof t&&(Xg=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Er,oa)||oa),this._moduleDoBootstrap(c),c))})})}bootstrapModule(e,r=[]){const i=bv({},r);return function(t,n,e){const r=new tc(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(js);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Jt("403","");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Jt("404","");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(De(Yt))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();function bv(t,n){return Array.isArray(n)?n.reduce(bv,t):Object.assign(Object.assign({},t),n)}let js=(()=>{class t{constructor(e,r,i,s,o){this._zone=e,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new H(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new H(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{_t.assertNotInAngularZone(),yc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{_t.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=Zd(a,l.pipe(Qd()))}bootstrap(e,r){if(!this._initStatus.done)throw new Jt("405","");let i;i=e instanceof Sm?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Vi),a=i.create(Yt.NULL,[],r||i.selector,s),l=a.location.nativeElement,u=a.injector.get(bc,null),c=u&&a.injector.get(vv);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),Ec(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Jt("101","");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Ec(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(cS,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(De(_t),De(Yt),De(_i),De(ar),De(zi))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();function Ec(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let Ev=!0,Wi=(()=>{class t{}return t.__NG_ELEMENT_ID__=xS,t})();function xS(t){return function(t,n,e){if(yo(t)&&!e){const r=nn(t.index,n);return new Fs(r,r)}return 47&t.type?new Fs(n[16],n):null}(Dt(),N(),16==(16&t))}class xv{constructor(){}supports(n){return Ss(n)}create(n){return new US(n)}}const NS=(t,n)=>n;class US{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||NS}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const o=!r||e&&e.currentIndex<Ov(r,i,s)?e:r,a=Ov(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){const h=f<s.length?s[f]:s[f]=0,g=h+f;c<=g&&g<u&&(s[f]=h+1)}s[o.previousIndex]=c-u}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Ss(n))throw new Error(`Error trying to diff '${He(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,o,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),r=!0),e=e._next}else i=0,function(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Mi()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{o=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,a,o,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,i)):n=this._addAfter(new jS(e,r),s,i),n}_verifyReinsertion(n,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new Rv),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rv),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class jS{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BS{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class Rv{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new BS,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ov(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class Fv{constructor(){}supports(n){return n instanceof Map||Lu(n)}create(){return new VS}}class VS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Lu(n)))throw new Error(`Error trying to diff '${He(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new $S(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class $S{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lv(){return new Bs([new xv])}let Bs=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Lv()),deps:[[t,new ps,new gi]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'`)}}return t.\u0275prov=Ue({token:t,providedIn:"root",factory:Lv}),t})();function Pv(){return new Gi([new Fv])}let Gi=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Pv()),deps:[[t,new ps,new gi]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return t.\u0275prov=Ue({token:t,providedIn:"root",factory:Pv}),t})();const zS=[new Fv],GS=new Bs([new xv]),qS=new Gi(zS),KS=yv(null,"core",[{provide:_c,useValue:"unknown"},{provide:Cv,deps:[Yt]},{provide:vv,deps:[]},{provide:dS,deps:[]}]),XS=[{provide:js,useClass:js,deps:[_t,Yt,_i,ar,zi]},{provide:gE,deps:[_t],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(e){n.push(e)}}},{provide:zi,useClass:zi,deps:[[new gi,mc]]},{provide:pv,useClass:pv,deps:[]},uS,{provide:Bs,useFactory:function(){return GS},deps:[]},{provide:Gi,useFactory:function(){return qS},deps:[]},{provide:Er,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||oa},deps:[[new jo(Er),new gi,new ps]]},{provide:hv,useValue:"USD"}];let tM=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(De(js))},t.\u0275mod=$n({type:t}),t.\u0275inj=Mn({providers:XS}),t})(),wa=null;function Vs(){return wa}const Jn=new We("DocumentToken");var yt=(()=>((yt=yt||{})[yt.Zero=0]="Zero",yt[yt.One=1]="One",yt[yt.Two=2]="Two",yt[yt.Few=3]="Few",yt[yt.Many=4]="Many",yt[yt.Other=5]="Other",yt))();const pM=function(t){return function(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=Jg(n);if(e)return e;const r=n.split("-")[0];if(e=Jg(r),e)return e;if("en"===r)return iD;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[re.PluralCase]};class ka{}let HM=(()=>{class t extends ka{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(pM(r||this.locale)(e)){case yt.Zero:return"zero";case yt.One:return"one";case yt.Two:return"two";case yt.Few:return"few";case yt.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(De(Er))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();class qM{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dr=(()=>{class t{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new qM(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),qv(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{qv(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(Y(yn),Y(ur),Y(Bs))},t.\u0275dir=jt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function qv(t,n){t.context.$implicit=n.item}let bn=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new KM,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Kv("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Kv("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(Y(yn),Y(ur))},t.\u0275dir=jt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class KM{constructor(){this.$implicit=null,this.ngIf=null}}function Kv(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${He(n)}'.`)}class Nc{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let xa=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=jt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Yv=(()=>{class t{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new Nc(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(Y(yn),Y(ur),Y(xa,9))},t.\u0275dir=jt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Uc=(()=>{class t{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Y(lr),Y(Gi),Y(Im))},t.\u0275dir=jt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Vr=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(Y(yn))},t.\u0275dir=jt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Kt]}),t})();class QM{createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class JM{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}onDestroy(n){}}const XM=new JM,eT=new QM;let $r=(()=>{class t{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Vu(e))return XM;if(og(e))return eT;throw function(t,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${He(t)}'`)}(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(Y(Wi,16))},t.\u0275pipe=Bt({name:"async",type:t,pure:!1}),t})(),zs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$n({type:t}),t.\u0275inj=Mn({providers:[{provide:ka,useClass:HM}]}),t})();class Vc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Vc,wa||(wa=t)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=(Ws=Ws||document.querySelector("base"),Ws?Ws.getAttribute("href"):null);return null==e?null:function(t){Ra=Ra||document.createElement("a"),Ra.setAttribute("href",t);const n=Ra.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let Ra,Ws=null;const e_=new We("TRANSITION_ID"),MT=[{provide:mc,useFactory:function(t,n,e){return()=>{e.get(zi).donePromise.then(()=>{const r=Vs(),i=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[e_,Jn,Yt],multi:!0}];class $c{static init(){var t;t=new $c,Dc=t}addToWindow(n){Qe.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Qe.getAllAngularTestabilities=()=>n.getAllTestabilities(),Qe.getAllAngularRootElements=()=>n.getAllRootElements(),Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(r=>{const i=Qe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,e,r){if(null==e)return null;const i=n.getTestability(e);return null!=i?i:r?Vs().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let TT=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();const Oa=new We("EventManagerPlugins");let Fa=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(De(Oa),De(_t))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();class t_{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const i=Vs().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let n_=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})(),Gs=(()=>{class t extends n_{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(r_),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(r_))}}return t.\u0275fac=function(e){return new(e||t)(De(Jn))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();function r_(t){Vs().remove(t)}const Hc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zc=/%COMP%/g;function La(t,n,e){for(let r=0;r<n.length;r++){let i=n[r];Array.isArray(i)?La(t,i,e):(i=i.replace(zc,t),e.push(i))}return e}function o_(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Wc=(()=>{class t{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Gc(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case Vn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new OT(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case Vn.ShadowDom:return new FT(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=La(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(De(Fa),De(Gs),De(Us))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();class Gc{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Hc[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,r){n&&n.insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const s=Hc[i];s?n.setAttributeNS(s,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=Hc[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(sn.DashCase|sn.Important)?n.style.setProperty(e,r,i&sn.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&sn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,o_(r)):this.eventManager.addEventListener(n,e,o_(r))}}class OT extends Gc{constructor(n,e,r,i){super(n),this.component=r;const s=La(i+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(zc,i+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(zc,i+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class FT extends Gc{constructor(n,e,r,i){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=La(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let LT=(()=>{class t extends t_{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(De(Jn))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();const l_=["alt","control","meta","shift"],NT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u_={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},UT={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let jT=(()=>{class t extends t_{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vs().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(l_.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(e){let r="",i=function(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&u_.hasOwnProperty(n)&&(n=u_[n]))}return NT[n]||n}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),l_.forEach(s=>{s!=i&&UT[s](e)&&(r+=s+".")}),r+=i,r}static eventCallback(e,r,i){return s=>{t.getEventFullKey(s)===e&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(De(Jn))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();const zT=yv(KS,"browser",[{provide:_c,useValue:"browser"},{provide:fv,useValue:function(){Vc.makeCurrent(),$c.init()},multi:!0},{provide:Jn,useFactory:function(){return t=document,pl=t,document;var t},deps:[]}]),WT=[{provide:Au,useValue:"root"},{provide:_i,useFactory:function(){return new _i},deps:[]},{provide:Oa,useClass:LT,multi:!0,deps:[Jn,_t,_c]},{provide:Oa,useClass:jT,multi:!0,deps:[Jn]},{provide:Wc,useClass:Wc,deps:[Fa,Gs,Us]},{provide:Tm,useExisting:Wc},{provide:n_,useExisting:Gs},{provide:Gs,useClass:Gs,deps:[Jn]},{provide:bc,useClass:bc,deps:[_t]},{provide:Fa,useClass:Fa,deps:[Oa,_t]},{provide:class{},useClass:TT,deps:[]}];let GT=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Us,useValue:e.appId},{provide:e_,useExisting:Us},MT]}}}return t.\u0275fac=function(e){return new(e||t)(De(t,12))},t.\u0275mod=$n({type:t}),t.\u0275inj=Mn({providers:WT,imports:[zs,tM]}),t})();function Dn(...t){return fo(t,co(t))}function Mr(t){return!!t&&(t instanceof H||D(t.lift)&&D(t.subscribe))}"undefined"!=typeof window&&window;const{isArray:rI}=Array,{getPrototypeOf:iI,prototype:sI,keys:oI}=Object;const{isArray:uI}=Array;function fI(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function hI(...t){const n=function(t){return D(Ja(t))?t.pop():void 0}(t),{args:e,keys:r}=function(t){if(1===t.length){const n=t[0];if(rI(n))return{args:n,keys:null};if(function(t){return t&&"object"==typeof t&&iI(t)===sI}(n)){const e=oI(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}(t),i=new H(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;Bn(e[c]).subscribe(new Be(s,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?fI(r,a):a),s.complete())}))}});return n?i.pipe(function(t){return Ze(n=>function(t,n){return uI(n)?t(...n):t(n)}(t,n))}(n)):i}function Pa(...t){return Gd(1)(fo(t,co(t)))}function f_(t){return new H(n=>{Bn(t()).subscribe(n)})}const Kc={now:()=>(Kc.delegate||Date).now(),delegate:void 0};class qs extends te{constructor(n=1/0,e=1/0,r=Kc){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;e||(r.push(n),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!n.closed;o+=r?1:2)n.next(s[o]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*n;if(n<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=e.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function h_(t,n,e){var r,i;let s,o=!1;return t&&"object"==typeof t?(s=null!==(r=t.bufferSize)&&void 0!==r?r:1/0,n=null!==(i=t.windowTime)&&void 0!==i?i:1/0,o=!!t.refCount,e=t.scheduler):s=null!=t?t:1/0,Qd({connector:()=>new qs(s,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Yc(t,n){return ke((e,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();e.subscribe(new Be(r,l=>{null==i||i.unsubscribe();let u=0;const c=s++;Bn(t(l,c)).subscribe(i=new Be(r,d=>r.next(n?n(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}class Na{}let p_=(()=>{class t extends Na{getTranslation(e){return Dn({})}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Lo(t)))(r||t)}}(),t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();class Zc{}let g_=(()=>{class t{handle(e){return e.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();function Ks(t,n){if(t===n)return!0;if(null===t||null===n)return!1;if(t!=t&&n!=n)return!0;let i,s,o,e=typeof t;if(e==typeof n&&"object"==e){if(!Array.isArray(t)){if(Array.isArray(n))return!1;for(s in o=Object.create(null),t){if(!Ks(t[s],n[s]))return!1;o[s]=!0}for(s in n)if(!(s in o)&&void 0!==n[s])return!1;return!0}if(!Array.isArray(n))return!1;if((i=t.length)==n.length){for(s=0;s<i;s++)if(!Ks(t[s],n[s]))return!1;return!0}}return!1}function cn(t){return null!=t}function Qc(t){return t&&"object"==typeof t&&!Array.isArray(t)}function m_(t,n){let e=Object.assign({},t);return Qc(t)&&Qc(n)&&Object.keys(n).forEach(r=>{Qc(n[r])?r in t?e[r]=m_(t[r],n[r]):Object.assign(e,{[r]:n[r]}):Object.assign(e,{[r]:n[r]})}),e}class Ua{}let v_=(()=>{class t extends Ua{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,r){let i;return i="string"==typeof e?this.interpolateString(e,r):"function"==typeof e?this.interpolateFunction(e,r):e,i}getValue(e,r){let i="string"==typeof r?r.split("."):[r];r="";do{r+=i.shift(),!cn(e)||!cn(e[r])||"object"!=typeof e[r]&&i.length?i.length?r+=".":e=void 0:(e=e[r],r="")}while(i.length);return e}interpolateFunction(e,r){return e(r)}interpolateString(e,r){return r?e.replace(this.templateMatcher,(i,s)=>{let o=this.getValue(r,s);return cn(o)?o:i}):e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Lo(t)))(r||t)}}(),t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();class ja{}let __=(()=>{class t extends ja{compile(e,r){return e}compileTranslations(e,r){return e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Lo(t)))(r||t)}}(),t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})();class y_{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new Ke,this.onLangChange=new Ke,this.onDefaultLangChange=new Ke}}const Jc=new We("USE_STORE"),Xc=new We("USE_DEFAULT_LANG"),ed=new We("DEFAULT_LANGUAGE"),td=new We("USE_EXTEND");let Ys=(()=>{class t{constructor(e,r,i,s,o,a=!0,l=!1,u=!1,c){this.store=e,this.currentLoader=r,this.compiler=i,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=l,this.extend=u,this.pending=!1,this._onTranslationChange=new Ke,this._onLangChange=new Ke,this._onDefaultLangChange=new Ke,this._langs=[],this._translations={},this._translationRequests={},c&&this.setDefaultLang(c)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let r=this.retrieveTranslations(e);void 0!==r?(null==this.defaultLang&&(this.defaultLang=e),r.pipe(Xr(1)).subscribe(i=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return Dn(this.translations[e]);let r=this.retrieveTranslations(e);return void 0!==r?(this.currentLang||(this.currentLang=e),r.pipe(Xr(1)).subscribe(i=>{this.changeLang(e)}),r):(this.changeLang(e),Dn(this.translations[e]))}retrieveTranslations(e){let r;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),r=this._translationRequests[e]),r}getTranslation(e){this.pending=!0;const r=this.currentLoader.getTranslation(e).pipe(h_(1),Xr(1));return this.loadingTranslations=r.pipe(Ze(i=>this.compiler.compileTranslations(i,e)),h_(1),Xr(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},i),this.translations[e]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(e,r,i=!1){r=this.compiler.compileTranslations(r,e),this.translations[e]=(i||this.extend)&&this.translations[e]?m_(this.translations[e],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,r,i){let s;if(r instanceof Array){let o={},a=!1;for(let l of r)o[l]=this.getParsedResult(e,l,i),Mr(o[l])&&(a=!0);return a?hI(r.map(u=>Mr(o[u])?o[u]:Dn(o[u]))).pipe(Ze(u=>{let c={};return u.forEach((d,f)=>{c[r[f]]=d}),c})):o}if(e&&(s=this.parser.interpolate(this.parser.getValue(e,r),i)),void 0===s&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),i)),void 0===s){let o={key:r,translateService:this};void 0!==i&&(o.interpolateParams=i),s=this.missingTranslationHandler.handle(o)}return void 0!==s?s:r}get(e,r){if(!cn(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(function(t,n){return D(n)?uo(t,n,1):uo(t,1)}(i=>Mr(i=this.getParsedResult(i,e,r))?i:Dn(i)));{let i=this.getParsedResult(this.translations[this.currentLang],e,r);return Mr(i)?i:Dn(i)}}getStreamOnTranslationChange(e,r){if(!cn(e)||!e.length)throw new Error('Parameter "key" required');return Pa(f_(()=>this.get(e,r)),this.onTranslationChange.pipe(Yc(i=>{const s=this.getParsedResult(i.translations,e,r);return"function"==typeof s.subscribe?s:Dn(s)})))}stream(e,r){if(!cn(e)||!e.length)throw new Error('Parameter "key" required');return Pa(f_(()=>this.get(e,r)),this.onLangChange.pipe(Yc(i=>{const s=this.getParsedResult(i.translations,e,r);return Mr(s)?s:Dn(s)})))}instant(e,r){if(!cn(e)||!e.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],e,r);if(Mr(i)){if(e instanceof Array){let s={};return e.forEach((o,a)=>{s[e[a]]=e[a]}),s}return e}return i}set(e,r,i=this.currentLang){this.translations[i][e]=this.compiler.compile(r,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return t.\u0275fac=function(e){return new(e||t)(De(y_),De(Na),De(ja),De(Ua),De(Zc),De(Xc),De(Jc),De(td),De(ed))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})(),Zs=(()=>{class t{constructor(e,r,i){this.translateService=e,this.element=r,this._ref=i,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(s=>{s.lang===this.translateService.currentLang&&this.checkNodes(!0,s.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(s=>{this.checkNodes(!0,s.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(s=>{this.checkNodes(!0)}))}set translate(e){e&&(this.key=e,this.checkNodes())}set translateParams(e){Ks(this.currentParams,e)||(this.currentParams=e,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(e=!1,r){let i=this.element.nativeElement.childNodes;i.length||(this.setContent(this.element.nativeElement,this.key),i=this.element.nativeElement.childNodes);for(let s=0;s<i.length;++s){let o=i[s];if(3===o.nodeType){let a;if(e&&(o.lastKey=null),cn(o.lookupKey))a=o.lookupKey;else if(this.key)a=this.key;else{let l=this.getContent(o),u=l.trim();u.length&&(o.lookupKey=u,l!==o.currentValue?(a=u,o.originalContent=l||o.originalContent):o.originalContent?a=o.originalContent.trim():l!==o.currentValue&&(a=u,o.originalContent=l||o.originalContent))}this.updateValue(a,o,r)}}}updateValue(e,r,i){if(e){if(r.lastKey===e&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let s=o=>{o!==e&&(r.lastKey=e),r.originalContent||(r.originalContent=this.getContent(r)),r.currentValue=cn(o)?o:r.originalContent||e,this.setContent(r,this.key?r.currentValue:r.originalContent.replace(e,r.currentValue)),this._ref.markForCheck()};if(cn(i)){let o=this.translateService.getParsedResult(i,e,this.currentParams);Mr(o)?o.subscribe({next:s}):s(o)}else this.translateService.get(e,this.currentParams).subscribe(s)}}getContent(e){return cn(e.textContent)?e.textContent:e.data}setContent(e,r){cn(e.textContent)?e.textContent=r:e.data=r}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Y(Ys),Y(lr),Y(Wi))},t.\u0275dir=jt({type:t,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),t})(),Tr=(()=>{class t{constructor(e,r){this.translate=e,this._ref=r,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,r,i){let s=o=>{this.value=void 0!==o?o:e,this.lastKey=e,this._ref.markForCheck()};if(i){let o=this.translate.getParsedResult(i,e,r);Mr(o.subscribe)?o.subscribe(s):s(o)}this.translate.get(e,r).subscribe(s)}transform(e,...r){if(!e||!e.length)return e;if(Ks(e,this.lastKey)&&Ks(r,this.lastParams))return this.value;let i;if(cn(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){let s=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(s)}catch(o){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(i=r[0]);return this.lastKey=e,this.lastParams=r,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(Y(Ys,16),Y(Wi,16))},t.\u0275pipe=Bt({name:"translate",type:t,pure:!1}),t.\u0275prov=Ue({token:t,factory:t.\u0275fac}),t})(),Ba=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:Na,useClass:p_},e.compiler||{provide:ja,useClass:__},e.parser||{provide:Ua,useClass:v_},e.missingTranslationHandler||{provide:Zc,useClass:g_},y_,{provide:Jc,useValue:e.isolate},{provide:Xc,useValue:e.useDefaultLang},{provide:td,useValue:e.extend},{provide:ed,useValue:e.defaultLanguage},Ys]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:Na,useClass:p_},e.compiler||{provide:ja,useClass:__},e.parser||{provide:Ua,useClass:v_},e.missingTranslationHandler||{provide:Zc,useClass:g_},{provide:Jc,useValue:e.isolate},{provide:Xc,useValue:e.useDefaultLang},{provide:td,useValue:e.extend},{provide:ed,useValue:e.defaultLanguage},Ys]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$n({type:t}),t.\u0275inj=Mn({}),t})();const Va={schedule(t,n){const e=setTimeout(t,n);return()=>clearTimeout(e)},scheduleBeforeRender(t){if("undefined"==typeof window)return Va.schedule(t,0);if(void 0===window.requestAnimationFrame)return Va.schedule(t,16);const n=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(n)}};let nd;function SI(t,n,e){let r=e;return function(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}(t)&&n.some((i,s)=>!("*"===i||!function(t,n){if(!nd){const e=Element.prototype;nd=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE&&nd.call(t,n)}(t,i)||(r=s,0))),r}class TI{constructor(n,e){this.componentFactory=e.get(ar).resolveComponentFactory(n)}create(n){return new II(this.componentFactory,n)}}class II{constructor(n,e){this.componentFactory=n,this.injector=e,this.eventEmitters=new qs(1),this.events=this.eventEmitters.pipe(Yc(r=>Zd(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(_t),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(n){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(n)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Va.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(n){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(n):this.componentRef.instance[n])}setInputValue(n,e){this.runInZone(()=>{null!==this.componentRef?function(t,n){return t===n||t!=t&&n!=n}(e,this.getInputValue(n))&&(void 0!==e||!this.unchangedInputs.has(n))||(this.recordInputChange(n,e),this.unchangedInputs.delete(n),this.hasInputChanges=!0,this.componentRef.instance[n]=e,this.scheduleDetectChanges()):this.initialInputValues.set(n,e)})}initializeComponent(n){const e=Yt.create({providers:[],parent:this.injector}),r=function(t,n){const e=t.childNodes,r=n.map(()=>[]);let i=-1;n.some((s,o)=>"*"===s&&(i=o,!0));for(let s=0,o=e.length;s<o;++s){const a=e[s],l=SI(a,n,i);-1!==l&&r[l].push(a)}return r}(n,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,r,n),this.viewChangeDetectorRef=this.componentRef.injector.get(Wi),this.implementsOnChanges="function"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(js).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:n})=>{this.initialInputValues.has(n)&&this.setInputValue(n,this.initialInputValues.get(n))}),this.initialInputValues.clear()}initializeOutputs(n){const e=this.componentFactory.outputs.map(({propName:r,templateName:i})=>n.instance[r].pipe(Ze(o=>({name:i,value:o}))));this.eventEmitters.next(e)}callNgOnChanges(n){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,n.instance.ngOnChanges(e)}markViewForCheck(n){this.hasInputChanges&&(this.hasInputChanges=!1,n.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Va.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(n,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const r=this.inputChanges[n];if(r)return void(r.currentValue=e);const i=this.unchangedInputs.has(n),s=i?void 0:this.getInputValue(n);this.inputChanges[n]=new cf(s,e,i)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(n){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(n):n()}}class AI extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function w_(t,n,e,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void e(u)}a.done?n(l):Promise.resolve(l).then(r,i)}function P(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var s=t.apply(n,e);function o(l){w_(s,r,i,o,a,"next",l)}function a(l){w_(s,r,i,o,a,"throw",l)}o(void 0)})}}function Le(t,n,e,r){return new(e||(e=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function(s){return s instanceof e?s:new e(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,n||[])).next())})}class fr extends te{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}var OI=E(343);function qi(){return qi=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},qi.apply(this,arguments)}function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function LI(t,n){if(null==t)return{};var r,i,e=function(t,n){if(null==t)return{};var i,s,e={},r=Object.keys(t);for(s=0;s<r.length;s++)!(n.indexOf(i=r[s])>=0)&&(e[i]=t[i]);return e}(t,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)!(n.indexOf(r=s[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(e[r]=t[r]))}return e}function id(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function E_(t,n){if(t){if("string"==typeof t)return id(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return id(t,n)}}function Xn(t){return function(t){if(Array.isArray(t))return id(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||E_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function S_(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qs(t,n,e){return n&&S_(t.prototype,n),e&&S_(t,e),t}function w(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var jI=E(757),p=E.n(jI),BI=E(14),M_=E.n(BI);function T_(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var o,a,r=[],i=!0,s=!1;try{for(e=e.call(t);!(i=(o=e.next()).done)&&(r.push(o.value),!n||r.length!==n);i=!0);}catch(l){s=!0,a=l}finally{try{!i&&null!=e.return&&e.return()}finally{if(s)throw a}}return r}}(t,n)||E_(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zI=E(239),WI=E.n(zI),GI=E(151),qI=E.n(GI);function sd(t){return"string"==typeof t}function I_(t,n){return!!n&&sd(t)}var YI=function(n){return(0,OI.JQ)(new Uint8Array(function(t,n){var e=[];if(sd(t)&&I_(t,n)){for(var r=0,i=t.length;r<i;r++)if(t.charAt(r)){var o=n(t.charAt(r));e[r]=o}}else if(!sd(t)&&!I_(t,n))for(var a=0,l=t.length;a<l;a++)if(a in t){var c=n(t[a]);e[a]=c}return e}(n,function(e){return e.charCodeAt(0)})))};function A_(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function En(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?A_(Object(e),!0).forEach(function(r){w(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):A_(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var JI=function(){function t(n){var r,e=this;Ir(this,t),w(this,"_channel",void 0),w(this,"watcher_count",void 0),w(this,"typing",void 0),w(this,"read",void 0),w(this,"messages",void 0),w(this,"pinnedMessages",void 0),w(this,"threads",void 0),w(this,"mutedUsers",void 0),w(this,"watchers",void 0),w(this,"members",void 0),w(this,"unreadCount",void 0),w(this,"membership",void 0),w(this,"last_message_at",void 0),w(this,"isUpToDate",void 0),w(this,"setIsUpToDate",function(i){e.isUpToDate=i}),w(this,"removeMessageFromArray",function(i,s){var o=i.filter(function(a){return!(a.id&&s.id&&a.id===s.id)});return{removed:o.length<i.length,result:o}}),w(this,"updateUserMessages",function(i){var s=function(l,u){for(var c=0;c<l.length;c++){var d,f=l[c];(null===(d=f.user)||void 0===d?void 0:d.id)===u.id&&(l[c]=En(En({},f),{},{user:u}))}};for(var o in s(e.messages,i),e.threads)s(e.threads[o],i);s(e.pinnedMessages,i)}),w(this,"deleteUserMessages",function(i){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=function(u,c){for(var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=0;f<u.length;f++){var h,g=u[f];(null===(h=g.user)||void 0===h?void 0:h.id)===c.id&&(u[f]=d?{cid:g.cid,created_at:g.created_at,deleted_at:c.deleted_at,id:g.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:g.parent_id,reply_count:g.reply_count,status:g.status,thread_participants:g.thread_participants,type:"deleted",updated_at:g.updated_at,user:g.user}:En(En({},g),{},{type:"deleted",deleted_at:c.deleted_at}))}};for(var a in o(e.messages,i,s),e.threads)o(e.threads[a],i,s);o(e.pinnedMessages,i,s)}),this._channel=n,this.watcher_count=0,this.typing={},this.read={},this.messages=[],this.pinnedMessages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=null!=(null==n||null===(r=n.state)||void 0===r?void 0:r.last_message_at)?new Date(n.state.last_message_at):null}return Qs(t,[{key:"addMessageSorted",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.addMessagesSorted([e],r,!1,i)}},{key:"formatMessage",value:function(e){return En(En({},e),{},{__html:e.html,pinned_at:e.pinned_at?new Date(e.pinned_at):null,created_at:e.created_at?new Date(e.created_at):new Date,updated_at:e.updated_at?new Date(e.updated_at):new Date,status:e.status||"received"})}},{key:"addMessagesSorted",value:function(e){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=0;o<e.length;o+=1){var a,l=this.formatMessage(e[o]);l.user&&null!==(a=this._channel)&&void 0!==a&&a.cid&&this._channel.getClient().state.updateUserReference(l.user,this._channel.cid),i&&l.id&&this.threads[l.id]&&delete this.threads[l.id],this.last_message_at||(this.last_message_at=new Date(l.created_at.getTime())),l.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(l.created_at.getTime()));var u=l.parent_id;if((!u||l.show_in_channel)&&(this.messages=this._addToMessageList(this.messages,l,r,"created_at",s)),u&&!i){var c=this.threads[u]||[],d=this._addToMessageList(c,l,r,"created_at",s);this.threads[u]=d}}}},{key:"addPinnedMessages",value:function(e){for(var r=0;r<e.length;r+=1)this.addPinnedMessage(e[r])}},{key:"addPinnedMessage",value:function(e){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(e),!1,"pinned_at")}},{key:"removePinnedMessage",value:function(e){var r=this.removeMessageFromArray(this.pinnedMessages,e);this.pinnedMessages=r.result}},{key:"addReaction",value:function(e,r,i){var s=this;if(r){var o=r;return this._updateMessage(r,function(a){return o.own_reactions=s._addOwnReactionToMessage(a.own_reactions,e,i),s.formatMessage(o)}),o}}},{key:"_addOwnReactionToMessage",value:function(e,r,i){return e=(e=i?[]:this._removeOwnReactionFromMessage(e,r))||[],this._channel.getClient().userID===r.user_id&&e.push(r),e}},{key:"_removeOwnReactionFromMessage",value:function(e,r){return e&&e.filter(function(i){return i.user_id!==r.user_id||i.type!==r.type})}},{key:"removeReaction",value:function(e,r){var i=this;if(r){var s=r;return this._updateMessage(r,function(o){return s.own_reactions=i._removeOwnReactionFromMessage(o.own_reactions,e),i.formatMessage(s)}),s}}},{key:"removeQuotedMessageReferences",value:function(e){var i=this.messages.filter(function(s){return s.quoted_message_id===e.id}).map(function(o){var a,l;return En(En({},o),{},{created_at:o.created_at.toString(),pinned_at:null===(a=o.pinned_at)||void 0===a?void 0:a.toString(),updated_at:null===(l=o.updated_at)||void 0===l?void 0:l.toString()})}).map(function(s){return En(En({},s),{},{quoted_message:En(En({},e),{},{attachments:[]})})});this.addMessagesSorted(i,!0)}},{key:"_updateMessage",value:function(e,r){var i=e.parent_id,s=e.show_in_channel,o=e.pinned;if(i&&this.threads[i]){var a=this.threads[i],l=a.findIndex(function(d){return d.id===e.id});-1!==l&&(a[l]=r(a[l]),this.threads[i]=a)}if(!s&&!i||s){var u=this.messages.findIndex(function(d){return d.id===e.id});-1!==u&&(this.messages[u]=r(this.messages[u]))}if(o){var c=this.pinnedMessages.findIndex(function(d){return d.id===e.id});-1!==c&&(this.pinnedMessages[c]=r(this.pinnedMessages[c]))}}},{key:"_addToMessageList",value:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"created_at",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=o||i,l=e;i&&(l=l.filter(function(I){return!(I.id&&r.id===I.id)}));var u=l.length;if(0===u&&a)return l.concat(r);if(0===u)return Xn(l);var c=r[s].getTime(),d=l[u-1][s].getTime()<c;if(d&&a)return l.concat(r);if(d)return Xn(l);for(var f=0,h=0,g=u-1;f<=g;)l[h=Math.floor((g+f)/2)][s].getTime()<=c?f=h+1:g=h-1;if(!i&&r.id){if(l[f]&&r.id===l[f].id)return l[f]=r,Xn(l);if(l[f-1]&&r.id===l[f-1].id)return l[f-1]=r,Xn(l)}return a&&l.splice(f,0,r),Xn(l)}},{key:"removeMessage",value:function(e){var r=!1;if(e.parent_id&&this.threads[e.parent_id]){var i=this.removeMessageFromArray(this.threads[e.parent_id],e),s=i.removed;this.threads[e.parent_id]=i.result,r=s}else{var a=this.removeMessageFromArray(this.messages,e),l=a.removed;this.messages=a.result,r=l}return r}},{key:"filterErrorMessages",value:function(){var e=this.messages.filter(function(r){return"error"!==r.type});this.messages=e}},{key:"clean",value:function(){for(var e=new Date,r=0,i=Object.entries(this.typing);r<i.length;r++){var s=T_(i[r],2),o=s[0],a=s[1],l="string"==typeof a.received_at?new Date(a.received_at):a.received_at||new Date;e.getTime()-l.getTime()>7e3&&(delete this.typing[o],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:o}}))}}},{key:"clearMessages",value:function(){this.messages=[],this.pinnedMessages=[]}}]),t}();function k_(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function x_(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?k_(Object(e),!0).forEach(function(r){w(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):k_(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var eA=x_(x_({},{"channel.created":!0,"channel.deleted":!0,"channel.hidden":!0,"channel.muted":!0,"channel.truncated":!0,"channel.unmuted":!0,"channel.updated":!0,"channel.visible":!0,"health.check":!0,"member.added":!0,"member.removed":!0,"member.updated":!0,"message.deleted":!0,"message.new":!0,"message.read":!0,"message.updated":!0,"notification.added_to_channel":!0,"notification.channel_deleted":!0,"notification.channel_mutes_updated":!0,"notification.channel_truncated":!0,"notification.invite_accepted":!0,"notification.invite_rejected":!0,"notification.invited":!0,"notification.mark_read":!0,"notification.message_new":!0,"notification.mutes_updated":!0,"notification.removed_from_channel":!0,"reaction.deleted":!0,"reaction.new":!0,"reaction.updated":!0,"typing.start":!0,"typing.stop":!0,"user.banned":!0,"user.deleted":!0,"user.presence.changed":!0,"user.unbanned":!0,"user.updated":!0,"user.watching.start":!0,"user.watching.stop":!0,"connection.changed":!0,"connection.recovered":!0}),{},{all:!0}),Ha=function(n){return eA[n]||!1};function R_(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var Js=function(n){return new Promise(function(e){return setTimeout(e,n)})};function od(t){return t&&("[object Function]"===Object.prototype.toString.call(t)||"function"==typeof t||t instanceof Function)}function aA(t){return{channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,invisible:!0,roles:!0}[t]}function Ki(t){var i,n=[],r=function(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return R_(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return R_(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var u=e.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(Array.isArray(t)?t:[t]);try{for(r.s();!(i=r.n()).done;){var o=Object.entries(i.value);o.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(var a=0,l=o;a<l.length;a++){var u=T_(l[a],2);n.push({field:u[0],direction:u[1]})}}}catch(f){r.e(f)}finally{r.f()}return n}function O_(t){var n=Math.min(500+2e3*t,25e3),e=Math.min(Math.max(250,2e3*(t-1)),25e3);return Math.floor(Math.random()*(n-e)+e)}function Yi(){return(n=new Uint8Array(16),dA(n),t=n)[6]=15&t[6]|64,t[8]=191&t[8]|128,eo(t.subarray(0,4))+"-"+eo(t.subarray(4,6))+"-"+eo(t.subarray(6,8))+"-"+eo(t.subarray(8,10))+"-"+eo(t.subarray(10,16));var n,t}function eo(t){for(var n="",e=0;e<t.length;e++)n+=t[e].toString(16).padStart(2,"0");return n}var dA="undefined"!=typeof crypto?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):function(t){for(var n=Math.pow(2,8*t.byteLength/t.length),e=0;e<t.length;e++)t[e]=Math.random()*n};function hA(t){var n={};if(!t)return n;try{Object.getOwnPropertyNames(t).forEach(function(e){n[e]=Object.getOwnPropertyDescriptor(t,e)})}catch(e){return{error:"failed to serialize the error"}}return n}function za(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return F_(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return F_(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var u=e.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&null!=e.return&&e.return()}finally{if(o)throw a}}}}function F_(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function L_(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function lt(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?L_(Object(e),!0).forEach(function(r){w(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):L_(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var ad=function(){function t(n,e,r,i){var s=this;if(Ir(this,t),w(this,"_client",void 0),w(this,"type",void 0),w(this,"id",void 0),w(this,"data",void 0),w(this,"_data",void 0),w(this,"cid",void 0),w(this,"listeners",void 0),w(this,"state",void 0),w(this,"initialized",void 0),w(this,"lastKeyStroke",void 0),w(this,"lastTypingEvent",void 0),w(this,"isTyping",void 0),w(this,"disconnected",void 0),w(this,"create",P(p().mark(function l(){var u;return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return u={watch:!1,state:!1,presence:!1},d.next=3,s.query(u);case 3:return d.abrupt("return",d.sent);case 4:case"end":return d.stop()}},l)}))),w(this,"_callChannelListeners",function(l){var u=s,c=[];u.listeners.all&&c.push.apply(c,Xn(u.listeners.all)),u.listeners[l.type]&&c.push.apply(c,Xn(u.listeners[l.type]));for(var d=0,f=c;d<f.length;d++){var h=f[d];"string"!=typeof h&&h(l)}}),w(this,"_channelURL",function(){if(!s.id)throw new Error("channel id is not defined");return"".concat(s.getClient().baseURL,"/channels/").concat(s.type,"/").concat(s.id)}),!/^[\w_-]+$/.test(e))throw new Error("Invalid chat type ".concat(e,', letters, numbers and "_-" are allowed'));if("string"==typeof r&&!/^[\w!_-]+$/.test(r))throw new Error("Invalid chat id ".concat(r,', letters, numbers and "!-_" are allowed'));this._client=n,this.type=e,this.id=r,this.data=i,this._data=lt({},i),this.cid="".concat(e,":").concat(r),this.listeners={},this.state=new JI(this),this.initialized=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1}return Qs(t,[{key:"getClient",value:function(){if(!0===this.disconnected)throw Error("You can't use a channel after client.disconnect() was called");return this._client}},{key:"getConfig",value:function(){return this.getClient().configs[this.type]}},{key:"sendMessage",value:(n=P(p().mark(function r(i,s){var o;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getClient().post(this._channelURL()+"/message",lt({message:i},s));case 2:return o=l.sent,this.state.unreadCount=0,l.abrupt("return",o);case 5:case"end":return l.stop()}},r,this)})),function(r,i){return n.apply(this,arguments)})},{key:"sendFile",value:function(e,r,i,s){return this.getClient().sendFile("".concat(this._channelURL(),"/file"),e,r,i,s)}},{key:"sendImage",value:function(e,r,i,s){return this.getClient().sendFile("".concat(this._channelURL(),"/image"),e,r,i,s)}},{key:"deleteFile",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/file"),{url:e})}},{key:"deleteImage",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/image"),{url:e})}},{key:"sendEvent",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this._checkInitialized(),o.next=3,this.getClient().post(this._channelURL()+"/event",{event:i});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"search",value:function(){var n=P(p().mark(function r(i){var s,o,a=arguments;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(s=a.length>1&&void 0!==a[1]?a[1]:{}).offset||!s.sort&&!s.next){u.next=3;break}throw Error("Cannot specify offset with sort or next parameters");case 3:if(o=lt(lt({filter_conditions:{cid:this.cid}},s),{},{sort:s.sort?Ki(s.sort):void 0}),"string"!=typeof i){u.next=8;break}o.query=i,u.next=13;break;case 8:if("object"!==hr(i)){u.next=12;break}o.message_filter_conditions=i,u.next=13;break;case 12:throw Error("Invalid type ".concat(hr(i)," for query parameter"));case 13:return u.next=15,this.getClient().wsPromise;case 15:return u.next=17,this.getClient().get(this.getClient().baseURL+"/search",{payload:o});case 17:return u.abrupt("return",u.sent);case 18:case"end":return u.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"queryMembers",value:function(){var n=P(p().mark(function r(i){var s,o,a,l,u,c,d=arguments;return p().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return o=d.length>1&&void 0!==d[1]?d[1]:[],a=d.length>2&&void 0!==d[2]?d[2]:{},u=this.type,this.id?l=this.id:null!==(s=this.data)&&void 0!==s&&s.members&&Array.isArray(this.data.members)&&(c=this.data.members),h.next=6,this.getClient().get(this.getClient().baseURL+"/members",{payload:lt({type:u,id:l,members:c,sort:Ki(o),filter_conditions:i},a)});case 6:return h.abrupt("return",h.sent);case 7:case"end":return h.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"sendReaction",value:function(){var n=P(p().mark(function r(i,s,o){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i){l.next=2;break}throw Error("Message id is missing");case 2:if(s&&0!==Object.keys(s).length){l.next=4;break}throw Error("Reaction object is missing");case 4:return l.next=6,this.getClient().post(this.getClient().baseURL+"/messages/".concat(i,"/reaction"),lt({reaction:s},o));case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}},r,this)}));return function(r,i,s){return n.apply(this,arguments)}}()},{key:"deleteReaction",value:function(e,r,i){if(this._checkInitialized(),!r||!e)throw Error("Deleting a reaction requires specifying both the message and reaction type");var s=this.getClient().baseURL+"/messages/".concat(e,"/reaction/").concat(r);return i?this.getClient().delete(s,{user_id:i}):this.getClient().delete(s,{})}},{key:"update",value:function(){var n=P(p().mark(function r(){var i,s,o,l=arguments;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=l.length>0&&void 0!==l[0]?l[0]:{},s=l.length>1?l[1]:void 0,o=l.length>2?l[2]:void 0,["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"].forEach(function(d){delete i[d]}),c.next=7,this._update(lt({message:s,data:i},o));case 7:return c.abrupt("return",c.sent);case 8:case"end":return c.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"updatePartial",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getClient().patch(this._channelURL(),i);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"enableSlowMode",value:function(){var n=P(p().mark(function r(i){var s;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getClient().post(this._channelURL(),{cooldown:i});case 2:return this.data=(s=a.sent).channel,a.abrupt("return",s);case 5:case"end":return a.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"disableSlowMode",value:function(){var n=P(p().mark(function r(){var i;return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getClient().post(this._channelURL(),{cooldown:0});case 2:return this.data=(i=o.sent).channel,o.abrupt("return",i);case 5:case"end":return o.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"delete",value:function(){var n=P(p().mark(function r(){return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getClient().delete(this._channelURL(),{});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"truncate",value:function(){var n=P(p().mark(function r(){return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getClient().post(this._channelURL()+"/truncate",{});case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"acceptInvite",value:function(){var n=P(p().mark(function r(){var i,s=arguments;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=s.length>0&&void 0!==s[0]?s[0]:{},a.next=3,this._update(lt({accept_invite:!0},i));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"rejectInvite",value:function(){var n=P(p().mark(function r(){var i,s=arguments;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=s.length>0&&void 0!==s[0]?s[0]:{},a.next=3,this._update(lt({reject_invite:!0},i));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"addMembers",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._update({add_members:i,message:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"addModerators",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._update({add_moderators:i,message:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"assignRoles",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._update({assign_roles:i,message:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"inviteMembers",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._update({invites:i,message:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"removeMembers",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._update({remove_members:i,message:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"demoteModerators",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._update({demote_moderators:i,message:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"_update",value:function(){var n=P(p().mark(function r(i){var s;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getClient().post(this._channelURL(),i);case 2:return this.data=(s=a.sent).channel,a.abrupt("return",s);case 5:case"end":return a.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"mute",value:function(){var n=P(p().mark(function r(){var i,s=arguments;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=s.length>0&&void 0!==s[0]?s[0]:{},a.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",lt({channel_cid:this.cid},i));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"unmute",value:function(){var n=P(p().mark(function r(){var i,s=arguments;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=s.length>0&&void 0!==s[0]?s[0]:{},a.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",lt({channel_cid:this.cid},i));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"muteStatus",value:function(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}},{key:"sendAction",value:function(e,r){if(this._checkInitialized(),!e)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+"/messages/".concat(e,"/action"),{message_id:e,form_data:r,id:this.id,type:this.type})}},{key:"keystroke",value:function(){var n=P(p().mark(function r(i){var s,o,a;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(null!==(s=this.getConfig())&&void 0!==s&&s.typing_events){u.next=2;break}return u.abrupt("return");case 2:if(o=new Date,a=this.lastTypingEvent&&o.getTime()-this.lastTypingEvent.getTime(),this.lastKeyStroke=o,this.isTyping=!0,!(null===a||a>2e3)){u.next=10;break}return this.lastTypingEvent=new Date,u.next=10,this.sendEvent({type:"typing.start",parent_id:i});case 10:case"end":return u.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"stopTyping",value:function(){var n=P(p().mark(function r(i){var s;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(null!==(s=this.getConfig())&&void 0!==s&&s.typing_events){a.next=2;break}return a.abrupt("return");case 2:return this.lastTypingEvent=null,this.isTyping=!1,a.next=6,this.sendEvent({type:"typing.stop",parent_id:i});case 6:case"end":return a.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"lastMessage",value:function(){var e=this.state.messages.length-5;e<0&&(e=0);var i=this.state.messages.slice(e,this.state.messages.length+1);return i.sort(function(s,o){return o.created_at.getTime()-s.created_at.getTime()}),i[0]}},{key:"markRead",value:function(){var n=P(p().mark(function r(){var i,s,o=arguments;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=o.length>0&&void 0!==o[0]?o[0]:{},this._checkInitialized(),null!==(i=this.getConfig())&&void 0!==i&&i.read_events){l.next=4;break}return l.abrupt("return",Promise.resolve(null));case 4:return l.next=6,this.getClient().post(this._channelURL()+"/read",lt({},s));case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"clean",value:function(){this.lastKeyStroke&&(new Date).getTime()-this.lastKeyStroke.getTime()>1e3&&this.isTyping&&function(t,n){t.then().catch(function(e){console.warn("failed to do ".concat("stop typing event",", ran into error: "),e)})}(this.stopTyping()),this.state.clean()}},{key:"watch",value:function(){var n=P(p().mark(function r(i){var s,o,a;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s={state:!0,watch:!0,presence:!1},u.next=3,this.getClient().wsPromise;case 3:return this.getClient()._hasConnectionID()||(s.watch=!1),o=lt(lt({},s),i),u.next=7,this.query(o);case 7:return a=u.sent,this.initialized=!0,this.data=a.channel,this._client.logger("info","channel:watch() - started watching channel ".concat(this.cid),{tags:["channel"],channel:this}),u.abrupt("return",a);case 12:case"end":return u.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"stopWatching",value:function(){var n=P(p().mark(function r(){var i;return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getClient().post(this._channelURL()+"/stop-watching",{});case 2:return i=o.sent,this._client.logger("info","channel:watch() - stopped watching channel ".concat(this.cid),{tags:["channel"],channel:this}),o.abrupt("return",i);case 5:case"end":return o.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"getReplies",value:function(){var n=P(p().mark(function r(i,s){var o;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getClient().get(this.getClient().baseURL+"/messages/".concat(i,"/replies"),lt({},s));case 2:return(o=l.sent).messages&&this.state.addMessagesSorted(o.messages),l.abrupt("return",o);case 5:case"end":return l.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"getReactions",value:function(e,r){return this.getClient().get(this.getClient().baseURL+"/messages/".concat(e,"/reactions"),lt({},r))}},{key:"getMessagesById",value:function(e){return this.getClient().get(this._channelURL()+"/messages",{ids:e.join(",")})}},{key:"lastRead",value:function(){this._checkInitialized();var r=this.getClient().userID;if(r)return this.state.read[r]?this.state.read[r].last_read:null}},{key:"_countMessageAsUnread",value:function(e){var r,i;return!(e.shadowed||e.silent||(null===(r=e.user)||void 0===r?void 0:r.id)===this.getClient().userID||null!==(i=e.user)&&void 0!==i&&i.id&&this.getClient().userMuteStatus(e.user.id)||"system"===e.type||this.muteStatus().muted)}},{key:"countUnread",value:function(e){if(!e)return this.state.unreadCount;for(var r=0,i=0;i<this.state.messages.length;i+=1){var s=this.state.messages[i];s.created_at>e&&this._countMessageAsUnread(s)&&r++}return r}},{key:"countUnreadMentions",value:function(){for(var e=this.lastRead(),r=this.getClient().userID,i=0,s=0;s<this.state.messages.length;s+=1){var o,a=this.state.messages[s];this._countMessageAsUnread(a)&&(!e||a.created_at>e)&&null!==(o=a.mentioned_users)&&void 0!==o&&o.some(function(l){return l.id===r})&&i++}return i}},{key:"query",value:function(){var n=P(p().mark(function r(i){var s,o,a,l;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.getClient().wsPromise;case 2:return s="".concat(this.getClient().baseURL,"/channels/").concat(this.type),this.id&&(s+="/".concat(this.id)),c.next=6,this.getClient().post(s+"/query",lt({data:this._data,state:!0},i));case 6:return o=c.sent,this.id||(this.id=o.channel.id,this.cid=o.channel.cid,a=o.members.map(function(d){var f;return d.user_id||(null===(f=d.user)||void 0===f?void 0:f.id)}).sort().join(","),(l="".concat(this.type,":!members-").concat(a))in this.getClient().activeChannels&&delete this.getClient().activeChannels[l],this.cid in this.getClient().activeChannels||(this.getClient().activeChannels[this.cid]=this)),this.getClient()._addChannelConfig(o),this._initializeState(o),c.abrupt("return",o);case 11:case"end":return c.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"banUser",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this._checkInitialized(),a.next=3,this.getClient().banUser(i,lt(lt({},s),{},{type:this.type,id:this.id}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"hide",value:function(){var n=P(p().mark(function r(){var i,s,o=arguments;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>0&&void 0!==o[0]?o[0]:null,s=o.length>1&&void 0!==o[1]&&o[1],this._checkInitialized(),l.next=5,this.getClient().post("".concat(this._channelURL(),"/hide"),{user_id:i,clear_history:s});case 5:return l.abrupt("return",l.sent);case 6:case"end":return l.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"show",value:function(){var n=P(p().mark(function r(){var i,s=arguments;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=s.length>0&&void 0!==s[0]?s[0]:null,this._checkInitialized(),a.next=4,this.getClient().post("".concat(this._channelURL(),"/show"),{user_id:i});case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"unbanUser",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this._checkInitialized(),o.next=3,this.getClient().unbanUser(i,{type:this.type,id:this.id});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"shadowBan",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this._checkInitialized(),a.next=3,this.getClient().shadowBan(i,lt(lt({},s),{},{type:this.type,id:this.id}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"removeShadowBan",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this._checkInitialized(),o.next=3,this.getClient().removeShadowBan(i,{type:this.type,id:this.id});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"on",value:function(e,r){var i=this,s=r?e:"all";if(!Ha(s))throw Error("Invalid event type ".concat(s));var a=r||e;return s in this.listeners||(this.listeners[s]=[]),this._client.logger("info","Attaching listener for ".concat(s," event on channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[s].push(a),{unsubscribe:function(){i._client.logger("info","Removing listener for ".concat(s," event from channel ").concat(i.cid),{tags:["event","channel"],channel:i}),i.listeners[s]=i.listeners[s].filter(function(u){return u!==a})}}}},{key:"off",value:function(e,r){var i=r?e:"all";if(!Ha(i))throw Error("Invalid event type ".concat(i));var o=r||e;i in this.listeners||(this.listeners[i]=[]),this._client.logger("info","Removing listener for ".concat(i," event from channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[i]=this.listeners[i].filter(function(a){return a!==o})}},{key:"_handleChannelEvent",value:function(e){var r,i,s,o,a,l,u,c=this;this._client.logger("info","channel:_handleChannelEvent - Received event of type { ".concat(e.type," } on ").concat(this.cid),{tags:["event","channel"],channel:this});var d=c.state;switch(e.type){case"typing.start":null!==(r=e.user)&&void 0!==r&&r.id&&(d.typing[e.user.id]=e);break;case"typing.stop":null!==(i=e.user)&&void 0!==i&&i.id&&delete d.typing[e.user.id];break;case"message.read":var f,h;null!==(s=e.user)&&void 0!==s&&s.id&&(d.read[e.user.id]={last_read:e.received_at,user:e.user},(null===(f=e.user)||void 0===f?void 0:f.id)===(null===(h=this.getClient().user)||void 0===h?void 0:h.id)&&(d.unreadCount=0));break;case"user.watching.start":case"user.updated":null!==(o=e.user)&&void 0!==o&&o.id&&(d.watchers[e.user.id]=e.user);break;case"user.watching.stop":null!==(a=e.user)&&void 0!==a&&a.id&&delete d.watchers[e.user.id];break;case"message.deleted":e.message&&(e.hard_delete?d.removeMessage(e.message):d.addMessageSorted(e.message,!1,!1),d.removeQuotedMessageReferences(e.message),e.message.pinned&&d.removePinnedMessage(e.message));break;case"message.new":if(e.message){var g,I,F,C=(null===(g=e.user)||void 0===g?void 0:g.id)===(null===(I=this.getClient().user)||void 0===I?void 0:I.id);(this.state.isUpToDate||e.message.parent_id&&!e.message.show_in_channel)&&d.addMessageSorted(e.message,C),e.message.pinned&&d.addPinnedMessage(e.message),C&&null!==(F=e.user)&&void 0!==F&&F.id?(d.unreadCount=0,d.read[e.user.id]={last_read:new Date(e.created_at),user:e.user}):this._countMessageAsUnread(e.message)&&(d.unreadCount=d.unreadCount+1)}break;case"message.updated":e.message&&(d.addMessageSorted(e.message,!1,!1),e.message.pinned?d.addPinnedMessage(e.message):d.removePinnedMessage(e.message));break;case"channel.truncated":d.clearMessages(),d.unreadCount=0;break;case"member.added":case"member.updated":null!==(l=e.member)&&void 0!==l&&l.user_id&&(d.members[e.member.user_id]=e.member);break;case"member.removed":null!==(u=e.user)&&void 0!==u&&u.id&&delete d.members[e.user.id];break;case"channel.updated":e.channel&&(c.data=e.channel);break;case"reaction.new":e.message&&e.reaction&&(e.message=d.addReaction(e.reaction,e.message));break;case"reaction.deleted":e.reaction&&(e.message=d.removeReaction(e.reaction,e.message));break;case"reaction.updated":e.reaction&&(e.message=d.addReaction(e.reaction,e.message,!0));break;case"channel.hidden":e.clear_history&&d.clearMessages()}void 0!==e.watcher_count&&(c.state.watcher_count=e.watcher_count)}},{key:"_checkInitialized",value:function(){if(!this.initialized&&!this.getClient()._isUsingServerAuth())throw Error("Channel ".concat(this.cid," hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve"))}},{key:"_initializeState",value:function(e){var r=this.getClient(),i=r.state,s=r.user,o=r.userID;if(e.members){var l,a=za(e.members);try{for(a.s();!(l=a.n()).done;){var u=l.value;u.user&&i.updateUserReference(u.user,this.cid)}}catch(we){a.e(we)}finally{a.f()}}this.state.membership=e.membership||{};var c=e.messages||[];if(this.state.messages||(this.state.messages=[]),this.state.addMessagesSorted(c,!1,!0),this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(e.pinned_messages||[]),this.state.watcher_count=e.watcher_count||0,e.watchers){var f,d=za(e.watchers);try{for(d.s();!(f=d.n()).done;){var h=f.value;h&&(i.updateUserReference(h,this.cid),this.state.watchers[h.id]=h)}}catch(we){d.e(we)}finally{d.f()}}if(null!=o){var g=this.state.last_message_at||new Date;s&&(this.state.read[s.id]={user:s,last_read:g})}if(e.read){var F,I=za(e.read);try{for(I.s();!(F=I.n()).done;){var C=F.value,_=lt(lt({},C),{},{last_read:new Date(C.last_read)});this.state.read[C.user.id]=_,C.user.id===(null==s?void 0:s.id)&&"number"==typeof _.unread_messages&&(this.state.unreadCount=_.unread_messages)}}catch(we){I.e(we)}finally{I.f()}}if(e.members){var K,L=za(e.members);try{for(L.s();!(K=L.n()).done;){var ce=K.value;ce.user&&(this.state.members[ce.user.id]=ce)}}catch(we){L.e(we)}finally{L.f()}}}},{key:"_disconnect",value:function(){this._client.logger("info","channel:disconnect() - Disconnecting the channel ".concat(this.cid),{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}}]),t;var n}();function P_(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var N_=function(){function t(){Ir(this,t),w(this,"users",void 0),w(this,"userChannelReferences",void 0),this.users={},this.userChannelReferences={}}return Qs(t,[{key:"updateUsers",value:function(e){var i,r=function(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return P_(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return P_(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var u=e.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&null!=e.return&&e.return()}finally{if(o)throw a}}}}(e);try{for(r.s();!(i=r.n()).done;)this.updateUser(i.value)}catch(o){r.e(o)}finally{r.f()}}},{key:"updateUser",value:function(e){null!=e&&(this.users[e.id]=e)}},{key:"updateUserReference",value:function(e,r){null!=e&&(this.updateUser(e),this.userChannelReferences[e.id]||(this.userChannelReferences[e.id]={}),this.userChannelReferences[e.id][r]=!0)}},{key:"deleteAllChannelReference",value:function(e){for(var r in this.userChannelReferences)delete this.userChannelReferences[r][e]}}]),t}();function U_(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function j_(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?U_(Object(e),!0).forEach(function(r){w(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):U_(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var vA=function t(){Ir(this,t),w(this,"connectionStartTimestamp",void 0),w(this,"wsConsecutiveFailures",void 0),w(this,"wsTotalFailures",void 0),w(this,"instanceClientId",void 0),this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=Yi()},to=function(){var t=P(p().mark(function n(e,r){var i,s;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i=3,s=0;case 2:if(!(s<i)){a.next=17;break}return a.prev=3,a.next=6,M_().post("https://chat-insights.getstream.io/insights/".concat(e),r);case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(3),a.next=12,Js(3e3*(s+1));case 12:return a.abrupt("continue",14);case 13:return a.abrupt("break",17);case 14:s++,a.next=2;break;case 17:case"end":return a.stop()}},n,null,[[3,8]])}));return function(e,r){return t.apply(this,arguments)}}();function _A(t,n){return j_(j_({},n),B_(t))}function B_(t){var n,e,r;return{ready_state:null===(n=t.ws)||void 0===n?void 0:n.readyState,url:t._buildUrl(t.requestID),api_key:t.apiKey,start_ts:t.insightMetrics.connectionStartTimestamp,end_ts:(new Date).getTime(),auth_type:t.authType,token:t.tokenManager.token,user_id:t.userID,user_details:t.user,device:t.device,client_id:t.connectionID,ws_details:t.ws,ws_consecutive_failures:t.insightMetrics.wsConsecutiveFailures,ws_total_failures:t.insightMetrics.wsTotalFailures,request_id:t.requestID,online:"undefined"!=typeof navigator?null===(e=navigator)||void 0===e?void 0:e.onLine:null,user_agent:"undefined"!=typeof navigator?null===(r=navigator)||void 0===r?void 0:r.userAgent:null,instance_client_id:t.insightMetrics.instanceClientId}}function yA(t){return B_(t)}var wA=function(n){return void 0!==n.code},CA=function(n){return void 0!==n.error},bA=function(){function t(n){var e=this,r=n.apiKey,i=n.authType,s=n.clientID,o=n.eventCallback,a=n.logger,l=n.messageCallback,u=n.recoverCallback,c=n.tokenManager,d=n.user,f=n.userAgent,h=n.userID,g=n.wsBaseURL,I=n.device,F=n.enableInsights,C=n.insightMetrics;Ir(this,t),w(this,"apiKey",void 0),w(this,"authType",void 0),w(this,"clientID",void 0),w(this,"eventCallback",void 0),w(this,"logger",void 0),w(this,"messageCallback",void 0),w(this,"recoverCallback",void 0),w(this,"tokenManager",void 0),w(this,"user",void 0),w(this,"userAgent",void 0),w(this,"userID",void 0),w(this,"wsBaseURL",void 0),w(this,"device",void 0),w(this,"connectionID",void 0),w(this,"connectionOpen",void 0),w(this,"consecutiveFailures",void 0),w(this,"pingInterval",void 0),w(this,"healthCheckTimeoutRef",void 0),w(this,"isConnecting",void 0),w(this,"isHealthy",void 0),w(this,"isResolved",void 0),w(this,"lastEvent",void 0),w(this,"connectionCheckTimeout",void 0),w(this,"connectionCheckTimeoutRef",void 0),w(this,"rejectPromise",void 0),w(this,"requestID",void 0),w(this,"connectionStartTimestamp",void 0),w(this,"resolvePromise",void 0),w(this,"totalFailures",void 0),w(this,"ws",void 0),w(this,"wsID",void 0),w(this,"enableInsights",void 0),w(this,"insightMetrics",void 0),w(this,"_buildUrl",function(_){var L={user_id:e.user.id,user_details:e.user,user_token:e.tokenManager.getToken(),server_determines_connection_id:!0,device:e.device,client_request_id:_},K=encodeURIComponent(JSON.stringify(L)),ce=e.tokenManager.getToken();return"".concat(e.wsBaseURL,"/connect?json=").concat(K,"&api_key=").concat(e.apiKey,"&authorization=").concat(ce,"&stream-auth-type=").concat(e.authType,"&X-Stream-Client=").concat(e.userAgent)}),w(this,"onlineStatusChanged",function(_){"offline"===_.type?(e.logger("info","connection:onlineStatusChanged() - Status changing to offline",{tags:["connection"]}),e._setHealth(!1)):"online"===_.type&&(e.logger("info","connection:onlineStatusChanged() - Status changing to online. isHealthy: ".concat(e.isHealthy),{tags:["connection"]}),e.isHealthy||e._reconnect({interval:10}))}),w(this,"onopen",function(_){e.wsID===_&&e.logger("info","connection:onopen() - onopen callback",{tags:["connection"],wsID:_})}),w(this,"onmessage",function(_,L){if(e.wsID===_){var K="string"==typeof L.data?JSON.parse(L.data):null;if(!e.isResolved&&K){var ce,we;if(e.isResolved=!0,null!=K.error)return void(null===(ce=e.rejectPromise)||void 0===ce||ce.call(e,e._errorFromWSEvent(K,!1)));null===(we=e.resolvePromise)||void 0===we||we.call(e,L),e._setHealth(!0)}e.lastEvent=new Date,e.logger("info","connection:onmessage() - onmessage callback",{tags:["connection"],event:L,wsID:_}),K&&"health.check"===K.type&&e.scheduleNextPing(),e.messageCallback(L),e.scheduleConnectionCheck()}}),w(this,"onclose",function(_,L){if(e.wsID===_)if(e.logger("info","connection:onclose() - onclose callback - "+L.code,{tags:["connection"],event:L,wsID:_}),1e3===L.code){var K,ce=new Error("WS connection reject with error ".concat(L.reason));ce.reason=L.reason,ce.code=L.code,ce.wasClean=L.wasClean,ce.target=L.target,null===(K=e.rejectPromise)||void 0===K||K.call(e,ce),e.logger("info","connection:onclose() - WS connection reject with error ".concat(L.reason),{tags:["connection"],event:L})}else{var we;e.consecutiveFailures+=1,e.totalFailures+=1,e._setHealth(!1),e.isConnecting=!1,null===(we=e.rejectPromise)||void 0===we||we.call(e,e._errorFromWSEvent(L)),e.logger("info","connection:onclose() - WS connection closed. Calling reconnect ...",{tags:["connection"],event:L}),e._reconnect()}}),w(this,"onerror",function(_,L){var K;e.wsID===_&&(e.consecutiveFailures+=1,e.totalFailures+=1,e._setHealth(!1),e.isConnecting=!1,null===(K=e.rejectPromise)||void 0===K||K.call(e,e._errorFromWSEvent(L)),e.logger("info","connection:onerror() - WS connection resulted into error",{tags:["connection"],event:L}),e._reconnect())}),w(this,"_setHealth",function(_){_&&!e.isHealthy&&(e.isHealthy=!0,e.eventCallback({type:"connection.changed",online:!0})),!_&&e.isHealthy&&(e.isHealthy=!1,setTimeout(function(){e.isHealthy||e.eventCallback({type:"connection.changed",online:!1})},5e3))}),w(this,"_errorFromWSEvent",function(_){var K,ce,we,L=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];wA(_)&&(K=_.code,ce="unknown",we=_.reason),CA(_)&&(K=_.error.code,ce=_.error.StatusCode,we=_.error.message),e.logger("warn","connection:_errorFromWSEvent() - WS failed with code ".concat(K),{tags:["connection"],event:_});var Ct=new Error("WS failed with code ".concat(K," and reason - ").concat(we));return Ct.code=K,Ct.StatusCode=ce,Ct.isWSFailure=L,Ct}),w(this,"_listenForConnectionChanges",function(){var _;"undefined"!=typeof window&&null!==(_=window)&&void 0!==_&&_.addEventListener&&(window.addEventListener("offline",e.onlineStatusChanged),window.addEventListener("online",e.onlineStatusChanged))}),w(this,"_removeConnectionListeners",function(){var _;"undefined"!=typeof window&&null!==(_=window)&&void 0!==_&&_.removeEventListener&&(window.removeEventListener("offline",e.onlineStatusChanged),window.removeEventListener("online",e.onlineStatusChanged))}),w(this,"_setupConnectionPromise",function(){var _=e;e.isResolved=!1,e.connectionOpen=new Promise(function(L,K){_.resolvePromise=L,_.rejectPromise=K}).then(function(L){if(L.data&&"string"==typeof L.data){var K=JSON.parse(L.data);if(K&&null!=K.error)throw new Error(JSON.stringify(K.error));return K}},function(L){throw L})}),w(this,"scheduleNextPing",function(){e.healthCheckTimeoutRef&&clearTimeout(e.healthCheckTimeoutRef),e.healthCheckTimeoutRef=setTimeout(function(){var _=[{type:"health.check",client_id:e.clientID}];try{var L;null===(L=e.ws)||void 0===L||L.send(JSON.stringify(_))}catch(K){}},e.pingInterval)}),w(this,"scheduleConnectionCheck",function(){e.connectionCheckTimeoutRef&&clearTimeout(e.connectionCheckTimeoutRef),e.connectionCheckTimeoutRef=setTimeout(function(){var _=new Date;e.lastEvent&&_.getTime()-e.lastEvent.getTime()>e.connectionCheckTimeout&&(e.logger("info","connection:scheduleConnectionCheck - going to reconnect",{tags:["connection"]}),e._setHealth(!1),e._reconnect())},e.connectionCheckTimeout)}),this.wsBaseURL=g,this.clientID=s,this.userID=h,this.user=d,this.authType=i,this.userAgent=f,this.apiKey=r,this.tokenManager=c,this.device=I,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isResolved=!1,this.isHealthy=!1,this.recoverCallback=u,this.messageCallback=l,this.eventCallback=o,this.logger=a,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,this._listenForConnectionChanges(),this.enableInsights=F,this.insightMetrics=C}return Qs(t,[{key:"connect",value:(n=P(p().mark(function r(){var i;return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.isConnecting){o.next=2;break}throw Error("You've called connect twice, can only attempt 1 connection at the time");case 2:return o.prev=2,o.next=5,this._connect();case 5:i=o.sent,this.consecutiveFailures=0,this.logger("info","connection:connect() - Established ws connection with healthcheck: ".concat(i),{tags:["connection"]}),o.next=21;break;case 10:if(o.prev=10,o.t0=o.catch(2),this.isHealthy=!1,this.consecutiveFailures+=1,40!==o.t0.code||this.tokenManager.isStatic()){o.next=19;break}this.logger("info","connection:connect() - WS failure due to expired token, so going to try to reload token and reconnect",{tags:["connection"]}),this._reconnect({refreshToken:!0}),o.next=21;break;case 19:if(o.t0.isWSFailure){o.next=21;break}throw new Error(JSON.stringify({code:o.t0.code,StatusCode:o.t0.StatusCode,message:o.t0.message,isWSFailure:o.t0.isWSFailure}));case 21:return o.next=23,this._waitForHealthy();case 23:return o.abrupt("return",o.sent);case 24:case"end":return o.stop()}},r,this,[[2,10]])})),function(){return n.apply(this,arguments)})},{key:"_waitForHealthy",value:function(){var n=P(p().mark(function r(){var s,i=this,o=arguments;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>0&&void 0!==o[0]?o[0]:15e3,l.abrupt("return",Promise.race([P(p().mark(function u(){var c,d;return p().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:c=50,d=0;case 2:if(!(d<=s)){h.next=18;break}return h.prev=3,h.next=6,i.connectionOpen;case 6:return h.abrupt("return",h.sent);case 9:if(h.prev=9,h.t0=h.catch(3),d!==s){h.next=13;break}throw new Error(JSON.stringify({code:h.t0.code,StatusCode:h.t0.StatusCode,message:h.t0.message,isWSFailure:h.t0.isWSFailure}));case 13:return h.next=15,Js(c);case 15:d+=c,h.next=2;break;case 18:case"end":return h.stop()}},u,null,[[3,9]])}))(),P(p().mark(function u(){return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Js(s);case 2:throw new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}));case 3:case"end":return d.stop()}},u)}))()]));case 2:case"end":return l.stop()}},r)}));return function(){return n.apply(this,arguments)}}()},{key:"disconnect",value:function(e){var r=this;this.logger("info","connection:disconnect() - Closing the websocket connection for wsID ".concat(this.wsID),{tags:["connection"]}),this.wsID+=1,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),this._removeConnectionListeners(),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();var i,s=this.ws;return s&&s.close&&s.readyState===s.OPEN?(i=new Promise(function(o){var a=function(u){r.logger("info","connection:disconnect() - resolving isClosedPromise ".concat(u?"with":"without"," close frame"),{tags:["connection"],event:u}),o()};s.onclose=a,setTimeout(a,null!=e?e:1e3)}),this.logger("info","connection:disconnect() - Manually closed connection by calling client.disconnect()",{tags:["connection"]}),s.close(1e3,"Manually closed connection by calling client.disconnect()")):(this.logger("info","connection:disconnect() - ws connection doesn't exist or it is already closed.",{tags:["connection"]}),i=Promise.resolve()),delete this.ws,i}},{key:"_connect",value:function(){var n=P(p().mark(function r(){var i,s,o;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.isConnecting){l.next=2;break}return l.abrupt("return");case 2:return this.isConnecting=!0,this.requestID=Yi(),this.insightMetrics.connectionStartTimestamp=(new Date).getTime(),l.prev=5,l.next=8,this.tokenManager.tokenReady();case 8:return this._setupConnectionPromise(),i=this._buildUrl(this.requestID),this.ws=new(qI())(i),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID),l.next=17,this.connectionOpen;case 17:if(s=l.sent,this.isConnecting=!1,!s){l.next=23;break}return this.connectionID=s.connection_id,this.insightMetrics.wsConsecutiveFailures>0&&this.enableInsights&&(to("ws_success_after_failure",yA(this)),this.insightMetrics.wsConsecutiveFailures=0),l.abrupt("return",s);case 23:l.next=30;break;case 25:throw l.prev=25,l.t0=l.catch(5),this.isConnecting=!1,this.enableInsights&&(this.insightMetrics.wsConsecutiveFailures++,this.insightMetrics.wsTotalFailures++,o=_A(this,hA(l.t0)),null==to||to("ws_fatal",o)),l.t0;case 30:case"end":return l.stop()}},r,this,[[5,25]])}));return function(){return n.apply(this,arguments)}}()},{key:"_reconnect",value:function(){var n=P(p().mark(function r(){var i,s,o,a=arguments;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=a.length>0&&void 0!==a[0]?a[0]:{},this.logger("info","connection:_reconnect() - Initiating the reconnect",{tags:["connection"]}),!this.isConnecting&&!this.isHealthy){u.next=5;break}return this.logger("info","connection:_reconnect() - Abort (1) since already connecting or healthy",{tags:["connection"]}),u.abrupt("return");case 5:return(s=i.interval)||(s=O_(this.consecutiveFailures)),u.next=9,Js(s);case 9:if(!this.isConnecting&&!this.isHealthy){u.next=12;break}return this.logger("info","connection:_reconnect() - Abort (2) since already connecting or healthy",{tags:["connection"]}),u.abrupt("return");case 12:if(this.logger("info","connection:_reconnect() - Destroying current WS connection",{tags:["connection"]}),this._destroyCurrentWSConnection(),!i.refreshToken){u.next=17;break}return u.next=17,this.tokenManager.loadToken();case 17:return u.prev=17,u.next=20,this._connect();case 20:if(o=u.sent,!this.recoverCallback){u.next=26;break}return this.logger("info","connection:_reconnect() - Waiting for recoverCallBack",{tags:["connection"]}),u.next=25,this.recoverCallback(o);case 25:this.logger("info","connection:_reconnect() - Finished recoverCallBack",{tags:["connection"]});case 26:this.consecutiveFailures=0,u.next=37;break;case 29:if(u.prev=29,u.t0=u.catch(17),this.isHealthy=!1,this.consecutiveFailures+=1,40!==u.t0.code||this.tokenManager.isStatic()){u.next=36;break}return this.logger("info","connection:_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect",{tags:["connection"]}),u.abrupt("return",this._reconnect({refreshToken:!0}));case 36:u.t0.isWSFailure&&(this.logger("info","connection:_reconnect() - WS failure, so going to try to reconnect",{tags:["connection"]}),this._reconnect());case 37:this.logger("info","connection:_reconnect() - == END ==",{tags:["connection"]});case 38:case"end":return u.stop()}},r,this,[[17,29]])}));return function(){return n.apply(this,arguments)}}()},{key:"_destroyCurrentWSConnection",value:function(){this.wsID+=1;try{this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners(),this.ws&&this.ws.close&&this.ws.close()}catch(e){}}}]),t;var n}();function V_(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function SA(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?V_(Object(e),!0).forEach(function(r){w(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):V_(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function $_(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof n)throw new TypeError("userId should be a string");throw SA({user_id:n},e),Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.")}function H_(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e={server:!0},r=qi({algorithm:"HS256",noTimestamp:!0},n);return null.sign(e,t,r)}var AA=function t(n){var e=this;Ir(this,t),w(this,"loadTokenPromise",void 0),w(this,"type",void 0),w(this,"secret",void 0),w(this,"token",void 0),w(this,"tokenProvider",void 0),w(this,"user",void 0),w(this,"setTokenOrProvider",function(){var r=P(p().mark(function i(s,o){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e.validateToken(s,o),e.user=o,od(s)&&(e.tokenProvider=s,e.type="provider"),"string"==typeof s&&(e.token=s,e.type="static"),!s&&e.user&&e.secret&&(e.token=$_(e.secret,o.id,{},{}),e.type="static"),l.next=7,e.loadToken();case 7:case"end":return l.stop()}},i)}));return function(i,s){return r.apply(this,arguments)}}()),w(this,"reset",function(){e.token=void 0,e.user=void 0,e.loadTokenPromise=null}),w(this,"validateToken",function(r,i){if(!i||!i.anon||r){if(!e.secret&&!r)throw new Error("User token can not be empty");if(r&&"string"!=typeof r&&!od(r))throw new Error("user token should either be a string or a function");if("string"==typeof r){if(i.anon&&""===r)return;var s=function(t){var n=t.split(".");if(3!==n.length)return"";var r=function(n){var s,l,c,e={},r=String.fromCharCode,i=n.length,o=0,u=0,d="";for(s=0;s<64;s++)e["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s)]=s;for(l=0;l<i;l++)for(o=(o<<6)+e[n.charAt(l)],u+=6;u>=8;)((c=o>>>(u-=8)&255)||l<i-2)&&(d+=r(c));return d}(n[1]);return JSON.parse(r).user_id}(r);if(null!=r&&(null==s||""===s||s!==i.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}}),w(this,"tokenReady",function(){return e.loadTokenPromise}),w(this,"loadToken",function(){return e.loadTokenPromise=new Promise(function(){var r=P(p().mark(function i(s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("static"!==e.type){a.next=2;break}return a.abrupt("return",s(e.token));case 2:if(!e.tokenProvider||"string"==typeof e.tokenProvider){a.next=7;break}return a.next=5,e.tokenProvider();case 5:e.token=a.sent,s(e.token);case 7:case"end":return a.stop()}},i)}));return function(i){return r.apply(this,arguments)}}()),e.loadTokenPromise}),w(this,"getToken",function(){if(e.token||e.user&&e.user.anon&&!e.token)return e.token;if(e.secret)return H_(e.secret);throw new Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")}),w(this,"isStatic",function(){return"static"===e.type}),this.loadTokenPromise=null,n&&(this.secret=n),this.type="static",this.secret&&(this.token=H_(this.secret))};function no(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return z_(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return z_(t,n)}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var u=e.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&null!=e.return&&e.return()}finally{if(o)throw a}}}}function z_(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function W_(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function pe(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?W_(Object(e),!0).forEach(function(r){w(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):W_(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function Zi(t){return"string"==typeof t||t instanceof String}var G_=function(){function t(n,e,r){var i=this;Ir(this,t),w(this,"_user",void 0),w(this,"activeChannels",void 0),w(this,"anonymous",void 0),w(this,"axiosInstance",void 0),w(this,"baseURL",void 0),w(this,"browser",void 0),w(this,"cleaningIntervalRef",void 0),w(this,"clientID",void 0),w(this,"configs",void 0),w(this,"connectionID",void 0),w(this,"failures",void 0),w(this,"key",void 0),w(this,"listeners",void 0),w(this,"logger",void 0),w(this,"recoverStateOnReconnect",void 0),w(this,"mutedChannels",void 0),w(this,"mutedUsers",void 0),w(this,"node",void 0),w(this,"options",void 0),w(this,"secret",void 0),w(this,"setUserPromise",void 0),w(this,"state",void 0),w(this,"tokenManager",void 0),w(this,"user",void 0),w(this,"userAgent",void 0),w(this,"userID",void 0),w(this,"wsBaseURL",void 0),w(this,"wsConnection",void 0),w(this,"wsPromise",void 0),w(this,"consecutiveFailures",void 0),w(this,"insightMetrics",void 0),w(this,"_hasConnectionID",function(){var o;return Boolean(null===(o=i.wsConnection)||void 0===o?void 0:o.connectionID)}),w(this,"connectUser",function(){var o=P(p().mark(function a(l,u){var c,d;return p().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l.id){h.next=2;break}throw new Error('The "id" field on the user is missing');case 2:if(i.userID!==l.id||!i.setUserPromise){h.next=5;break}return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),h.abrupt("return",i.setUserPromise);case 5:if(!i.userID){h.next=7;break}throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");case 7:return(i._isUsingServerAuth()||i.node)&&!i.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),i.userID=l.id,i.anonymous=!1,c=i._setToken(l,u),i._setUser(l),d=i.openConnection(),i.setUserPromise=Promise.all([c,d]).then(function(g){return g[1]}),h.prev=14,h.next=17,i.setUserPromise;case 17:return h.abrupt("return",h.sent);case 20:throw h.prev=20,h.t0=h.catch(14),i.disconnectUser(),h.t0;case 24:case"end":return h.stop()}},a,null,[[14,20]])}));return function(a,l){return o.apply(this,arguments)}}()),w(this,"setUser",this.connectUser),w(this,"_setToken",function(o,a){return i.tokenManager.setTokenOrProvider(a,o)}),w(this,"closeConnection",function(o){return null!=i.cleaningIntervalRef&&(clearInterval(i.cleaningIntervalRef),i.cleaningIntervalRef=void 0),i.wsConnection?i.wsConnection.disconnect(o):Promise.resolve()}),w(this,"openConnection",P(p().mark(function o(){var a;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(i.userID){u.next=2;break}throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");case 2:if(null===(a=i.wsConnection)||void 0===a||!a.isHealthy||!i._hasConnectionID()){u.next=5;break}return i.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]}),u.abrupt("return",Promise.resolve());case 5:return i.clientID="".concat(i.userID,"--").concat(Yi()),i.wsPromise=i.connect(),i._startCleaning(),u.abrupt("return",i.wsPromise);case 9:case"end":return u.stop()}},o)}))),w(this,"_setupConnection",this.openConnection),w(this,"_normalizeDate",function(o){if(o instanceof Date&&(o=o.toISOString()),""===o)throw new Error("Don't pass blank string for since, use null instead if resetting the token revoke");return o}),w(this,"disconnectUser",function(){var o=P(p().mark(function a(l){var u,c,d;return p().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:for(i.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete i.user,delete i._user,delete i.userID,i.anonymous=!1,u=i.closeConnection(l),c=0,d=Object.values(i.activeChannels);c<d.length;c++)d[c]._disconnect();return i.activeChannels={},i.state=new N_,i.tokenManager.reset(),g.abrupt("return",u);case 11:case"end":return g.stop()}},a)}));return function(a){return o.apply(this,arguments)}}()),w(this,"disconnect",this.disconnectUser),w(this,"connectAnonymousUser",function(){(i._isUsingServerAuth()||i.node)&&!i.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),i.anonymous=!0,i.userID=Yi();var o={id:i.userID,anon:!0};return i._setToken(o,""),i._setUser(o),i._setupConnection()}),w(this,"setAnonymousUser",this.connectAnonymousUser),w(this,"doAxiosRequest",function(){var o=P(p().mark(function a(l,u,c){var d,f,h,g,I=arguments;return p().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return d=I.length>3&&void 0!==I[3]?I[3]:{},C.next=3,i.tokenManager.tokenReady();case 3:f=i._enrichAxiosOptions(d),C.prev=4,i._logApiRequest(l,u,c,f),C.t0=l,C.next="get"===C.t0?9:"delete"===C.t0?13:"post"===C.t0?17:"put"===C.t0?21:"patch"===C.t0?25:"options"===C.t0?29:33;break;case 9:return C.next=11,i.axiosInstance.get(u,f);case 11:case 15:case 19:case 23:case 27:case 31:return h=C.sent,C.abrupt("break",34);case 13:return C.next=15,i.axiosInstance.delete(u,f);case 17:return C.next=19,i.axiosInstance.post(u,c,f);case 21:return C.next=23,i.axiosInstance.put(u,c,f);case 25:return C.next=27,i.axiosInstance.patch(u,c,f);case 29:return C.next=31,i.axiosInstance.options(u,f);case 33:throw new Error("Invalid request type");case 34:return i._logApiResponse(l,u,h),i.consecutiveFailures=0,C.abrupt("return",i.handleResponse(h));case 39:if(C.prev=39,C.t1=C.catch(4),C.t1.client_request_id=null===(g=f.headers)||void 0===g?void 0:g["x-client-request-id"],i._logApiError(l,u,C.t1),i.consecutiveFailures+=1,!C.t1.response){C.next=56;break}if(40!==C.t1.response.data.code||i.tokenManager.isStatic()){C.next=53;break}if(!(i.consecutiveFailures>1)){C.next=49;break}return C.next=49,Js(O_(i.consecutiveFailures));case 49:return i.tokenManager.loadToken(),C.next=52,i.doAxiosRequest(l,u,c,d);case 52:return C.abrupt("return",C.sent);case 53:return C.abrupt("return",i.handleResponse(C.t1.response));case 56:throw C.t1;case 57:case"end":return C.stop()}},a,null,[[4,39]])}));return function(a,l,u){return o.apply(this,arguments)}}()),w(this,"dispatchEvent",function(o){var a=i._handleClientEvent(o),l=o.cid,u=l?i.activeChannels[l]:void 0;u&&u._handleChannelEvent(o),i._callClientListeners(o),u&&u._callChannelListeners(o),a.forEach(function(c){return c()})}),w(this,"handleEvent",function(o){var l=JSON.parse(o.data);l.received_at=new Date,i.dispatchEvent(l)}),w(this,"_updateMemberWatcherReferences",function(o){var a=i.state.userChannelReferences[o.id]||{};for(var l in a){var u=i.activeChannels[l];null!=u&&u.state&&(u.state.members[o.id]&&(u.state.members[o.id].user=o),u.state.watchers[o.id]&&(u.state.watchers[o.id]=o))}}),w(this,"_updateUserReferences",this._updateMemberWatcherReferences),w(this,"_updateUserMessageReferences",function(o){var a=i.state.userChannelReferences[o.id]||{};for(var l in a){var c=i.activeChannels[l].state;null==c||c.updateUserMessages(o)}}),w(this,"_deleteUserMessageReference",function(o){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=i.state.userChannelReferences[o.id]||{};for(var u in l){var c=i.activeChannels[u],d=c.state;null==d||d.deleteUserMessages(o,a)}}),w(this,"_handleUserEvent",function(o){if(o.user){if("user.presence.changed"===o.type||"user.updated"===o.type){if(o.user.id===i.userID){var a=pe({},i.user||{}),l=pe({},i._user||{});for(var u in i.user)u in o.user||aA(u)||(delete a[u],delete l[u]);for(var c in o.user)l&&c in l&&(l[c]=o.user[c]);i._user=pe({},l),i.user=pe(pe({},a),o.user)}i.state.updateUser(o.user),i._updateMemberWatcherReferences(o.user)}"user.updated"===o.type&&i._updateUserMessageReferences(o.user),"user.deleted"===o.type&&o.user.deleted_at&&(o.mark_messages_deleted||o.hard_delete)&&i._deleteUserMessageReference(o.user,o.hard_delete)}}),w(this,"_callClientListeners",function(o){var a=i,l=[];a.listeners.all&&l.push.apply(l,Xn(a.listeners.all)),a.listeners[o.type]&&l.push.apply(l,Xn(a.listeners[o.type]));for(var u=0,c=l;u<c.length;u++)(0,c[u])(o)}),w(this,"recoverState",P(p().mark(function o(){var a,l;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i.logger("info","client:recoverState() - Start of recoverState with connectionID ".concat(null===(a=i.wsConnection)||void 0===a?void 0:a.connectionID),{tags:["connection"]}),!(l=Object.keys(i.activeChannels)).length||!i.recoverStateOnReconnect){c.next=10;break}return i.logger("info","client:recoverState() - Start the querying of ".concat(l.length," channels"),{tags:["connection","client"]}),c.next=6,i.queryChannels({cid:{$in:l}},{last_message_at:-1},{limit:30});case 6:i.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),i.dispatchEvent({type:"connection.recovered"}),c.next=11;break;case 10:i.dispatchEvent({type:"connection.recovered"});case 11:i.wsPromise=Promise.resolve(),i.setUserPromise=Promise.resolve();case 13:case"end":return c.stop()}},o)}))),w(this,"getChannelByMembers",function(o,a){var l=Xn(a.members||[]).sort().join(","),u="".concat(o,":!members-").concat(l);if(!l)throw Error("Please specify atleast one member when creating unique conversation");for(var c in i.activeChannels){var d=i.activeChannels[c];if(!d.disconnected){if(c===u)return d;if(0===c.indexOf("".concat(o,":!members-"))&&Object.keys(d.state.members).sort().join(",")===l)return d}}var h=new ad(i,o,void 0,a);return i.activeChannels[u]=h,h}),w(this,"getChannelById",function(o,a,l){if("string"==typeof a&&~a.indexOf(":"))throw Error("Invalid channel id ".concat(a,", can't contain the : character"));var u="".concat(o,":").concat(a);if(u in i.activeChannels&&!i.activeChannels[u].disconnected){var c=i.activeChannels[u];return Object.keys(l).length>0&&(c.data=l,c._data=l),c}var d=new ad(i,o,a,l);return i.activeChannels[d.cid]=d,d}),w(this,"updateUsers",this.upsertUsers),w(this,"updateUser",this.upsertUser),w(this,"markAllRead",this.markChannelsRead),w(this,"_isUsingServerAuth",function(){return!!i.secret}),this.key=n,this.listeners={},this.state=new N_,this.mutedChannels=[],this.mutedUsers=[],e&&Zi(e)&&(this.secret=e);var s=r||(e&&!Zi(e)?e:{});this.browser=void 0!==s.browser?s.browser:"undefined"!=typeof window,this.node=!this.browser,this.options=pe({timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0},s),this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new null.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=M_().create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+process.env.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.tokenManager=new AA(this.secret),this.consecutiveFailures=0,this.insightMetrics=new vA,this.logger=od(s.logger)?s.logger:function(){return null},this.recoverStateOnReconnect=this.options.recoverStateOnReconnect}return Qs(t,[{key:"devToken",value:function(e){return function(t){return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",YI(JSON.stringify({user_id:t})),"devtoken"].join(".")}(e)}},{key:"getAuthType",value:function(){return this.anonymous?"anonymous":"jwt"}},{key:"setBaseURL",value:function(e){this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}},{key:"_setUser",value:function(e){this.user=e,this._user=pe({},e)}},{key:"updateAppSettings",value:(n=P(p().mark(function r(i){var s;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return null!==(s=i.apn_config)&&void 0!==s&&s.p12_cert&&(i.apn_config.p12_cert=Buffer.from(i.apn_config.p12_cert).toString("base64")),a.next=3,this.patch(this.baseURL+"/app",i);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},r,this)})),function(r){return n.apply(this,arguments)})},{key:"revokeTokens",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(i)});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"revokeUserToken",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.revokeUsersToken([i],s);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"revokeUsersToken",value:function(){var n=P(p().mark(function r(i,s){var o,a,l;return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:s=void 0===s?(new Date).toISOString():this._normalizeDate(s),o=[],a=no(i);try{for(a.s();!(l=a.n()).done;)o.push({id:l.value,set:{revoke_tokens_issued_before:s}})}catch(f){a.e(f)}finally{a.f()}return d.next=6,this.partialUpdateUsers(o);case 6:return d.abrupt("return",d.sent);case 7:case"end":return d.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"getAppSettings",value:function(){var n=P(p().mark(function r(){return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.get(this.baseURL+"/app");case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"testPushSettings",value:function(){var n=P(p().mark(function r(i){var s,o=arguments;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&void 0!==o[1]?o[1]:{},l.next=3,this.post(this.baseURL+"/check_push",pe(pe(pe(pe(pe(pe({user_id:i},s.messageID?{message_id:s.messageID}:{}),s.apnTemplate?{apn_template:s.apnTemplate}:{}),s.firebaseTemplate?{firebase_template:s.firebaseTemplate}:{}),s.firebaseDataTemplate?{firebase_data_template:s.firebaseDataTemplate}:{}),s.huaweiDataTemplate?{huawei_data_template:s.huaweiDataTemplate}:{}),s.skipDevices?{skip_devices:!0}:{}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"testSQSSettings",value:function(){var n=P(p().mark(function r(){var i,s=arguments;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=s.length>0&&void 0!==s[0]?s[0]:{},a.next=3,this.post(this.baseURL+"/check_sqs",i);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"setGuestUser",value:function(){var n=P(p().mark(function r(i){var s,a;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.anonymous=!0,u.prev=1,u.next=4,this.post(this.baseURL+"/guest",{user:i});case 4:s=u.sent,u.next=11;break;case 7:throw u.prev=7,u.t0=u.catch(1),this.anonymous=!1,u.t0;case 11:return this.anonymous=!1,a=LI(s.user,["created_at","updated_at","last_active","online"]),u.next=15,this.connectUser(a,s.access_token);case 15:return u.abrupt("return",u.sent);case 16:case"end":return u.stop()}},r,this,[[1,7]])}));return function(r){return n.apply(this,arguments)}}()},{key:"createToken",value:function(e,r,i){if(null==this.secret)throw Error("tokens can only be created server-side using the API Secret");var s={};return r&&(s.exp=r),i&&(s.iat=i),$_(this.secret,e,s,{})}},{key:"on",value:function(e,r){var i=this,s=r?e:"all";if(!Ha(s))throw Error("Invalid event type ".concat(s));var a=r||e;return s in this.listeners||(this.listeners[s]=[]),this.logger("info","Attaching listener for ".concat(s," event"),{tags:["event","client"]}),this.listeners[s].push(a),{unsubscribe:function(){i.logger("info","Removing listener for ".concat(s," event"),{tags:["event","client"]}),i.listeners[s]=i.listeners[s].filter(function(u){return u!==a})}}}},{key:"off",value:function(e,r){var i=r?e:"all";if(!Ha(i))throw Error("Invalid event type ".concat(i));var o=r||e;i in this.listeners||(this.listeners[i]=[]),this.logger("info","Removing listener for ".concat(i," event"),{tags:["event","client"]}),this.listeners[i]=this.listeners[i].filter(function(a){return a!==o})}},{key:"_logApiRequest",value:function(e,r,i,s){this.logger("info","client: ".concat(e," - Request - ").concat(r),{tags:["api","api_request","client"],url:r,payload:i,config:s})}},{key:"_logApiResponse",value:function(e,r,i){this.logger("info","client:".concat(e," - Response - url: ").concat(r," > status ").concat(i.status),{tags:["api","api_response","client"],url:r,response:i})}},{key:"_logApiError",value:function(e,r,i){this.logger("error","client:".concat(e," - Error - url: ").concat(r),{tags:["api","api_response","client"],url:r,error:i})}},{key:"get",value:function(e,r){return this.doAxiosRequest("get",e,null,{params:r})}},{key:"put",value:function(e,r){return this.doAxiosRequest("put",e,r)}},{key:"post",value:function(e,r){return this.doAxiosRequest("post",e,r)}},{key:"patch",value:function(e,r){return this.doAxiosRequest("patch",e,r)}},{key:"delete",value:function(e,r){return this.doAxiosRequest("delete",e,null,{params:r})}},{key:"sendFile",value:function(e,r,i,s,o){var a=function(t,n,e){var r=new(WI());return function(t){return null!==t&&"object"===hr(t)&&(t.readable||"function"==typeof t._read)}(t)||function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}(t)||function(t){return"undefined"!=typeof window&&"File"in window&&t instanceof File}(t)?n?r.append("file",t,n):r.append("file",t):r.append("file",{uri:t,name:n||t.split("/").reverse()[0],contentType:e||void 0,type:e||void 0}),r}(r,i,s);return null!=o&&a.append("user",JSON.stringify(o)),this.doAxiosRequest("post",e,a,{headers:a.getHeaders?a.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}},{key:"errorFromResponse",value:function(e){var r;return r=new Error("StreamChat error HTTP code: ".concat(e.status)),e.data&&e.data.code&&((r=new Error("StreamChat error code ".concat(e.data.code,": ").concat(e.data.message))).code=e.data.code),r.response=e,r.status=e.status,r}},{key:"handleResponse",value:function(e){var r=e.data;if("2"!==(e.status+"")[0])throw this.errorFromResponse(e);return r}},{key:"_handleClientEvent",value:function(e){var r,s,c,i=this,o=this,a=[];if(this.logger("info","client:_handleClientEvent - Received event of type { ".concat(e.type," }"),{tags:["event","client"],event:e}),("user.presence.changed"===e.type||"user.updated"===e.type||"user.deleted"===e.type)&&this._handleUserEvent(e),"health.check"===e.type&&e.me&&(o.user=e.me,o.state.updateUser(e.me),o.mutedChannels=e.me.channel_mutes,o.mutedUsers=e.me.mutes),e.channel&&"notification.message_new"===e.type&&(this.configs[e.channel.type]=e.channel.config),"notification.channel_mutes_updated"===e.type&&null!==(r=e.me)&&void 0!==r&&r.channel_mutes){var l=[],u=[];this.mutedChannels.forEach(function(d){return d.channel&&l.push(d.channel.cid)}),e.me.channel_mutes.forEach(function(d){return d.channel&&u.push(d.channel.cid)}),l.forEach(function(d){!u.includes(d)&&i.activeChannels[d]&&(i.activeChannels[d].state.unreadCount=0)}),this.mutedChannels=e.me.channel_mutes}return"notification.mutes_updated"===e.type&&null!==(s=e.me)&&void 0!==s&&s.mutes&&(this.mutedUsers=e.me.mutes),"channel.deleted"!==e.type&&"notification.channel_deleted"!==e.type||!e.cid||(o.state.deleteAllChannelReference(e.cid),null===(c=this.activeChannels[e.cid])||void 0===c||c._disconnect(),a.push(function(){!e.cid||delete i.activeChannels[e.cid]})),a}},{key:"_muteStatus",value:function(e){for(var r,i=0;i<this.mutedChannels.length;i++){var s,o=this.mutedChannels[i];if((null===(s=o.channel)||void 0===s?void 0:s.cid)===e){r={muted:!o.expires||new Date(o.expires).getTime()>(new Date).getTime(),createdAt:o.created_at?new Date(o.created_at):new Date,expiresAt:o.expires?new Date(o.expires):null};break}}return r||{muted:!1,createdAt:null,expiresAt:null}}},{key:"connect",value:function(){var n=P(p().mark(function r(){var i;return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=this,this.failures=0,null!=i.userID&&null!=this._user){o.next=4;break}throw Error("Call connectUser or connectAnonymousUser before starting the connection");case 4:if(null!=i.wsBaseURL){o.next=6;break}throw Error("Websocket base url not set");case 6:if(null!=i.clientID){o.next=8;break}throw Error("clientID is not set");case 8:return!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.wsConnection=new bA({wsBaseURL:i.wsBaseURL,enableInsights:this.options.enableInsights,clientID:i.clientID,userID:i.userID,tokenManager:i.tokenManager,user:this._user,authType:this.getAuthType(),userAgent:this.getUserAgent(),apiKey:this.key,recoverCallback:this.recoverState,messageCallback:this.handleEvent,eventCallback:this.dispatchEvent,logger:this.logger,device:this.options.device,insightMetrics:this.insightMetrics}),o.next=12,this.wsConnection.connect();case 12:return o.abrupt("return",o.sent);case 13:case"end":return o.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"_sayHi",value:function(){var e=this,r=Yi();this.doAxiosRequest("get",this.baseURL+"/hi",null,{headers:{"x-client-request-id":r}}).catch(function(s){e.options.enableInsights&&to("http_hi_failed",{api_key:e.key,err:s,client_request_id:r})})}},{key:"queryUsers",value:function(){var n=P(p().mark(function r(i){var s,o,a,l,u=arguments;return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return s=u.length>1&&void 0!==u[1]?u[1]:[],o=u.length>2&&void 0!==u[2]?u[2]:{},a={presence:!1},d.next=5,this.setUserPromise;case 5:return this._hasConnectionID()||(a.presence=!1),d.next=8,this.get(this.baseURL+"/users",{payload:pe(pe({filter_conditions:i,sort:Ki(s)},a),o)});case 8:return this.state.updateUsers((l=d.sent).users),d.abrupt("return",l);case 11:case"end":return d.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"queryBannedUsers",value:function(){var n=P(p().mark(function r(){var i,s,o,a=arguments;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=a.length>0&&void 0!==a[0]?a[0]:{},s=a.length>1&&void 0!==a[1]?a[1]:[],o=a.length>2&&void 0!==a[2]?a[2]:{},u.next=5,this.get(this.baseURL+"/query_banned_users",{payload:pe({filter_conditions:i,sort:Ki(s)},o)});case 5:return u.abrupt("return",u.sent);case 6:case"end":return u.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"queryMessageFlags",value:function(){var n=P(p().mark(function r(){var i,s,o=arguments;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=o.length>0&&void 0!==o[0]?o[0]:{},s=o.length>1&&void 0!==o[1]?o[1]:{},l.next=4,this.get(this.baseURL+"/moderation/flags/message",{payload:pe({filter_conditions:i},s)});case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"queryChannels",value:function(){var n=P(p().mark(function r(i){var s,o,l,u,c,d,f,h,g,F,C,_,L,K=arguments;return p().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return s=K.length>1&&void 0!==K[1]?K[1]:[],o=K.length>2&&void 0!==K[2]?K[2]:{},l=(K.length>3&&void 0!==K[3]?K[3]:{}).skipInitialization,u={state:!0,watch:!0,presence:!1},we.next=7,this.setUserPromise;case 7:return this._hasConnectionID()||(u.watch=!1),c=pe(pe({filter_conditions:i,sort:Ki(s)},u),o),we.next=11,this.post(this.baseURL+"/channels",c);case 11:f=[],h=no((d=we.sent).channels);try{for(h.s();!(g=h.n()).done;)this._addChannelConfig(g.value)}catch(Ct){h.e(Ct)}finally{h.f()}F=no(d.channels);try{for(F.s();!(C=F.n()).done;)(L=this.channel((_=C.value).channel.type,_.channel.id)).data=_.channel,L.initialized=!0,void 0===l?L._initializeState(_):l.includes(_.channel.id)||(L.state.clearMessages(),L._initializeState(_)),f.push(L)}catch(Ct){F.e(Ct)}finally{F.f()}return we.abrupt("return",f);case 18:case"end":return we.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"search",value:function(){var n=P(p().mark(function r(i,s){var o,a,l=arguments;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(o=l.length>2&&void 0!==l[2]?l[2]:{}).offset||!o.sort&&!o.next){c.next=3;break}throw Error("Cannot specify offset with sort or next parameters");case 3:if(a=pe(pe({filter_conditions:i},o),{},{sort:o.sort?Ki(o.sort):void 0}),"string"!=typeof s){c.next=8;break}a.query=s,c.next=13;break;case 8:if("object"!==hr(s)){c.next=12;break}a.message_filter_conditions=s,c.next=13;break;case 12:throw Error("Invalid type ".concat(hr(s)," for query parameter"));case 13:return c.next=15,this.setUserPromise;case 15:return c.next=17,this.get(this.baseURL+"/search",{payload:a});case 17:return c.abrupt("return",c.sent);case 18:case"end":return c.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"setLocalDevice",value:function(e){if(this.wsConnection)throw new Error("you can only set device before opening a websocket connection");this.options.device=e}},{key:"addDevice",value:function(){var n=P(p().mark(function r(i,s,o){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.post(this.baseURL+"/devices",pe({id:i,push_provider:s},null!=o?{user_id:o}:{}));case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},r,this)}));return function(r,i,s){return n.apply(this,arguments)}}()},{key:"getDevices",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/devices",i?{user_id:i}:{});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"removeDevice",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.delete(this.baseURL+"/devices",pe({id:i},s?{user_id:s}:{}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"getRateLimits",value:function(){var n=P(p().mark(function r(i){var s,c;return p().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",this.get(this.baseURL+"/rate_limits",{server_side:(s=i||{}).serverSide,web:s.web,android:s.android,ios:s.ios,endpoints:(c=s.endpoints)?c.join(","):void 0}));case 2:case"end":return f.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"_addChannelConfig",value:function(e){this.configs[e.channel.type]=e.channel.config}},{key:"channel",value:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~e.indexOf(":"))throw Error("Invalid channel group ".concat(e,", can't contain the : character"));return null==r||""===r?new ad(this,e,void 0,i):"object"===hr(r)?this.getChannelByMembers(e,r):this.getChannelById(e,r,i)}},{key:"partialUpdateUser",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.partialUpdateUsers([i]);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"upsertUsers",value:function(){var n=P(p().mark(function r(i){var s,o,a,l;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s={},o=no(i),c.prev=2,o.s();case 4:if((a=o.n()).done){c.next=11;break}if((l=a.value).id){c.next=8;break}throw Error("User ID is required when updating a user");case 8:s[l.id]=l;case 9:c.next=4;break;case 11:c.next=16;break;case 13:c.prev=13,c.t0=c.catch(2),o.e(c.t0);case 16:return c.prev=16,o.f(),c.finish(16);case 19:return c.next=21,this.post(this.baseURL+"/users",{users:s});case 21:return c.abrupt("return",c.sent);case 22:case"end":return c.stop()}},r,this,[[2,13,16,19]])}));return function(r){return n.apply(this,arguments)}}()},{key:"upsertUser",value:function(e){return this.upsertUsers([e])}},{key:"partialUpdateUsers",value:function(){var n=P(p().mark(function r(i){var s,o;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:s=no(i),u.prev=1,s.s();case 3:if((o=s.n()).done){u.next=9;break}if(o.value.id){u.next=7;break}throw Error("User ID is required when updating a user");case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),s.e(u.t0);case 14:return u.prev=14,s.f(),u.finish(14);case 17:return u.next=19,this.patch(this.baseURL+"/users",{users:i});case 19:return u.abrupt("return",u.sent);case 20:case"end":return u.stop()}},r,this,[[1,11,14,17]])}));return function(r){return n.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.delete(this.baseURL+"/users/".concat(i),s);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"reactivateUser",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/users/".concat(i,"/reactivate"),pe({},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"deactivateUser",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/users/".concat(i,"/deactivate"),pe({},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"exportUser",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.get(this.baseURL+"/users/".concat(i,"/export"),pe({},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"banUser",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return void 0!==(null==s?void 0:s.user_id)&&(s.banned_by_id=s.user_id,delete s.user_id,console.warn("banUser: 'user_id' is deprecated, please consider switching to 'banned_by_id'")),void 0!==(null==s?void 0:s.user)&&(s.banned_by=s.user,delete s.user,console.warn("banUser: 'user' is deprecated, please consider switching to 'banned_by'")),a.next=4,this.post(this.baseURL+"/moderation/ban",pe({target_user_id:i},s));case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"unbanUser",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.delete(this.baseURL+"/moderation/ban",pe({target_user_id:i},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"shadowBan",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.banUser(i,pe({shadow:!0},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"removeShadowBan",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.unbanUser(i,pe({shadow:!0},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"muteUser",value:function(){var n=P(p().mark(function r(i,s){var o,a=arguments;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=a.length>2&&void 0!==a[2]?a[2]:{},u.next=3,this.post(this.baseURL+"/moderation/mute",pe(pe({target_id:i},s?{user_id:s}:{}),o));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"unmuteUser",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/moderation/unmute",pe({target_id:i},s?{user_id:s}:{}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"userMuteStatus",value:function(e){if(!this.user||!this.wsPromise)throw new Error("Make sure to await connectUser() first.");for(var r=0;r<this.mutedUsers.length;r+=1)if(this.mutedUsers[r].target.id===e)return!0;return!1}},{key:"flagMessage",value:function(){var n=P(p().mark(function r(i){var s,o=arguments;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&void 0!==o[1]?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/flag",pe({target_message_id:i},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"flagUser",value:function(){var n=P(p().mark(function r(i){var s,o=arguments;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&void 0!==o[1]?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/flag",pe({target_user_id:i},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"unflagMessage",value:function(){var n=P(p().mark(function r(i){var s,o=arguments;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&void 0!==o[1]?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/unflag",pe({target_message_id:i},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"unflagUser",value:function(){var n=P(p().mark(function r(i){var s,o=arguments;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&void 0!==o[1]?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/unflag",pe({target_user_id:i},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"markChannelsRead",value:function(){var n=P(p().mark(function r(){var i,s=arguments;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=s.length>0&&void 0!==s[0]?s[0]:{},a.next=3,this.post(this.baseURL+"/channels/read",pe({},i));case 3:case"end":return a.stop()}},r,this)}));return function(){return n.apply(this,arguments)}}()},{key:"createCommand",value:function(e){return this.post(this.baseURL+"/commands",e)}},{key:"getCommand",value:function(e){return this.get(this.baseURL+"/commands/".concat(e))}},{key:"updateCommand",value:function(e,r){return this.put(this.baseURL+"/commands/".concat(e),r)}},{key:"deleteCommand",value:function(e){return this.delete(this.baseURL+"/commands/".concat(e))}},{key:"listCommands",value:function(){return this.get(this.baseURL+"/commands")}},{key:"createChannelType",value:function(e){var r=qi({},{commands:["all"]},e);return this.post(this.baseURL+"/channeltypes",r)}},{key:"getChannelType",value:function(e){return this.get(this.baseURL+"/channeltypes/".concat(e))}},{key:"updateChannelType",value:function(e,r){return this.put(this.baseURL+"/channeltypes/".concat(e),r)}},{key:"deleteChannelType",value:function(e){return this.delete(this.baseURL+"/channeltypes/".concat(e))}},{key:"listChannelTypes",value:function(){return this.get(this.baseURL+"/channeltypes")}},{key:"translateMessage",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/messages/".concat(i,"/translate"),{language:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"_normalizeExpiration",value:function(e){var r;if("number"==typeof e){var i=new Date;i.setSeconds(i.getSeconds()+e),r=i.toISOString()}else Zi(e)?r=e:e instanceof Date&&(r=e.toISOString());return r}},{key:"_validateAndGetMessageId",value:function(e,r){var i;if("string"==typeof e)i=e;else{if(!e.id)throw Error(r);i=e.id}return i}},{key:"pinMessage",value:function(e,r,i){var s=this._validateAndGetMessageId(e,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(s,{set:{pinned:!0,pin_expires:this._normalizeExpiration(r)}},i)}},{key:"unpinMessage",value:function(e,r){var i=this._validateAndGetMessageId(e,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(i,{set:{pinned:!1}},r)}},{key:"updateMessage",value:function(){var n=P(p().mark(function r(i,s,o){var a;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i.id){c.next=2;break}throw Error("Please specify the message id when calling updateMessage");case 2:return delete(a=qi({},i)).id,["command","created_at","html","latest_reactions","own_reactions","reaction_counts","reply_count","type","updated_at","user","__html"].forEach(function(d){null!=a[d]&&delete a[d]}),null!=s&&(Zi(s)?a.user_id=s:a.user={id:s.id}),Array.isArray(a.mentioned_users)&&!Zi(a.mentioned_users[0])&&(a.mentioned_users=a.mentioned_users.map(function(d){return d.id})),c.next=10,this.post(this.baseURL+"/messages/".concat(i.id),pe({message:a},o));case 10:return c.abrupt("return",c.sent);case 11:case"end":return c.stop()}},r,this)}));return function(r,i,s){return n.apply(this,arguments)}}()},{key:"partialUpdateMessage",value:function(){var n=P(p().mark(function r(i,s,o,a){var l;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i){c.next=2;break}throw Error("Please specify the message id when calling partialUpdateMessage");case 2:return l=o,null!=o&&Zi(o)&&(l={id:o}),c.next=6,this.put(this.baseURL+"/messages/".concat(i),pe(pe(pe({},s),a),{},{user:l}));case 6:return c.abrupt("return",c.sent);case 7:case"end":return c.stop()}},r,this)}));return function(r,i,s,o){return n.apply(this,arguments)}}()},{key:"deleteMessage",value:function(){var n=P(p().mark(function r(i,s){var o;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o={},s&&(o={hard:!0}),l.next=4,this.delete(this.baseURL+"/messages/".concat(i),o);case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"getMessage",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/messages/".concat(i));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"getUserAgent",value:function(){return this.userAgent||"stream-chat-javascript-client-".concat(this.node?"node":"browser","-","4.4.3")}},{key:"setUserAgent",value:function(e){this.userAgent=e}},{key:"_enrichAxiosOptions",value:function(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{params:{},headers:{},config:{}},s=this._getToken();return null!==(e=i.headers)&&void 0!==e&&e["x-client-request-id"]||(i.headers=pe(pe({},i.headers),{},{"x-client-request-id":Yi()})),pe({params:pe(pe({user_id:this.userID},i.params),{},{api_key:this.key,connection_id:null===(r=this.wsConnection)||void 0===r?void 0:r.connectionID}),headers:pe({Authorization:s,"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent()},i.headers)},i.config)}},{key:"_getToken",value:function(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}},{key:"_startCleaning",value:function(){var e=this;null==this.cleaningIntervalRef&&(this.cleaningIntervalRef=setInterval(function(){for(var r=0,i=Object.values(e.activeChannels);r<i.length;r++)i[r].clean()},500))}},{key:"verifyWebhook",value:function(e,r){return!!this.secret&&function(t,n,e){var r=Buffer.from(n,"ascii");return null.createHmac("sha256",r).update(t).digest("hex")===e}(e,this.secret,r)}},{key:"getPermission",value:function(e){return this.get("".concat(this.baseURL,"/permissions/").concat(e))}},{key:"createPermission",value:function(e){return this.post("".concat(this.baseURL,"/permissions"),pe({},e))}},{key:"updatePermission",value:function(e,r){return this.put("".concat(this.baseURL,"/permissions/").concat(e),pe({},r))}},{key:"deletePermission",value:function(e){return this.delete("".concat(this.baseURL,"/permissions/").concat(e))}},{key:"listPermissions",value:function(){return this.get("".concat(this.baseURL,"/permissions"))}},{key:"createRole",value:function(e){return this.post("".concat(this.baseURL,"/roles"),{name:e})}},{key:"listRoles",value:function(){return this.get("".concat(this.baseURL,"/roles"))}},{key:"deleteRole",value:function(e){return this.delete("".concat(this.baseURL,"/roles/").concat(e))}},{key:"sync",value:function(e,r){return this.post("".concat(this.baseURL,"/sync"),{channel_cids:e,last_sync_at:r})}},{key:"sendUserCustomEvent",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post("".concat(this.baseURL,"/users/").concat(i,"/event"),{event:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"createBlockList",value:function(e){return this.post("".concat(this.baseURL,"/blocklists"),e)}},{key:"listBlockLists",value:function(){return this.get("".concat(this.baseURL,"/blocklists"))}},{key:"getBlockList",value:function(e){return this.get("".concat(this.baseURL,"/blocklists/").concat(e))}},{key:"updateBlockList",value:function(e,r){return this.put("".concat(this.baseURL,"/blocklists/").concat(e),r)}},{key:"deleteBlockList",value:function(e){return this.delete("".concat(this.baseURL,"/blocklists/").concat(e))}},{key:"exportChannels",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=pe({channels:e},r);return this.post("".concat(this.baseURL,"/export_channels"),i)}},{key:"exportChannel",value:function(e,r){return this.exportChannels([e],r)}},{key:"getExportChannelStatus",value:function(e){return this.get("".concat(this.baseURL,"/export_channels/").concat(e))}},{key:"createSegment",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.post(this.baseURL+"/segments",{segment:i});case 2:return l.abrupt("return",l.sent.segment);case 5:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"getSegment",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.get(this.baseURL+"/segments/".concat(i));case 2:return l.abrupt("return",l.sent.segment);case 5:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"listSegments",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.get(this.baseURL+"/segments",i);case 2:return l.abrupt("return",l.sent.segments);case 5:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"updateSegment",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.put(this.baseURL+"/segments/".concat(i),{segment:s});case 2:return u.abrupt("return",u.sent.segment);case 5:case"end":return u.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"deleteSegment",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.delete(this.baseURL+"/segments/".concat(i)));case 1:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"createCampaign",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.post(this.baseURL+"/campaigns",{campaign:i});case 2:return l.abrupt("return",l.sent.campaign);case 5:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"getCampaign",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.get(this.baseURL+"/campaigns/".concat(i));case 2:return l.abrupt("return",l.sent.campaign);case 5:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"listCampaigns",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.get(this.baseURL+"/campaigns",i);case 2:return l.abrupt("return",l.sent.campaigns);case 5:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"updateCampaign",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.put(this.baseURL+"/campaigns/".concat(i),{campaign:s});case 2:return u.abrupt("return",u.sent.campaign);case 5:case"end":return u.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"deleteCampaign",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.delete(this.baseURL+"/campaigns/".concat(i)));case 1:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"scheduleCampaign",value:function(){var n=P(p().mark(function r(i,s){var o;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=s.sendAt,c.next=3,this.patch(this.baseURL+"/campaigns/".concat(i,"/schedule"),{send_at:o});case 3:return c.abrupt("return",c.sent.campaign);case 6:case"end":return c.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"stopCampaign",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.patch(this.baseURL+"/campaigns/".concat(i,"/stop"));case 2:return l.abrupt("return",l.sent.campaign);case 5:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"resumeCampaign",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.patch(this.baseURL+"/campaigns/".concat(i,"/resume"));case 2:return l.abrupt("return",l.sent.campaign);case 5:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"testCampaign",value:function(){var n=P(p().mark(function r(i,s){var o;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=s.users,c.next=3,this.post(this.baseURL+"/campaigns/".concat(i,"/test"),{users:o});case 3:return c.abrupt("return",c.sent.campaign);case 6:case"end":return c.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()},{key:"enrichURL",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.get(this.baseURL+"/og",{url:i}));case 1:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"getTask",value:function(){var n=P(p().mark(function r(i){return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.get("".concat(this.baseURL,"/tasks/").concat(i)));case 1:case"end":return o.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"deleteChannels",value:function(){var n=P(p().mark(function r(i){var s,o=arguments;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&void 0!==o[1]?o[1]:{},l.next=3,this.post(this.baseURL+"/channels/delete",pe({cids:i},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},r,this)}));return function(r){return n.apply(this,arguments)}}()},{key:"deleteUsers",value:function(){var n=P(p().mark(function r(i,s){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("soft"===(null==s?void 0:s.user)||"hard"===(null==s?void 0:s.user)){a.next=2;break}throw new Error("Invalid delete user options. user must be one of [soft hard]");case 2:if(void 0===s.messages||"soft"===s.messages||"hard"===s.messages){a.next=4;break}throw new Error("Invalid delete user options. messages must be one of [soft hard]");case 4:if(void 0===s.conversations||"soft"===s.conversations||"hard"===s.conversations){a.next=6;break}throw new Error("Invalid delete user options. conversations must be one of [soft hard]");case 6:return a.next=8,this.post(this.baseURL+"/users/delete",pe({user_ids:i},s));case 8:return a.abrupt("return",a.sent);case 9:case"end":return a.stop()}},r,this)}));return function(r,i){return n.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e,r,i){return t._instance||(t._instance="string"==typeof r?new t(e,r,i):new t(e,r)),t._instance}}]),t;var n}();w(G_,"_instance",void 0);var q_="Allow",ld=["*"],ud=["*"],K_=function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ld,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ud,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:q_;Ir(this,t),w(this,"name",void 0),w(this,"action",void 0),w(this,"owner",void 0),w(this,"priority",void 0),w(this,"resources",void 0),w(this,"roles",void 0),this.name=n,this.action=o,this.owner=s,this.priority=e,this.resources=r,this.roles=i};new K_("Allow all",999,ld,ud,!1,q_),new K_("Deny all",1,ld,ud,!1,"Deny");const Y_=V(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function cd(t,n){return ke((e,r)=>{let i=0;e.subscribe(new Be(r,s=>t.call(n,s,i++)&&r.next(s)))})}function FA(t){return ke((n,e)=>{let r=!1;n.subscribe(new Be(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function LA(t=PA){return ke((n,e)=>{let r=!1;n.subscribe(new Be(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function PA(){return new Y_}function ro(t,n){const e=arguments.length>=2;return r=>r.pipe(t?cd((i,s)=>t(i,s,r)):X,Xr(1),e?FA(n):LA(()=>new Y_))}function io(t){return ke((n,e)=>{let s,r=null,i=!1;r=n.subscribe(new Be(e,void 0,void 0,o=>{s=Bn(t(o,io(t)(n))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function Z_(...t){const n=co(t);return ke((e,r)=>{(n?Pa(t,e,n):Pa(t,e)).subscribe(r)})}function Q_(t,n=X){return t=null!=t?t:NA,ke((e,r)=>{let i,s=!0;e.subscribe(new Be(r,o=>{const a=n(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function NA(t,n){return t===n}class UA extends T{constructor(n,e){super()}schedule(n,e=0){return this}}const Wa={setInterval(...t){const{delegate:n}=Wa;return((null==n?void 0:n.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:n}=Wa;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0};class so{constructor(n,e=so.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}so.now=Kc.now;const VA=new class extends so{constructor(n,e=so.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class extends UA{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(n,e,r=0){return Wa.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;Wa.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,M(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}});function dd(t,n,e){const r=D(t)||n||e?{next:t,error:n,complete:e}:t;return r?ke((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Be(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):X}var Ga,HA=new Uint8Array(16);function zA(){if(!Ga&&!(Ga="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ga(HA)}const WA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,qA=function(t){return"string"==typeof t&&WA.test(t)};for(var xt=[],fd=0;fd<256;++fd)xt.push((fd+256).toString(16).substr(1));const QA=function(t,n,e){var r=(t=t||{}).random||(t.rng||zA)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(var i=0;i<16;++i)n[e+i]=r[i];return n}return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(xt[t[n+0]]+xt[t[n+1]]+xt[t[n+2]]+xt[t[n+3]]+"-"+xt[t[n+4]]+xt[t[n+5]]+"-"+xt[t[n+6]]+xt[t[n+7]]+"-"+xt[t[n+8]]+xt[t[n+9]]+"-"+xt[t[n+10]]+xt[t[n+11]]+xt[t[n+12]]+xt[t[n+13]]+xt[t[n+14]]+xt[t[n+15]]).toLowerCase();if(!qA(e))throw TypeError("Stringified UUID is invalid");return e}(r)};var JA=E(764),J_=E.n(JA),XA=E(563),ek=E.n(XA),tk=E(431),nk=E.n(tk),rk=E(711);function hd(){return hd=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},hd.apply(this,arguments)}var ik=/[|\\{}()[\]^$+*?.]/g,sk=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(ik,"\\$&")};const ok=[["\xdf","ss"],["\u1e9e","Ss"],["\xe4","ae"],["\xc4","Ae"],["\xf6","oe"],["\xd6","Oe"],["\xfc","ue"],["\xdc","Ue"],["\xc0","A"],["\xc1","A"],["\xc2","A"],["\xc3","A"],["\xc4","Ae"],["\xc5","A"],["\xc6","AE"],["\xc7","C"],["\xc8","E"],["\xc9","E"],["\xca","E"],["\xcb","E"],["\xcc","I"],["\xcd","I"],["\xce","I"],["\xcf","I"],["\xd0","D"],["\xd1","N"],["\xd2","O"],["\xd3","O"],["\xd4","O"],["\xd5","O"],["\xd6","Oe"],["\u0150","O"],["\xd8","O"],["\xd9","U"],["\xda","U"],["\xdb","U"],["\xdc","Ue"],["\u0170","U"],["\xdd","Y"],["\xde","TH"],["\xdf","ss"],["\xe0","a"],["\xe1","a"],["\xe2","a"],["\xe3","a"],["\xe4","ae"],["\xe5","a"],["\xe6","ae"],["\xe7","c"],["\xe8","e"],["\xe9","e"],["\xea","e"],["\xeb","e"],["\xec","i"],["\xed","i"],["\xee","i"],["\xef","i"],["\xf0","d"],["\xf1","n"],["\xf2","o"],["\xf3","o"],["\xf4","o"],["\xf5","o"],["\xf6","oe"],["\u0151","o"],["\xf8","o"],["\xf9","u"],["\xfa","u"],["\xfb","u"],["\xfc","ue"],["\u0171","u"],["\xfd","y"],["\xfe","th"],["\xff","y"],["\u1e9e","SS"],["\xe0","a"],["\xc0","A"],["\xe1","a"],["\xc1","A"],["\xe2","a"],["\xc2","A"],["\xe3","a"],["\xc3","A"],["\xe8","e"],["\xc8","E"],["\xe9","e"],["\xc9","E"],["\xea","e"],["\xca","E"],["\xec","i"],["\xcc","I"],["\xed","i"],["\xcd","I"],["\xf2","o"],["\xd2","O"],["\xf3","o"],["\xd3","O"],["\xf4","o"],["\xd4","O"],["\xf5","o"],["\xd5","O"],["\xf9","u"],["\xd9","U"],["\xfa","u"],["\xda","U"],["\xfd","y"],["\xdd","Y"],["\u0103","a"],["\u0102","A"],["\u0110","D"],["\u0111","d"],["\u0129","i"],["\u0128","I"],["\u0169","u"],["\u0168","U"],["\u01a1","o"],["\u01a0","O"],["\u01b0","u"],["\u01af","U"],["\u1ea1","a"],["\u1ea0","A"],["\u1ea3","a"],["\u1ea2","A"],["\u1ea5","a"],["\u1ea4","A"],["\u1ea7","a"],["\u1ea6","A"],["\u1ea9","a"],["\u1ea8","A"],["\u1eab","a"],["\u1eaa","A"],["\u1ead","a"],["\u1eac","A"],["\u1eaf","a"],["\u1eae","A"],["\u1eb1","a"],["\u1eb0","A"],["\u1eb3","a"],["\u1eb2","A"],["\u1eb5","a"],["\u1eb4","A"],["\u1eb7","a"],["\u1eb6","A"],["\u1eb9","e"],["\u1eb8","E"],["\u1ebb","e"],["\u1eba","E"],["\u1ebd","e"],["\u1ebc","E"],["\u1ebf","e"],["\u1ebe","E"],["\u1ec1","e"],["\u1ec0","E"],["\u1ec3","e"],["\u1ec2","E"],["\u1ec5","e"],["\u1ec4","E"],["\u1ec7","e"],["\u1ec6","E"],["\u1ec9","i"],["\u1ec8","I"],["\u1ecb","i"],["\u1eca","I"],["\u1ecd","o"],["\u1ecc","O"],["\u1ecf","o"],["\u1ece","O"],["\u1ed1","o"],["\u1ed0","O"],["\u1ed3","o"],["\u1ed2","O"],["\u1ed5","o"],["\u1ed4","O"],["\u1ed7","o"],["\u1ed6","O"],["\u1ed9","o"],["\u1ed8","O"],["\u1edb","o"],["\u1eda","O"],["\u1edd","o"],["\u1edc","O"],["\u1edf","o"],["\u1ede","O"],["\u1ee1","o"],["\u1ee0","O"],["\u1ee3","o"],["\u1ee2","O"],["\u1ee5","u"],["\u1ee4","U"],["\u1ee7","u"],["\u1ee6","U"],["\u1ee9","u"],["\u1ee8","U"],["\u1eeb","u"],["\u1eea","U"],["\u1eed","u"],["\u1eec","U"],["\u1eef","u"],["\u1eee","U"],["\u1ef1","u"],["\u1ef0","U"],["\u1ef3","y"],["\u1ef2","Y"],["\u1ef5","y"],["\u1ef4","Y"],["\u1ef7","y"],["\u1ef6","Y"],["\u1ef9","y"],["\u1ef8","Y"],["\u0621","e"],["\u0622","a"],["\u0623","a"],["\u0624","w"],["\u0625","i"],["\u0626","y"],["\u0627","a"],["\u0628","b"],["\u0629","t"],["\u062a","t"],["\u062b","th"],["\u062c","j"],["\u062d","h"],["\u062e","kh"],["\u062f","d"],["\u0630","dh"],["\u0631","r"],["\u0632","z"],["\u0633","s"],["\u0634","sh"],["\u0635","s"],["\u0636","d"],["\u0637","t"],["\u0638","z"],["\u0639","e"],["\u063a","gh"],["\u0640","_"],["\u0641","f"],["\u0642","q"],["\u0643","k"],["\u0644","l"],["\u0645","m"],["\u0646","n"],["\u0647","h"],["\u0648","w"],["\u0649","a"],["\u064a","y"],["\u064e\u200e","a"],["\u064f","u"],["\u0650\u200e","i"],["\u0660","0"],["\u0661","1"],["\u0662","2"],["\u0663","3"],["\u0664","4"],["\u0665","5"],["\u0666","6"],["\u0667","7"],["\u0668","8"],["\u0669","9"],["\u0686","ch"],["\u06a9","k"],["\u06af","g"],["\u067e","p"],["\u0698","zh"],["\u06cc","y"],["\u06f0","0"],["\u06f1","1"],["\u06f2","2"],["\u06f3","3"],["\u06f4","4"],["\u06f5","5"],["\u06f6","6"],["\u06f7","7"],["\u06f8","8"],["\u06f9","9"],["\u067c","p"],["\u0681","z"],["\u0685","c"],["\u0689","d"],["\ufeab","d"],["\ufead","r"],["\u0693","r"],["\ufeaf","z"],["\u0696","g"],["\u069a","x"],["\u06ab","g"],["\u06bc","n"],["\u06c0","e"],["\u06d0","e"],["\u06cd","ai"],["\u0679","t"],["\u0688","d"],["\u0691","r"],["\u06ba","n"],["\u06c1","h"],["\u06be","h"],["\u06d2","e"],["\u0410","A"],["\u0430","a"],["\u0411","B"],["\u0431","b"],["\u0412","V"],["\u0432","v"],["\u0413","G"],["\u0433","g"],["\u0414","D"],["\u0434","d"],["\u044a\u0435","ye"],["\u042a\u0435","Ye"],["\u044a\u0415","yE"],["\u042a\u0415","YE"],["\u0415","E"],["\u0435","e"],["\u0401","Yo"],["\u0451","yo"],["\u0416","Zh"],["\u0436","zh"],["\u0417","Z"],["\u0437","z"],["\u0418","I"],["\u0438","i"],["\u044b\u0439","iy"],["\u042b\u0439","Iy"],["\u042b\u0419","IY"],["\u044b\u0419","iY"],["\u0419","Y"],["\u0439","y"],["\u041a","K"],["\u043a","k"],["\u041b","L"],["\u043b","l"],["\u041c","M"],["\u043c","m"],["\u041d","N"],["\u043d","n"],["\u041e","O"],["\u043e","o"],["\u041f","P"],["\u043f","p"],["\u0420","R"],["\u0440","r"],["\u0421","S"],["\u0441","s"],["\u0422","T"],["\u0442","t"],["\u0423","U"],["\u0443","u"],["\u0424","F"],["\u0444","f"],["\u0425","Kh"],["\u0445","kh"],["\u0426","Ts"],["\u0446","ts"],["\u0427","Ch"],["\u0447","ch"],["\u0428","Sh"],["\u0448","sh"],["\u0429","Sch"],["\u0449","sch"],["\u042a",""],["\u044a",""],["\u042b","Y"],["\u044b","y"],["\u042c",""],["\u044c",""],["\u042d","E"],["\u044d","e"],["\u042e","Yu"],["\u044e","yu"],["\u042f","Ya"],["\u044f","ya"],["\u0103","a"],["\u0102","A"],["\u0219","s"],["\u0218","S"],["\u021b","t"],["\u021a","T"],["\u0163","t"],["\u0162","T"],["\u015f","s"],["\u015e","S"],["\xe7","c"],["\xc7","C"],["\u011f","g"],["\u011e","G"],["\u0131","i"],["\u0130","I"],["\u0561","a"],["\u0531","A"],["\u0562","b"],["\u0532","B"],["\u0563","g"],["\u0533","G"],["\u0564","d"],["\u0534","D"],["\u0565","ye"],["\u0535","Ye"],["\u0566","z"],["\u0536","Z"],["\u0567","e"],["\u0537","E"],["\u0568","y"],["\u0538","Y"],["\u0569","t"],["\u0539","T"],["\u056a","zh"],["\u053a","Zh"],["\u056b","i"],["\u053b","I"],["\u056c","l"],["\u053c","L"],["\u056d","kh"],["\u053d","Kh"],["\u056e","ts"],["\u053e","Ts"],["\u056f","k"],["\u053f","K"],["\u0570","h"],["\u0540","H"],["\u0571","dz"],["\u0541","Dz"],["\u0572","gh"],["\u0542","Gh"],["\u0573","tch"],["\u0543","Tch"],["\u0574","m"],["\u0544","M"],["\u0575","y"],["\u0545","Y"],["\u0576","n"],["\u0546","N"],["\u0577","sh"],["\u0547","Sh"],["\u0578","vo"],["\u0548","Vo"],["\u0579","ch"],["\u0549","Ch"],["\u057a","p"],["\u054a","P"],["\u057b","j"],["\u054b","J"],["\u057c","r"],["\u054c","R"],["\u057d","s"],["\u054d","S"],["\u057e","v"],["\u054e","V"],["\u057f","t"],["\u054f","T"],["\u0580","r"],["\u0550","R"],["\u0581","c"],["\u0551","C"],["\u0578\u0582","u"],["\u0548\u0552","U"],["\u0548\u0582","U"],["\u0583","p"],["\u0553","P"],["\u0584","q"],["\u0554","Q"],["\u0585","o"],["\u0555","O"],["\u0586","f"],["\u0556","F"],["\u0587","yev"],["\u10d0","a"],["\u10d1","b"],["\u10d2","g"],["\u10d3","d"],["\u10d4","e"],["\u10d5","v"],["\u10d6","z"],["\u10d7","t"],["\u10d8","i"],["\u10d9","k"],["\u10da","l"],["\u10db","m"],["\u10dc","n"],["\u10dd","o"],["\u10de","p"],["\u10df","zh"],["\u10e0","r"],["\u10e1","s"],["\u10e2","t"],["\u10e3","u"],["\u10e4","ph"],["\u10e5","q"],["\u10e6","gh"],["\u10e7","k"],["\u10e8","sh"],["\u10e9","ch"],["\u10ea","ts"],["\u10eb","dz"],["\u10ec","ts"],["\u10ed","tch"],["\u10ee","kh"],["\u10ef","j"],["\u10f0","h"],["\u010d","c"],["\u010f","d"],["\u011b","e"],["\u0148","n"],["\u0159","r"],["\u0161","s"],["\u0165","t"],["\u016f","u"],["\u017e","z"],["\u010c","C"],["\u010e","D"],["\u011a","E"],["\u0147","N"],["\u0158","R"],["\u0160","S"],["\u0164","T"],["\u016e","U"],["\u017d","Z"],["\u0780","h"],["\u0781","sh"],["\u0782","n"],["\u0783","r"],["\u0784","b"],["\u0785","lh"],["\u0786","k"],["\u0787","a"],["\u0788","v"],["\u0789","m"],["\u078a","f"],["\u078b","dh"],["\u078c","th"],["\u078d","l"],["\u078e","g"],["\u078f","gn"],["\u0790","s"],["\u0791","d"],["\u0792","z"],["\u0793","t"],["\u0794","y"],["\u0795","p"],["\u0796","j"],["\u0797","ch"],["\u0798","tt"],["\u0799","hh"],["\u079a","kh"],["\u079b","th"],["\u079c","z"],["\u079d","sh"],["\u079e","s"],["\u079f","d"],["\u07a0","t"],["\u07a1","z"],["\u07a2","a"],["\u07a3","gh"],["\u07a4","q"],["\u07a5","w"],["\u07a6","a"],["\u07a7","aa"],["\u07a8","i"],["\u07a9","ee"],["\u07aa","u"],["\u07ab","oo"],["\u07ac","e"],["\u07ad","ey"],["\u07ae","o"],["\u07af","oa"],["\u07b0",""],["\u03b1","a"],["\u03b2","v"],["\u03b3","g"],["\u03b4","d"],["\u03b5","e"],["\u03b6","z"],["\u03b7","i"],["\u03b8","th"],["\u03b9","i"],["\u03ba","k"],["\u03bb","l"],["\u03bc","m"],["\u03bd","n"],["\u03be","ks"],["\u03bf","o"],["\u03c0","p"],["\u03c1","r"],["\u03c3","s"],["\u03c4","t"],["\u03c5","y"],["\u03c6","f"],["\u03c7","x"],["\u03c8","ps"],["\u03c9","o"],["\u03ac","a"],["\u03ad","e"],["\u03af","i"],["\u03cc","o"],["\u03cd","y"],["\u03ae","i"],["\u03ce","o"],["\u03c2","s"],["\u03ca","i"],["\u03b0","y"],["\u03cb","y"],["\u0390","i"],["\u0391","A"],["\u0392","B"],["\u0393","G"],["\u0394","D"],["\u0395","E"],["\u0396","Z"],["\u0397","I"],["\u0398","TH"],["\u0399","I"],["\u039a","K"],["\u039b","L"],["\u039c","M"],["\u039d","N"],["\u039e","KS"],["\u039f","O"],["\u03a0","P"],["\u03a1","R"],["\u03a3","S"],["\u03a4","T"],["\u03a5","Y"],["\u03a6","F"],["\u03a7","X"],["\u03a8","PS"],["\u03a9","O"],["\u0386","A"],["\u0388","E"],["\u038a","I"],["\u038c","O"],["\u038e","Y"],["\u0389","I"],["\u038f","O"],["\u03aa","I"],["\u03ab","Y"],["\u0101","a"],["\u0113","e"],["\u0123","g"],["\u012b","i"],["\u0137","k"],["\u013c","l"],["\u0146","n"],["\u016b","u"],["\u0100","A"],["\u0112","E"],["\u0122","G"],["\u012a","I"],["\u0136","K"],["\u013b","L"],["\u0145","N"],["\u016a","U"],["\u010d","c"],["\u0161","s"],["\u017e","z"],["\u010c","C"],["\u0160","S"],["\u017d","Z"],["\u0105","a"],["\u010d","c"],["\u0119","e"],["\u0117","e"],["\u012f","i"],["\u0161","s"],["\u0173","u"],["\u016b","u"],["\u017e","z"],["\u0104","A"],["\u010c","C"],["\u0118","E"],["\u0116","E"],["\u012e","I"],["\u0160","S"],["\u0172","U"],["\u016a","U"],["\u040c","Kj"],["\u045c","kj"],["\u0409","Lj"],["\u0459","lj"],["\u040a","Nj"],["\u045a","nj"],["\u0422\u0441","Ts"],["\u0442\u0441","ts"],["\u0105","a"],["\u0107","c"],["\u0119","e"],["\u0142","l"],["\u0144","n"],["\u015b","s"],["\u017a","z"],["\u017c","z"],["\u0104","A"],["\u0106","C"],["\u0118","E"],["\u0141","L"],["\u0143","N"],["\u015a","S"],["\u0179","Z"],["\u017b","Z"],["\u0404","Ye"],["\u0406","I"],["\u0407","Yi"],["\u0490","G"],["\u0454","ye"],["\u0456","i"],["\u0457","yi"],["\u0491","g"],["\u0132","IJ"],["\u0133","ij"],["\xa2","c"],["\xa5","Y"],["\u07ff","b"],["\u09f3","t"],["\u0af1","Bo"],["\u0e3f","B"],["\u20a0","CE"],["\u20a1","C"],["\u20a2","Cr"],["\u20a3","F"],["\u20a5","m"],["\u20a6","N"],["\u20a7","Pt"],["\u20a8","Rs"],["\u20a9","W"],["\u20ab","s"],["\u20ac","E"],["\u20ad","K"],["\u20ae","T"],["\u20af","Dp"],["\u20b0","S"],["\u20b1","P"],["\u20b2","G"],["\u20b3","A"],["\u20b4","S"],["\u20b5","C"],["\u20b6","tt"],["\u20b7","S"],["\u20b8","T"],["\u20b9","R"],["\u20ba","L"],["\u20bd","P"],["\u20bf","B"],["\ufe69","$"],["\uffe0","c"],["\uffe5","Y"],["\uffe6","W"],["\u{1d400}","A"],["\u{1d401}","B"],["\u{1d402}","C"],["\u{1d403}","D"],["\u{1d404}","E"],["\u{1d405}","F"],["\u{1d406}","G"],["\u{1d407}","H"],["\u{1d408}","I"],["\u{1d409}","J"],["\u{1d40a}","K"],["\u{1d40b}","L"],["\u{1d40c}","M"],["\u{1d40d}","N"],["\u{1d40e}","O"],["\u{1d40f}","P"],["\u{1d410}","Q"],["\u{1d411}","R"],["\u{1d412}","S"],["\u{1d413}","T"],["\u{1d414}","U"],["\u{1d415}","V"],["\u{1d416}","W"],["\u{1d417}","X"],["\u{1d418}","Y"],["\u{1d419}","Z"],["\u{1d41a}","a"],["\u{1d41b}","b"],["\u{1d41c}","c"],["\u{1d41d}","d"],["\u{1d41e}","e"],["\u{1d41f}","f"],["\u{1d420}","g"],["\u{1d421}","h"],["\u{1d422}","i"],["\u{1d423}","j"],["\u{1d424}","k"],["\u{1d425}","l"],["\u{1d426}","m"],["\u{1d427}","n"],["\u{1d428}","o"],["\u{1d429}","p"],["\u{1d42a}","q"],["\u{1d42b}","r"],["\u{1d42c}","s"],["\u{1d42d}","t"],["\u{1d42e}","u"],["\u{1d42f}","v"],["\u{1d430}","w"],["\u{1d431}","x"],["\u{1d432}","y"],["\u{1d433}","z"],["\u{1d434}","A"],["\u{1d435}","B"],["\u{1d436}","C"],["\u{1d437}","D"],["\u{1d438}","E"],["\u{1d439}","F"],["\u{1d43a}","G"],["\u{1d43b}","H"],["\u{1d43c}","I"],["\u{1d43d}","J"],["\u{1d43e}","K"],["\u{1d43f}","L"],["\u{1d440}","M"],["\u{1d441}","N"],["\u{1d442}","O"],["\u{1d443}","P"],["\u{1d444}","Q"],["\u{1d445}","R"],["\u{1d446}","S"],["\u{1d447}","T"],["\u{1d448}","U"],["\u{1d449}","V"],["\u{1d44a}","W"],["\u{1d44b}","X"],["\u{1d44c}","Y"],["\u{1d44d}","Z"],["\u{1d44e}","a"],["\u{1d44f}","b"],["\u{1d450}","c"],["\u{1d451}","d"],["\u{1d452}","e"],["\u{1d453}","f"],["\u{1d454}","g"],["\u{1d456}","i"],["\u{1d457}","j"],["\u{1d458}","k"],["\u{1d459}","l"],["\u{1d45a}","m"],["\u{1d45b}","n"],["\u{1d45c}","o"],["\u{1d45d}","p"],["\u{1d45e}","q"],["\u{1d45f}","r"],["\u{1d460}","s"],["\u{1d461}","t"],["\u{1d462}","u"],["\u{1d463}","v"],["\u{1d464}","w"],["\u{1d465}","x"],["\u{1d466}","y"],["\u{1d467}","z"],["\u{1d468}","A"],["\u{1d469}","B"],["\u{1d46a}","C"],["\u{1d46b}","D"],["\u{1d46c}","E"],["\u{1d46d}","F"],["\u{1d46e}","G"],["\u{1d46f}","H"],["\u{1d470}","I"],["\u{1d471}","J"],["\u{1d472}","K"],["\u{1d473}","L"],["\u{1d474}","M"],["\u{1d475}","N"],["\u{1d476}","O"],["\u{1d477}","P"],["\u{1d478}","Q"],["\u{1d479}","R"],["\u{1d47a}","S"],["\u{1d47b}","T"],["\u{1d47c}","U"],["\u{1d47d}","V"],["\u{1d47e}","W"],["\u{1d47f}","X"],["\u{1d480}","Y"],["\u{1d481}","Z"],["\u{1d482}","a"],["\u{1d483}","b"],["\u{1d484}","c"],["\u{1d485}","d"],["\u{1d486}","e"],["\u{1d487}","f"],["\u{1d488}","g"],["\u{1d489}","h"],["\u{1d48a}","i"],["\u{1d48b}","j"],["\u{1d48c}","k"],["\u{1d48d}","l"],["\u{1d48e}","m"],["\u{1d48f}","n"],["\u{1d490}","o"],["\u{1d491}","p"],["\u{1d492}","q"],["\u{1d493}","r"],["\u{1d494}","s"],["\u{1d495}","t"],["\u{1d496}","u"],["\u{1d497}","v"],["\u{1d498}","w"],["\u{1d499}","x"],["\u{1d49a}","y"],["\u{1d49b}","z"],["\u{1d49c}","A"],["\u{1d49e}","C"],["\u{1d49f}","D"],["\u{1d4a2}","g"],["\u{1d4a5}","J"],["\u{1d4a6}","K"],["\u{1d4a9}","N"],["\u{1d4aa}","O"],["\u{1d4ab}","P"],["\u{1d4ac}","Q"],["\u{1d4ae}","S"],["\u{1d4af}","T"],["\u{1d4b0}","U"],["\u{1d4b1}","V"],["\u{1d4b2}","W"],["\u{1d4b3}","X"],["\u{1d4b4}","Y"],["\u{1d4b5}","Z"],["\u{1d4b6}","a"],["\u{1d4b7}","b"],["\u{1d4b8}","c"],["\u{1d4b9}","d"],["\u{1d4bb}","f"],["\u{1d4bd}","h"],["\u{1d4be}","i"],["\u{1d4bf}","j"],["\u{1d4c0}","h"],["\u{1d4c1}","l"],["\u{1d4c2}","m"],["\u{1d4c3}","n"],["\u{1d4c5}","p"],["\u{1d4c6}","q"],["\u{1d4c7}","r"],["\u{1d4c8}","s"],["\u{1d4c9}","t"],["\u{1d4ca}","u"],["\u{1d4cb}","v"],["\u{1d4cc}","w"],["\u{1d4cd}","x"],["\u{1d4ce}","y"],["\u{1d4cf}","z"],["\u{1d4d0}","A"],["\u{1d4d1}","B"],["\u{1d4d2}","C"],["\u{1d4d3}","D"],["\u{1d4d4}","E"],["\u{1d4d5}","F"],["\u{1d4d6}","G"],["\u{1d4d7}","H"],["\u{1d4d8}","I"],["\u{1d4d9}","J"],["\u{1d4da}","K"],["\u{1d4db}","L"],["\u{1d4dc}","M"],["\u{1d4dd}","N"],["\u{1d4de}","O"],["\u{1d4df}","P"],["\u{1d4e0}","Q"],["\u{1d4e1}","R"],["\u{1d4e2}","S"],["\u{1d4e3}","T"],["\u{1d4e4}","U"],["\u{1d4e5}","V"],["\u{1d4e6}","W"],["\u{1d4e7}","X"],["\u{1d4e8}","Y"],["\u{1d4e9}","Z"],["\u{1d4ea}","a"],["\u{1d4eb}","b"],["\u{1d4ec}","c"],["\u{1d4ed}","d"],["\u{1d4ee}","e"],["\u{1d4ef}","f"],["\u{1d4f0}","g"],["\u{1d4f1}","h"],["\u{1d4f2}","i"],["\u{1d4f3}","j"],["\u{1d4f4}","k"],["\u{1d4f5}","l"],["\u{1d4f6}","m"],["\u{1d4f7}","n"],["\u{1d4f8}","o"],["\u{1d4f9}","p"],["\u{1d4fa}","q"],["\u{1d4fb}","r"],["\u{1d4fc}","s"],["\u{1d4fd}","t"],["\u{1d4fe}","u"],["\u{1d4ff}","v"],["\u{1d500}","w"],["\u{1d501}","x"],["\u{1d502}","y"],["\u{1d503}","z"],["\u{1d504}","A"],["\u{1d505}","B"],["\u{1d507}","D"],["\u{1d508}","E"],["\u{1d509}","F"],["\u{1d50a}","G"],["\u{1d50d}","J"],["\u{1d50e}","K"],["\u{1d50f}","L"],["\u{1d510}","M"],["\u{1d511}","N"],["\u{1d512}","O"],["\u{1d513}","P"],["\u{1d514}","Q"],["\u{1d516}","S"],["\u{1d517}","T"],["\u{1d518}","U"],["\u{1d519}","V"],["\u{1d51a}","W"],["\u{1d51b}","X"],["\u{1d51c}","Y"],["\u{1d51e}","a"],["\u{1d51f}","b"],["\u{1d520}","c"],["\u{1d521}","d"],["\u{1d522}","e"],["\u{1d523}","f"],["\u{1d524}","g"],["\u{1d525}","h"],["\u{1d526}","i"],["\u{1d527}","j"],["\u{1d528}","k"],["\u{1d529}","l"],["\u{1d52a}","m"],["\u{1d52b}","n"],["\u{1d52c}","o"],["\u{1d52d}","p"],["\u{1d52e}","q"],["\u{1d52f}","r"],["\u{1d530}","s"],["\u{1d531}","t"],["\u{1d532}","u"],["\u{1d533}","v"],["\u{1d534}","w"],["\u{1d535}","x"],["\u{1d536}","y"],["\u{1d537}","z"],["\u{1d538}","A"],["\u{1d539}","B"],["\u{1d53b}","D"],["\u{1d53c}","E"],["\u{1d53d}","F"],["\u{1d53e}","G"],["\u{1d540}","I"],["\u{1d541}","J"],["\u{1d542}","K"],["\u{1d543}","L"],["\u{1d544}","M"],["\u{1d546}","N"],["\u{1d54a}","S"],["\u{1d54b}","T"],["\u{1d54c}","U"],["\u{1d54d}","V"],["\u{1d54e}","W"],["\u{1d54f}","X"],["\u{1d550}","Y"],["\u{1d552}","a"],["\u{1d553}","b"],["\u{1d554}","c"],["\u{1d555}","d"],["\u{1d556}","e"],["\u{1d557}","f"],["\u{1d558}","g"],["\u{1d559}","h"],["\u{1d55a}","i"],["\u{1d55b}","j"],["\u{1d55c}","k"],["\u{1d55d}","l"],["\u{1d55e}","m"],["\u{1d55f}","n"],["\u{1d560}","o"],["\u{1d561}","p"],["\u{1d562}","q"],["\u{1d563}","r"],["\u{1d564}","s"],["\u{1d565}","t"],["\u{1d566}","u"],["\u{1d567}","v"],["\u{1d568}","w"],["\u{1d569}","x"],["\u{1d56a}","y"],["\u{1d56b}","z"],["\u{1d56c}","A"],["\u{1d56d}","B"],["\u{1d56e}","C"],["\u{1d56f}","D"],["\u{1d570}","E"],["\u{1d571}","F"],["\u{1d572}","G"],["\u{1d573}","H"],["\u{1d574}","I"],["\u{1d575}","J"],["\u{1d576}","K"],["\u{1d577}","L"],["\u{1d578}","M"],["\u{1d579}","N"],["\u{1d57a}","O"],["\u{1d57b}","P"],["\u{1d57c}","Q"],["\u{1d57d}","R"],["\u{1d57e}","S"],["\u{1d57f}","T"],["\u{1d580}","U"],["\u{1d581}","V"],["\u{1d582}","W"],["\u{1d583}","X"],["\u{1d584}","Y"],["\u{1d585}","Z"],["\u{1d586}","a"],["\u{1d587}","b"],["\u{1d588}","c"],["\u{1d589}","d"],["\u{1d58a}","e"],["\u{1d58b}","f"],["\u{1d58c}","g"],["\u{1d58d}","h"],["\u{1d58e}","i"],["\u{1d58f}","j"],["\u{1d590}","k"],["\u{1d591}","l"],["\u{1d592}","m"],["\u{1d593}","n"],["\u{1d594}","o"],["\u{1d595}","p"],["\u{1d596}","q"],["\u{1d597}","r"],["\u{1d598}","s"],["\u{1d599}","t"],["\u{1d59a}","u"],["\u{1d59b}","v"],["\u{1d59c}","w"],["\u{1d59d}","x"],["\u{1d59e}","y"],["\u{1d59f}","z"],["\u{1d5a0}","A"],["\u{1d5a1}","B"],["\u{1d5a2}","C"],["\u{1d5a3}","D"],["\u{1d5a4}","E"],["\u{1d5a5}","F"],["\u{1d5a6}","G"],["\u{1d5a7}","H"],["\u{1d5a8}","I"],["\u{1d5a9}","J"],["\u{1d5aa}","K"],["\u{1d5ab}","L"],["\u{1d5ac}","M"],["\u{1d5ad}","N"],["\u{1d5ae}","O"],["\u{1d5af}","P"],["\u{1d5b0}","Q"],["\u{1d5b1}","R"],["\u{1d5b2}","S"],["\u{1d5b3}","T"],["\u{1d5b4}","U"],["\u{1d5b5}","V"],["\u{1d5b6}","W"],["\u{1d5b7}","X"],["\u{1d5b8}","Y"],["\u{1d5b9}","Z"],["\u{1d5ba}","a"],["\u{1d5bb}","b"],["\u{1d5bc}","c"],["\u{1d5bd}","d"],["\u{1d5be}","e"],["\u{1d5bf}","f"],["\u{1d5c0}","g"],["\u{1d5c1}","h"],["\u{1d5c2}","i"],["\u{1d5c3}","j"],["\u{1d5c4}","k"],["\u{1d5c5}","l"],["\u{1d5c6}","m"],["\u{1d5c7}","n"],["\u{1d5c8}","o"],["\u{1d5c9}","p"],["\u{1d5ca}","q"],["\u{1d5cb}","r"],["\u{1d5cc}","s"],["\u{1d5cd}","t"],["\u{1d5ce}","u"],["\u{1d5cf}","v"],["\u{1d5d0}","w"],["\u{1d5d1}","x"],["\u{1d5d2}","y"],["\u{1d5d3}","z"],["\u{1d5d4}","A"],["\u{1d5d5}","B"],["\u{1d5d6}","C"],["\u{1d5d7}","D"],["\u{1d5d8}","E"],["\u{1d5d9}","F"],["\u{1d5da}","G"],["\u{1d5db}","H"],["\u{1d5dc}","I"],["\u{1d5dd}","J"],["\u{1d5de}","K"],["\u{1d5df}","L"],["\u{1d5e0}","M"],["\u{1d5e1}","N"],["\u{1d5e2}","O"],["\u{1d5e3}","P"],["\u{1d5e4}","Q"],["\u{1d5e5}","R"],["\u{1d5e6}","S"],["\u{1d5e7}","T"],["\u{1d5e8}","U"],["\u{1d5e9}","V"],["\u{1d5ea}","W"],["\u{1d5eb}","X"],["\u{1d5ec}","Y"],["\u{1d5ed}","Z"],["\u{1d5ee}","a"],["\u{1d5ef}","b"],["\u{1d5f0}","c"],["\u{1d5f1}","d"],["\u{1d5f2}","e"],["\u{1d5f3}","f"],["\u{1d5f4}","g"],["\u{1d5f5}","h"],["\u{1d5f6}","i"],["\u{1d5f7}","j"],["\u{1d5f8}","k"],["\u{1d5f9}","l"],["\u{1d5fa}","m"],["\u{1d5fb}","n"],["\u{1d5fc}","o"],["\u{1d5fd}","p"],["\u{1d5fe}","q"],["\u{1d5ff}","r"],["\u{1d600}","s"],["\u{1d601}","t"],["\u{1d602}","u"],["\u{1d603}","v"],["\u{1d604}","w"],["\u{1d605}","x"],["\u{1d606}","y"],["\u{1d607}","z"],["\u{1d608}","A"],["\u{1d609}","B"],["\u{1d60a}","C"],["\u{1d60b}","D"],["\u{1d60c}","E"],["\u{1d60d}","F"],["\u{1d60e}","G"],["\u{1d60f}","H"],["\u{1d610}","I"],["\u{1d611}","J"],["\u{1d612}","K"],["\u{1d613}","L"],["\u{1d614}","M"],["\u{1d615}","N"],["\u{1d616}","O"],["\u{1d617}","P"],["\u{1d618}","Q"],["\u{1d619}","R"],["\u{1d61a}","S"],["\u{1d61b}","T"],["\u{1d61c}","U"],["\u{1d61d}","V"],["\u{1d61e}","W"],["\u{1d61f}","X"],["\u{1d620}","Y"],["\u{1d621}","Z"],["\u{1d622}","a"],["\u{1d623}","b"],["\u{1d624}","c"],["\u{1d625}","d"],["\u{1d626}","e"],["\u{1d627}","f"],["\u{1d628}","g"],["\u{1d629}","h"],["\u{1d62a}","i"],["\u{1d62b}","j"],["\u{1d62c}","k"],["\u{1d62d}","l"],["\u{1d62e}","m"],["\u{1d62f}","n"],["\u{1d630}","o"],["\u{1d631}","p"],["\u{1d632}","q"],["\u{1d633}","r"],["\u{1d634}","s"],["\u{1d635}","t"],["\u{1d636}","u"],["\u{1d637}","v"],["\u{1d638}","w"],["\u{1d639}","x"],["\u{1d63a}","y"],["\u{1d63b}","z"],["\u{1d63c}","A"],["\u{1d63d}","B"],["\u{1d63e}","C"],["\u{1d63f}","D"],["\u{1d640}","E"],["\u{1d641}","F"],["\u{1d642}","G"],["\u{1d643}","H"],["\u{1d644}","I"],["\u{1d645}","J"],["\u{1d646}","K"],["\u{1d647}","L"],["\u{1d648}","M"],["\u{1d649}","N"],["\u{1d64a}","O"],["\u{1d64b}","P"],["\u{1d64c}","Q"],["\u{1d64d}","R"],["\u{1d64e}","S"],["\u{1d64f}","T"],["\u{1d650}","U"],["\u{1d651}","V"],["\u{1d652}","W"],["\u{1d653}","X"],["\u{1d654}","Y"],["\u{1d655}","Z"],["\u{1d656}","a"],["\u{1d657}","b"],["\u{1d658}","c"],["\u{1d659}","d"],["\u{1d65a}","e"],["\u{1d65b}","f"],["\u{1d65c}","g"],["\u{1d65d}","h"],["\u{1d65e}","i"],["\u{1d65f}","j"],["\u{1d660}","k"],["\u{1d661}","l"],["\u{1d662}","m"],["\u{1d663}","n"],["\u{1d664}","o"],["\u{1d665}","p"],["\u{1d666}","q"],["\u{1d667}","r"],["\u{1d668}","s"],["\u{1d669}","t"],["\u{1d66a}","u"],["\u{1d66b}","v"],["\u{1d66c}","w"],["\u{1d66d}","x"],["\u{1d66e}","y"],["\u{1d66f}","z"],["\u{1d670}","A"],["\u{1d671}","B"],["\u{1d672}","C"],["\u{1d673}","D"],["\u{1d674}","E"],["\u{1d675}","F"],["\u{1d676}","G"],["\u{1d677}","H"],["\u{1d678}","I"],["\u{1d679}","J"],["\u{1d67a}","K"],["\u{1d67b}","L"],["\u{1d67c}","M"],["\u{1d67d}","N"],["\u{1d67e}","O"],["\u{1d67f}","P"],["\u{1d680}","Q"],["\u{1d681}","R"],["\u{1d682}","S"],["\u{1d683}","T"],["\u{1d684}","U"],["\u{1d685}","V"],["\u{1d686}","W"],["\u{1d687}","X"],["\u{1d688}","Y"],["\u{1d689}","Z"],["\u{1d68a}","a"],["\u{1d68b}","b"],["\u{1d68c}","c"],["\u{1d68d}","d"],["\u{1d68e}","e"],["\u{1d68f}","f"],["\u{1d690}","g"],["\u{1d691}","h"],["\u{1d692}","i"],["\u{1d693}","j"],["\u{1d694}","k"],["\u{1d695}","l"],["\u{1d696}","m"],["\u{1d697}","n"],["\u{1d698}","o"],["\u{1d699}","p"],["\u{1d69a}","q"],["\u{1d69b}","r"],["\u{1d69c}","s"],["\u{1d69d}","t"],["\u{1d69e}","u"],["\u{1d69f}","v"],["\u{1d6a0}","w"],["\u{1d6a1}","x"],["\u{1d6a2}","y"],["\u{1d6a3}","z"],["\u{1d6a4}","l"],["\u{1d6a5}","j"],["\u{1d6e2}","A"],["\u{1d6e3}","B"],["\u{1d6e4}","G"],["\u{1d6e5}","D"],["\u{1d6e6}","E"],["\u{1d6e7}","Z"],["\u{1d6e8}","I"],["\u{1d6e9}","TH"],["\u{1d6ea}","I"],["\u{1d6eb}","K"],["\u{1d6ec}","L"],["\u{1d6ed}","M"],["\u{1d6ee}","N"],["\u{1d6ef}","KS"],["\u{1d6f0}","O"],["\u{1d6f1}","P"],["\u{1d6f2}","R"],["\u{1d6f3}","TH"],["\u{1d6f4}","S"],["\u{1d6f5}","T"],["\u{1d6f6}","Y"],["\u{1d6f7}","F"],["\u{1d6f8}","x"],["\u{1d6f9}","PS"],["\u{1d6fa}","O"],["\u{1d6fb}","D"],["\u{1d6fc}","a"],["\u{1d6fd}","b"],["\u{1d6fe}","g"],["\u{1d6ff}","d"],["\u{1d700}","e"],["\u{1d701}","z"],["\u{1d702}","i"],["\u{1d703}","th"],["\u{1d704}","i"],["\u{1d705}","k"],["\u{1d706}","l"],["\u{1d707}","m"],["\u{1d708}","n"],["\u{1d709}","ks"],["\u{1d70a}","o"],["\u{1d70b}","p"],["\u{1d70c}","r"],["\u{1d70d}","s"],["\u{1d70e}","s"],["\u{1d70f}","t"],["\u{1d710}","y"],["\u{1d711}","f"],["\u{1d712}","x"],["\u{1d713}","ps"],["\u{1d714}","o"],["\u{1d715}","d"],["\u{1d716}","E"],["\u{1d717}","TH"],["\u{1d718}","K"],["\u{1d719}","f"],["\u{1d71a}","r"],["\u{1d71b}","p"],["\u{1d71c}","A"],["\u{1d71d}","V"],["\u{1d71e}","G"],["\u{1d71f}","D"],["\u{1d720}","E"],["\u{1d721}","Z"],["\u{1d722}","I"],["\u{1d723}","TH"],["\u{1d724}","I"],["\u{1d725}","K"],["\u{1d726}","L"],["\u{1d727}","M"],["\u{1d728}","N"],["\u{1d729}","KS"],["\u{1d72a}","O"],["\u{1d72b}","P"],["\u{1d72c}","S"],["\u{1d72d}","TH"],["\u{1d72e}","S"],["\u{1d72f}","T"],["\u{1d730}","Y"],["\u{1d731}","F"],["\u{1d732}","X"],["\u{1d733}","PS"],["\u{1d734}","O"],["\u{1d735}","D"],["\u{1d736}","a"],["\u{1d737}","v"],["\u{1d738}","g"],["\u{1d739}","d"],["\u{1d73a}","e"],["\u{1d73b}","z"],["\u{1d73c}","i"],["\u{1d73d}","th"],["\u{1d73e}","i"],["\u{1d73f}","k"],["\u{1d740}","l"],["\u{1d741}","m"],["\u{1d742}","n"],["\u{1d743}","ks"],["\u{1d744}","o"],["\u{1d745}","p"],["\u{1d746}","r"],["\u{1d747}","s"],["\u{1d748}","s"],["\u{1d749}","t"],["\u{1d74a}","y"],["\u{1d74b}","f"],["\u{1d74c}","x"],["\u{1d74d}","ps"],["\u{1d74e}","o"],["\u{1d74f}","a"],["\u{1d750}","e"],["\u{1d751}","i"],["\u{1d752}","k"],["\u{1d753}","f"],["\u{1d754}","r"],["\u{1d755}","p"],["\u{1d756}","A"],["\u{1d757}","B"],["\u{1d758}","G"],["\u{1d759}","D"],["\u{1d75a}","E"],["\u{1d75b}","Z"],["\u{1d75c}","I"],["\u{1d75d}","TH"],["\u{1d75e}","I"],["\u{1d75f}","K"],["\u{1d760}","L"],["\u{1d761}","M"],["\u{1d762}","N"],["\u{1d763}","KS"],["\u{1d764}","O"],["\u{1d765}","P"],["\u{1d766}","R"],["\u{1d767}","TH"],["\u{1d768}","S"],["\u{1d769}","T"],["\u{1d76a}","Y"],["\u{1d76b}","F"],["\u{1d76c}","X"],["\u{1d76d}","PS"],["\u{1d76e}","O"],["\u{1d76f}","D"],["\u{1d770}","a"],["\u{1d771}","v"],["\u{1d772}","g"],["\u{1d773}","d"],["\u{1d774}","e"],["\u{1d775}","z"],["\u{1d776}","i"],["\u{1d777}","th"],["\u{1d778}","i"],["\u{1d779}","k"],["\u{1d77a}","l"],["\u{1d77b}","m"],["\u{1d77c}","n"],["\u{1d77d}","ks"],["\u{1d77e}","o"],["\u{1d77f}","p"],["\u{1d780}","r"],["\u{1d781}","s"],["\u{1d782}","s"],["\u{1d783}","t"],["\u{1d784}","y"],["\u{1d785}","f"],["\u{1d786}","x"],["\u{1d787}","ps"],["\u{1d788}","o"],["\u{1d789}","a"],["\u{1d78a}","e"],["\u{1d78b}","i"],["\u{1d78c}","k"],["\u{1d78d}","f"],["\u{1d78e}","r"],["\u{1d78f}","p"],["\u{1d790}","A"],["\u{1d791}","V"],["\u{1d792}","G"],["\u{1d793}","D"],["\u{1d794}","E"],["\u{1d795}","Z"],["\u{1d796}","I"],["\u{1d797}","TH"],["\u{1d798}","I"],["\u{1d799}","K"],["\u{1d79a}","L"],["\u{1d79b}","M"],["\u{1d79c}","N"],["\u{1d79d}","KS"],["\u{1d79e}","O"],["\u{1d79f}","P"],["\u{1d7a0}","S"],["\u{1d7a1}","TH"],["\u{1d7a2}","S"],["\u{1d7a3}","T"],["\u{1d7a4}","Y"],["\u{1d7a5}","F"],["\u{1d7a6}","X"],["\u{1d7a7}","PS"],["\u{1d7a8}","O"],["\u{1d7a9}","D"],["\u{1d7aa}","av"],["\u{1d7ab}","g"],["\u{1d7ac}","d"],["\u{1d7ad}","e"],["\u{1d7ae}","z"],["\u{1d7af}","i"],["\u{1d7b0}","i"],["\u{1d7b1}","th"],["\u{1d7b2}","i"],["\u{1d7b3}","k"],["\u{1d7b4}","l"],["\u{1d7b5}","m"],["\u{1d7b6}","n"],["\u{1d7b7}","ks"],["\u{1d7b8}","o"],["\u{1d7b9}","p"],["\u{1d7ba}","r"],["\u{1d7bb}","s"],["\u{1d7bc}","s"],["\u{1d7bd}","t"],["\u{1d7be}","y"],["\u{1d7bf}","f"],["\u{1d7c0}","x"],["\u{1d7c1}","ps"],["\u{1d7c2}","o"],["\u{1d7c3}","a"],["\u{1d7c4}","e"],["\u{1d7c5}","i"],["\u{1d7c6}","k"],["\u{1d7c7}","f"],["\u{1d7c8}","r"],["\u{1d7c9}","p"],["\u{1d7ca}","F"],["\u{1d7cb}","f"],["\u249c","(a)"],["\u249d","(b)"],["\u249e","(c)"],["\u249f","(d)"],["\u24a0","(e)"],["\u24a1","(f)"],["\u24a2","(g)"],["\u24a3","(h)"],["\u24a4","(i)"],["\u24a5","(j)"],["\u24a6","(k)"],["\u24a7","(l)"],["\u24a8","(m)"],["\u24a9","(n)"],["\u24aa","(o)"],["\u24ab","(p)"],["\u24ac","(q)"],["\u24ad","(r)"],["\u24ae","(s)"],["\u24af","(t)"],["\u24b0","(u)"],["\u24b1","(v)"],["\u24b2","(w)"],["\u24b3","(x)"],["\u24b4","(y)"],["\u24b5","(z)"],["\u24b6","(A)"],["\u24b7","(B)"],["\u24b8","(C)"],["\u24b9","(D)"],["\u24ba","(E)"],["\u24bb","(F)"],["\u24bc","(G)"],["\u24bd","(H)"],["\u24be","(I)"],["\u24bf","(J)"],["\u24c0","(K)"],["\u24c1","(L)"],["\u24c3","(N)"],["\u24c4","(O)"],["\u24c5","(P)"],["\u24c6","(Q)"],["\u24c7","(R)"],["\u24c8","(S)"],["\u24c9","(T)"],["\u24ca","(U)"],["\u24cb","(V)"],["\u24cc","(W)"],["\u24cd","(X)"],["\u24ce","(Y)"],["\u24cf","(Z)"],["\u24d0","(a)"],["\u24d1","(b)"],["\u24d2","(b)"],["\u24d3","(c)"],["\u24d4","(e)"],["\u24d5","(f)"],["\u24d6","(g)"],["\u24d7","(h)"],["\u24d8","(i)"],["\u24d9","(j)"],["\u24da","(k)"],["\u24db","(l)"],["\u24dc","(m)"],["\u24dd","(n)"],["\u24de","(o)"],["\u24df","(p)"],["\u24e0","(q)"],["\u24e1","(r)"],["\u24e2","(s)"],["\u24e3","(t)"],["\u24e4","(u)"],["\u24e5","(v)"],["\u24e6","(w)"],["\u24e7","(x)"],["\u24e8","(y)"],["\u24e9","(z)"],["\u010a","C"],["\u010b","c"],["\u0120","G"],["\u0121","g"],["\u0126","H"],["\u0127","h"],["\u017b","Z"],["\u017c","z"],["\u{1d7ce}","0"],["\u{1d7cf}","1"],["\u{1d7d0}","2"],["\u{1d7d1}","3"],["\u{1d7d2}","4"],["\u{1d7d3}","5"],["\u{1d7d4}","6"],["\u{1d7d5}","7"],["\u{1d7d6}","8"],["\u{1d7d7}","9"],["\u{1d7d8}","0"],["\u{1d7d9}","1"],["\u{1d7da}","2"],["\u{1d7db}","3"],["\u{1d7dc}","4"],["\u{1d7dd}","5"],["\u{1d7de}","6"],["\u{1d7df}","7"],["\u{1d7e0}","8"],["\u{1d7e1}","9"],["\u{1d7e2}","0"],["\u{1d7e3}","1"],["\u{1d7e4}","2"],["\u{1d7e5}","3"],["\u{1d7e6}","4"],["\u{1d7e7}","5"],["\u{1d7e8}","6"],["\u{1d7e9}","7"],["\u{1d7ea}","8"],["\u{1d7eb}","9"],["\u{1d7ec}","0"],["\u{1d7ed}","1"],["\u{1d7ee}","2"],["\u{1d7ef}","3"],["\u{1d7f0}","4"],["\u{1d7f1}","5"],["\u{1d7f2}","6"],["\u{1d7f3}","7"],["\u{1d7f4}","8"],["\u{1d7f5}","9"],["\u{1d7f6}","0"],["\u{1d7f7}","1"],["\u{1d7f8}","2"],["\u{1d7f9}","3"],["\u{1d7fa}","4"],["\u{1d7fb}","5"],["\u{1d7fc}","6"],["\u{1d7fd}","7"],["\u{1d7fe}","8"],["\u{1d7ff}","9"],["\u2460","1"],["\u2461","2"],["\u2462","3"],["\u2463","4"],["\u2464","5"],["\u2465","6"],["\u2466","7"],["\u2467","8"],["\u2468","9"],["\u2469","10"],["\u246a","11"],["\u246b","12"],["\u246c","13"],["\u246d","14"],["\u246e","15"],["\u246f","16"],["\u2470","17"],["\u2471","18"],["\u2472","19"],["\u2473","20"],["\u2474","1"],["\u2475","2"],["\u2476","3"],["\u2477","4"],["\u2478","5"],["\u2479","6"],["\u247a","7"],["\u247b","8"],["\u247c","9"],["\u247d","10"],["\u247e","11"],["\u247f","12"],["\u2480","13"],["\u2481","14"],["\u2482","15"],["\u2483","16"],["\u2484","17"],["\u2485","18"],["\u2486","19"],["\u2487","20"],["\u2488","1."],["\u2489","2."],["\u248a","3."],["\u248b","4."],["\u248c","5."],["\u248d","6."],["\u248e","7."],["\u248f","8."],["\u2490","9."],["\u2491","10."],["\u2492","11."],["\u2493","12."],["\u2494","13."],["\u2495","14."],["\u2496","15."],["\u2497","16."],["\u2498","17."],["\u2499","18."],["\u249a","19."],["\u249b","20."],["\u24ea","0"],["\u24eb","11"],["\u24ec","12"],["\u24ed","13"],["\u24ee","14"],["\u24ef","15"],["\u24f0","16"],["\u24f1","17"],["\u24f2","18"],["\u24f3","19"],["\u24f4","20"],["\u24f5","1"],["\u24f6","2"],["\u24f7","3"],["\u24f8","4"],["\u24f9","5"],["\u24fa","6"],["\u24fb","7"],["\u24fc","8"],["\u24fd","9"],["\u24fe","10"],["\u24ff","0"],["\u{1f670}","&"],["\u{1f671}","&"],["\u{1f672}","&"],["\u{1f673}","&"],["\u{1f674}","&"],["\u{1f675}","&"],["\u{1f676}",'"'],["\u{1f677}",'"'],["\u{1f678}",'"'],["\u203d","?!"],["\u{1f679}","?!"],["\u{1f67a}","?!"],["\u{1f67b}","?!"],["\u{1f67c}","/"],["\u{1f67d}","\\"],["\u{1f707}","AR"],["\u{1f708}","V"],["\u{1f709}","V"],["\u{1f706}","VR"],["\u{1f705}","VF"],["\u{1f729}","2"],["\u{1f72a}","5"],["\u{1f761}","f"],["\u{1f762}","W"],["\u{1f763}","U"],["\u{1f767}","V"],["\u{1f768}","T"],["\u{1f76a}","V"],["\u{1f76b}","MB"],["\u{1f76c}","VB"],["\u{1f772}","3B"],["\u{1f773}","3B"],["\u{1f4af}","100"],["\u{1f519}","BACK"],["\u{1f51a}","END"],["\u{1f51b}","ON!"],["\u{1f51c}","SOON"],["\u{1f51d}","TOP"],["\u{1f51e}","18"],["\u{1f524}","abc"],["\u{1f520}","ABCD"],["\u{1f521}","abcd"],["\u{1f522}","1234"],["\u{1f523}","T&@%"],["#\ufe0f\u20e3","#"],["*\ufe0f\u20e3","*"],["0\ufe0f\u20e3","0"],["1\ufe0f\u20e3","1"],["2\ufe0f\u20e3","2"],["3\ufe0f\u20e3","3"],["4\ufe0f\u20e3","4"],["5\ufe0f\u20e3","5"],["6\ufe0f\u20e3","6"],["7\ufe0f\u20e3","7"],["8\ufe0f\u20e3","8"],["9\ufe0f\u20e3","9"],["\u{1f51f}","10"],["\u{1f170}\ufe0f","A"],["\u{1f171}\ufe0f","B"],["\u{1f18e}","AB"],["\u{1f191}","CL"],["\u{1f17e}\ufe0f","O"],["\u{1f17f}","P"],["\u{1f198}","SOS"],["\u{1f172}","C"],["\u{1f173}","D"],["\u{1f174}","E"],["\u{1f175}","F"],["\u{1f176}","G"],["\u{1f177}","H"],["\u{1f178}","I"],["\u{1f179}","J"],["\u{1f17a}","K"],["\u{1f17b}","L"],["\u{1f17c}","M"],["\u{1f17d}","N"],["\u{1f180}","Q"],["\u{1f181}","R"],["\u{1f182}","S"],["\u{1f183}","T"],["\u{1f184}","U"],["\u{1f185}","V"],["\u{1f186}","W"],["\u{1f187}","X"],["\u{1f188}","Y"],["\u{1f189}","Z"]],lk=["list"],uk=["defaultItemTemplate"];function ck(t,n){1&t&&fe(0),2&t&&Ve(" ",n.item[S().labelKey]," ")}function dk(t,n){}const fk=function(t){return{item:t}};function hk(t,n){if(1&t){const e=Ye();m(0,"li"),m(1,"a",4),Ee("mousedown",function(i){const o=ue(e).index,a=S();return a.activeIndex=o,a.itemClick.emit(),i.preventDefault()}),O(2,dk,0,0,"ng-template",5),v(),v()}if(2&t){const e=n.$implicit,r=n.index,i=S();Nt("active",i.activeIndex==r)("mention-active",!i.styleOff&&i.activeIndex==r),b(1),Nt("mention-item",!i.styleOff),b(1),x("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",jr(8,fk,e))}}function X_(t){return oo(t)?t.value:t.textContent}function pd(t,n,e,r,i,s=!1){if(function(t){return null!=t&&("INPUT"==t.nodeName||"TEXTAREA"==t.nodeName||"#text"==t.nodeName)}(t)){let u=X_(t);(function(t,n){oo(t)?t.value=n:t.textContent=n})(t,u.substring(0,n)+r+u.substring(e,u.length)),ey(t,n+r.length,i)}else if(!s){let u=qa(i);if(u&&u.rangeCount>0){var a=u.getRangeAt(0).startOffset;pd(u.anchorNode,a-(e-n),a,r,i,!0)}}}function oo(t){return null!=t&&("INPUT"==t.nodeName||"TEXTAREA"==t.nodeName)}function ey(t,n,e=null){if(oo(t)&&t.selectionStart)t.focus(),t.setSelectionRange(n,n);else{let r=gd(e).createRange();r.setStart(t,n),r.collapse(!0);let i=qa(e);i.removeAllRanges(),i.addRange(r)}}function ty(t,n=null){if(oo(t))return t.value.slice(0,t.selectionStart).length;var r=qa(n);if(r.rangeCount>0){var i=r.getRangeAt(0),s=i.cloneRange();return s.selectNodeContents(t),s.setEnd(i.endContainer,i.endOffset),s.toString().length}}function gd(t){return t?t.contentWindow.document:document}function qa(t){return t?t.contentWindow.getSelection():window.getSelection()}function ny(t){let e="sel_"+(new Date).getTime()+"_"+Math.random().toString().substr(2),r=gd(t?t.iframe:null),i=qa(t?t.iframe:null),s=i.getRangeAt(0),o=r.createRange();o.setStart(i.anchorNode,s.startOffset),o.setEnd(i.anchorNode,s.startOffset),o.collapse(!1);let a=r.createElement("span");a.id=e,a.appendChild(r.createTextNode("\ufeff")),o.insertNode(a),i.removeAllRanges(),i.addRange(s);let l={left:0,top:a.offsetHeight};return function(t,n,e){let r=n,i=t?t.iframe:null;for(;r&&(null==t.parent||t.parent!=r);)e.left+=r.offsetLeft+r.clientLeft,e.top+=r.offsetTop+r.clientTop,r=r.offsetParent,!r&&i&&(r=i,i=null);for(r=n,i=t?t.iframe:null;r!==gd(null).body&&null!=r&&(null==t.parent||t.parent!=r);)r.scrollTop&&r.scrollTop>0&&(e.top-=r.scrollTop),r.scrollLeft&&r.scrollLeft>0&&(e.left-=r.scrollLeft),r=r.parentNode,!r&&i&&(r=i,i=null)}(t,a,l),a.parentNode.removeChild(a),l}var vk=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],ry="undefined"!=typeof window,_k=ry&&null!=window.mozInnerScreenX;let wk=(()=>{class t{constructor(e){this.element=e,this.labelKey="label",this.itemClick=new Ke,this.items=[],this.activeIndex=0,this.hidden=!1,this.dropUp=!1,this.styleOff=!1,this.coords={top:0,left:0},this.offset=0}ngAfterContentChecked(){this.itemTemplate||(this.itemTemplate=this.defaultItemTemplate)}position(e,r=null){if(oo(e))this.coords=function(t,n,e){if(!ry)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);var o=s.style,a=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,l="INPUT"===t.nodeName;o.whiteSpace="pre-wrap",l||(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",vk.forEach(function(d){if(l&&"lineHeight"===d)if("border-box"===a.boxSizing){var f=parseInt(a.height),h=parseInt(a.paddingTop)+parseInt(a.paddingBottom)+parseInt(a.borderTopWidth)+parseInt(a.borderBottomWidth),g=h+parseInt(a.lineHeight);o.lineHeight=f>g?f-h+"px":f===g?a.lineHeight:"0"}else o.lineHeight=a.height;else o[d]=a[d]}),_k?t.scrollHeight>parseInt(a.height)&&(o.overflowY="scroll"):o.overflow="hidden",s.textContent=t.value.substring(0,n),l&&(s.textContent=s.textContent.replace(/\s/g,"\xa0"));var u=document.createElement("span");u.textContent=t.value.substring(n)||".",s.appendChild(u);var c={top:u.offsetTop+parseInt(a.borderTopWidth),left:u.offsetLeft+parseInt(a.borderLeftWidth),height:parseInt(a.lineHeight)};return document.body.removeChild(s),c}(e,e.selectionStart),this.coords.top=e.offsetTop+this.coords.top-e.scrollTop,this.coords.left=e.offsetLeft+this.coords.left-e.scrollLeft,this.offset=this.getBlockCursorDimensions(e).height;else if(r)this.coords=ny({iframe:r,parent:r.offsetParent});else{let i=document.documentElement,s=(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0),o=(window.pageYOffset||i.scrollTop)-(i.clientTop||0),a=ny({iframe:r}),l=e.getBoundingClientRect();this.coords.top=a.top-l.top+e.offsetTop-o,this.coords.left=a.left-l.left+e.offsetLeft-s}this.positionElement()}get activeItem(){return this.items[this.activeIndex]}activateNextItem(){let e=this.list.nativeElement,r=e.getElementsByClassName("active").item(0);if(r){let i=r.nextSibling;if(i&&"LI"==i.nodeName){let s=i.getBoundingClientRect();s.bottom>e.getBoundingClientRect().bottom&&(e.scrollTop=i.offsetTop+s.height-e.clientHeight)}}this.activeIndex=Math.max(Math.min(this.activeIndex+1,this.items.length-1),0)}activatePreviousItem(){let e=this.list.nativeElement,r=e.getElementsByClassName("active").item(0);if(r){let i=r.previousSibling;i&&"LI"==i.nodeName&&i.getBoundingClientRect().top<e.getBoundingClientRect().top&&(e.scrollTop=i.offsetTop)}this.activeIndex=Math.max(Math.min(this.activeIndex-1,this.items.length-1),0)}reset(){this.list.nativeElement.scrollTop=0,this.checkBounds()}checkBounds(){let e=this.coords.left,r=this.coords.top,i=this.dropUp;const s=this.list.nativeElement.getBoundingClientRect();s.left+s.width>window.innerWidth&&(e-=s.left+s.width-window.innerWidth+10),s.top<0&&(i=!1),this.positionElement(e,r,i)}positionElement(e=this.coords.left,r=this.coords.top,i=this.dropUp){const s=this.element.nativeElement;r+=i?0:this.offset,s.className=i?"dropup":null,s.style.position="absolute",s.style.left=e+"px",s.style.top=r+"px"}getBlockCursorDimensions(e){const r=window.getComputedStyle(e);return{height:parseFloat(r.lineHeight),width:parseFloat(r.fontSize)}}}return t.\u0275fac=function(e){return new(e||t)(Y(lr))},t.\u0275cmp=ut({type:t,selectors:[["mention-list"]],viewQuery:function(e,r){if(1&e&&(ln(lk,7),ln(uk,7)),2&e){let i;an(i=un())&&(r.list=i.first),an(i=un())&&(r.defaultItemTemplate=i.first)}},inputs:{labelKey:"labelKey",itemTemplate:"itemTemplate"},outputs:{itemClick:"itemClick"},decls:5,vars:6,consts:[["defaultItemTemplate",""],[1,"dropdown-menu","scrollable-menu",3,"hidden"],["list",""],[3,"active","mention-active",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"mousedown"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(O(0,ck,1,1,"ng-template",null,0,ht),m(2,"ul",1,2),O(4,hk,3,10,"li",3),v()),2&e&&(b(2),Nt("mention-menu",!r.styleOff)("mention-dropdown",!r.styleOff&&r.dropUp),x("hidden",r.hidden),b(2),x("ngForOf",r.items))},directives:[dr,Vr],styles:[".mention-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:11em;padding:.5em 0;margin:.125em 0 0;font-size:1em;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25em}.mention-item[_ngcontent-%COMP%]{display:block;padding:.2em 1.5em;line-height:1.5em;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.mention-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.scrollable-menu[_ngcontent-%COMP%]{display:block;height:auto;max-height:292px;overflow:auto}[hidden][_ngcontent-%COMP%]{display:none}.mention-dropdown[_ngcontent-%COMP%]{bottom:100%;top:auto;margin-bottom:2px}"]}),t})(),Mk=(()=>{class t{constructor(e,r,i){this._element=e,this._componentResolver=r,this._viewContainerRef=i,this.mentionConfig={items:[]},this.DEFAULT_CONFIG={items:[],triggerChar:"@",labelKey:"label",maxItems:-1,allowSpace:!1,returnTrigger:!1,mentionSelect:(s,o)=>this.activeConfig.triggerChar+s[this.activeConfig.labelKey],mentionFilter:(s,o)=>{const a=s.toLowerCase();return o.filter(l=>l[this.activeConfig.labelKey].toLowerCase().startsWith(a))}},this.searchTerm=new Ke,this.itemSelected=new Ke,this.opened=new Ke,this.closed=new Ke,this.triggerChars={}}set mention(e){this.mentionItems=e}ngOnChanges(e){(e.mention||e.mentionConfig)&&this.updateConfig()}updateConfig(){let e=this.mentionConfig;this.triggerChars={},this.mentionItems&&(e.items=this.mentionItems),this.addConfig(e),e.mentions&&e.mentions.forEach(r=>this.addConfig(r))}addConfig(e){let r=Object.assign({},this.DEFAULT_CONFIG),i=(e=Object.assign(r,e)).items;i&&i.length>0&&("string"==typeof i[0]&&(i=i.map(s=>{let o={};return o[e.labelKey]=s,o})),e.labelKey&&(i=i.filter(s=>s[e.labelKey]),e.disableSort||i.sort((s,o)=>s[e.labelKey].localeCompare(o[e.labelKey])))),e.items=i,this.triggerChars[e.triggerChar]=e,this.activeConfig&&this.activeConfig.triggerChar==e.triggerChar&&(this.activeConfig=e,this.updateSearchList())}setIframe(e){this.iframe=e}stopEvent(e){e.wasClick||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}blurHandler(e){this.stopEvent(e),this.stopSearch()}inputHandler(e,r=this._element.nativeElement){if(229===this.lastKeyCode&&e.data){let i=e.data.charCodeAt(0);this.keyHandler({keyCode:i,inputEvent:!0},r)}}keyHandler(e,r=this._element.nativeElement){if(this.lastKeyCode=e.keyCode,e.isComposing||229===e.keyCode)return;let i=X_(r),s=ty(r,this.iframe),o=e.key;if(!o){let l=e.which||e.keyCode;o=String.fromCharCode(!e.shiftKey&&l>=65&&l<=90?l+32:e.which||e.keyCode)}13==e.keyCode&&e.wasClick&&s<this.startPos&&(s=this.startNode.length,ey(this.startNode,s,this.iframe));let a=this.triggerChars[o];if(a)this.activeConfig=a,this.startPos=e.inputEvent?s-1:s,this.startNode=(this.iframe?this.iframe.contentWindow.getSelection():window.getSelection()).anchorNode,this.searching=!0,this.searchString=null,this.showSearchList(r),this.updateSearchList(),a.returnTrigger&&this.searchTerm.emit(a.triggerChar);else if(this.startPos>=0&&this.searching)if(s<=this.startPos)this.searchList.hidden=!0;else if(16!==e.keyCode&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&s>this.startPos){if(this.activeConfig.allowSpace||32!==e.keyCode){if(8===e.keyCode&&s>0)s--,s==this.startPos&&this.stopSearch();else if(this.searchList.hidden){if(9===e.keyCode||13===e.keyCode)return void this.stopSearch()}else if(!this.searchList.hidden){if(9===e.keyCode||13===e.keyCode){this.stopEvent(e),this.itemSelected.emit(this.searchList.activeItem);const l=this.activeConfig.mentionSelect(this.searchList.activeItem,this.activeConfig.triggerChar);if(pd(r,this.startPos,s,l,this.iframe),"createEvent"in document){let u=document.createEvent("HTMLEvents");u.initEvent(this.iframe?"change":"input",!0,!1),this._element.nativeElement.dispatchEvent(u)}return this.startPos=-1,this.stopSearch(),!1}if(27===e.keyCode)return this.stopEvent(e),this.stopSearch(),!1;if(40===e.keyCode)return this.stopEvent(e),this.searchList.activateNextItem(),!1;if(38===e.keyCode)return this.stopEvent(e),this.searchList.activatePreviousItem(),!1}}else this.startPos=-1;if(1!=o.length&&8!=e.keyCode)return this.stopEvent(e),!1;if(this.searching){let l=i.substring(this.startPos+1,s);if(8!==e.keyCode&&!e.inputEvent&&(l+=o),this.searchString=l,this.activeConfig.returnTrigger){const u=this.searchString||8===e.keyCode?i.substring(this.startPos,this.startPos+1):"";this.searchTerm.emit(u+this.searchString)}else this.searchTerm.emit(this.searchString);this.updateSearchList()}}}startSearch(e,r=this._element.nativeElement){e=e||this.mentionConfig.triggerChar||this.DEFAULT_CONFIG.triggerChar;const i=ty(r,this.iframe);pd(r,i,i,e,this.iframe),this.keyHandler({key:e,inputEvent:!0},r)}stopSearch(){this.searchList&&!this.searchList.hidden&&(this.searchList.hidden=!0,this.closed.emit()),this.activeConfig=null,this.searching=!1}updateSearchList(){let e=[];if(this.activeConfig&&this.activeConfig.items){let r=this.activeConfig.items;!this.activeConfig.disableSearch&&this.searchString&&this.activeConfig.labelKey&&this.activeConfig.mentionFilter&&(r=this.activeConfig.mentionFilter(this.searchString,r)),e=r,this.activeConfig.maxItems>0&&(e=e.slice(0,this.activeConfig.maxItems))}this.searchList&&(this.searchList.items=e,this.searchList.hidden=0==e.length)}showSearchList(e){if(this.opened.emit(),null==this.searchList){let r=this._componentResolver.resolveComponentFactory(wk),i=this._viewContainerRef.createComponent(r);this.searchList=i.instance,this.searchList.itemTemplate=this.mentionListTemplate,i.instance.itemClick.subscribe(()=>{e.focus(),this.keyHandler({key:"Enter",keyCode:13,wasClick:!0},e)})}this.searchList.labelKey=this.activeConfig.labelKey,this.searchList.dropUp=this.activeConfig.dropUp,this.searchList.styleOff=this.mentionConfig.disableStyle,this.searchList.activeIndex=0,this.searchList.position(e,this.iframe),window.requestAnimationFrame(()=>this.searchList.reset())}}return t.\u0275fac=function(e){return new(e||t)(Y(lr),Y(ar),Y(yn))},t.\u0275dir=jt({type:t,selectors:[["","mention",""],["","mentionConfig",""]],hostAttrs:["autocomplete","off"],hostBindings:function(e,r){1&e&&Ee("keydown",function(s){return r.keyHandler(s)})("input",function(s){return r.inputHandler(s)})("blur",function(s){return r.blurHandler(s)})},inputs:{mentionConfig:"mentionConfig",mention:"mention",mentionListTemplate:"mentionListTemplate"},outputs:{searchTerm:"searchTerm",itemSelected:"itemSelected",opened:"opened",closed:"closed"},features:[Kt]}),t})(),Tk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$n({type:t}),t.\u0275inj=Mn({imports:[[zs]]}),t})();const Ik=function(t,n,e){return{flexBasis:t,height:n,objectFit:"cover",width:e}};function Ak(t,n){if(1&t){const e=Ye();m(0,"img",3),Ee("load",function(){return ue(e),S().isLoaded=!0})("error",function(){return ue(e),S().isError=!0}),v()}if(2&t){const e=S();_n(Fm(7,Ik,e.size+"px",e.size+"px",e.size+"px")),Nr("str-chat__avatar-image str-chat__avatar-image",e.isLoaded?" str-chat__avatar-image--loaded":"",""),Pt("src",e.imageUrl,ir),Pt("alt",e.initials)}}function kk(t,n){if(1&t&&(m(0,"div",4),fe(1),v()),2&t){const e=S();b(1),Ve(" ",e.initials," ")}}const xk=function(t,n,e,r,i){return{flexBasis:t,fontSize:n,height:e,lineHeight:r,width:i}};function Rk(t,n){1&t&&(xn(),m(0,"svg",9),le(1,"path",10),v())}function Ok(t,n){1&t&&(xn(),m(0,"svg",11),le(1,"path",12),v())}function Fk(t,n){1&t&&(xn(),m(0,"svg",13),m(1,"g",14),le(2,"path",15),le(3,"path",16),v(),v())}function Lk(t,n){1&t&&(xn(),m(0,"svg",17),m(1,"title"),fe(2,"Combined Shape"),v(),m(3,"desc"),fe(4,"Created with Sketch."),v(),m(5,"g",18),m(6,"g",19),m(7,"g",20),le(8,"path",21),v(),v(),v(),v())}function Pk(t,n){1&t&&(xn(),m(0,"svg",22),m(1,"title",23),fe(2,"streamChat.Send"),v(),le(3,"path",24),v())}function Nk(t,n){1&t&&(xn(),m(0,"svg",25),m(1,"title",23),fe(2,"streamChat.Attach files"),v(),le(3,"path",26),v())}function Uk(t,n){1&t&&(xn(),m(0,"svg",27),le(1,"path",28),v())}function jk(t,n){1&t&&(xn(),m(0,"svg",29),m(1,"defs"),le(2,"path",30),m(3,"filter",31),le(4,"feOffset",32),le(5,"feGaussianBlur",33),le(6,"feColorMatrix",34),v(),v(),m(7,"g",35),le(8,"use",36),le(9,"use",37),v(),v())}function Bk(t,n){if(1&t&&(xn(),m(0,"svg",38),le(1,"path",39),v()),2&t){const e=S();Ts("height",e.size||20)("width",e.size||20)}}const Vk=function(t){return{stopColor:t}};function $k(t,n){if(1&t){const e=Ye();m(0,"div",12),Ee("click",function(){ue(e);const i=S(2).$implicit;return S().retryAttachmentUpload(i.file)})("keyup.enter",function(){ue(e);const i=S(2).$implicit;return S().retryAttachmentUpload(i.file)}),le(1,"stream-icon",13),v()}}function Hk(t,n){if(1&t&&le(0,"img",14),2&t){const e=S(2).$implicit;Pt("src",e.url?e.url:e.previewUri,ir)}}function zk(t,n){1&t&&le(0,"stream-loading-indicator",15)}function Wk(t,n){if(1&t){const e=Ye();m(0,"div",4),O(1,$k,2,0,"div",5),m(2,"div",6),m(3,"div",7),m(4,"div",8),Ee("click",function(){ue(e);const i=S().$implicit;return S().deleteAttachment(i)})("keyup.enter",function(){ue(e);const i=S().$implicit;return S().deleteAttachment(i)}),le(5,"stream-icon",9),v(),v(),O(6,Hk,1,1,"img",10),v(),O(7,zk,1,0,"stream-loading-indicator",11),v()}if(2&t){const e=S().$implicit;Nt("rfu-image-previewer__image--loaded","success"===e.state),b(1),x("ngIf","error"===e.state),b(5),x("ngIf",e.url||e.previewUri),b(1),x("ngIf","uploading"===e.state)}}function Gk(t,n){if(1&t){const e=Ye();It(0),m(1,"div",23),Ee("click",function(){ue(e);const i=S(2).$implicit;return S().retryAttachmentUpload(i.file)})("keyup.enter",function(){ue(e);const i=S(2).$implicit;return S().retryAttachmentUpload(i.file)}),fe(2," streamChat.failed "),v(),m(3,"div",24),Ee("click",function(){ue(e);const i=S(2).$implicit;return S().retryAttachmentUpload(i.file)})("keyup.enter",function(){ue(e);const i=S(2).$implicit;return S().retryAttachmentUpload(i.file)}),fe(4," streamChat.retry "),v(),At()}}function qk(t,n){1&t&&(m(0,"div",25),le(1,"stream-loading-indicator"),v())}function Kk(t,n){if(1&t){const e=Ye();m(0,"div",16),m(1,"ol"),m(2,"li",17),le(3,"stream-icon",18),m(4,"a",19),Ee("click",function(i){return ue(e),S().$implicit.url?null:i.preventDefault()})("keyup.enter",function(i){return ue(e),S().$implicit.url?null:i.preventDefault()}),fe(5),O(6,Gk,5,0,"ng-container",20),v(),m(7,"span",21),Ee("click",function(){ue(e);const i=S().$implicit;return S().deleteAttachment(i)})("keyup.enter",function(){ue(e);const i=S().$implicit;return S().deleteAttachment(i)}),fe(8," \u2718 "),v(),O(9,qk,2,0,"div",22),v(),v(),v()}if(2&t){const e=S().$implicit;b(2),Nt("rfu-file-previewer__file--uploading","uploading"===e.state)("rfu-file-previewer__file--failed","error"===e.state),b(2),Pt("href",e.url,ir),b(1),Ve(" ",e.file.name," "),b(1),x("ngIf","error"===e.state),b(3),x("ngIf","uploading"===e.state)}}function Yk(t,n){if(1&t&&(It(0),O(1,Wk,8,5,"div",2),O(2,Kk,10,8,"div",3),At()),2&t){const e=n.$implicit;b(1),x("ngIf","image"===e.type),b(1),x("ngIf","file"===e.type)}}const Zk=["fileInput"];function Qk(t,n){}function Jk(t,n){if(1&t){const e=Ye();O(0,Qk,0,0,"ng-template",9),Ee("valueChange",function(i){return ue(e),S().textareaValue=i})("send",function(){return ue(e),S().messageSent()})("userMentions",function(i){return ue(e),S().mentionedUsers=i})}if(2&t){const e=S();x("value",e.textareaValue)("componentRef",e.textareaRef)("areMentionsEnabled",e.areMentionsEnabled)("mentionAutocompleteItemTemplate",e.mentionAutocompleteItemTemplate)("mentionScope",e.mentionScope)}}function Xk(t,n){1&t&&(le(0,"textarea",10),$e(1,"translate")),2&t&&x("value",Ge(1,1,"streamChat.You can't send messages in this channel"))}function ex(t,n){if(1&t){const e=Ye();m(0,"div",11),m(1,"div",12),fe(2),$e(3,"translate"),v(),m(4,"div",13),m(5,"label"),m(6,"input",14,15),Ee("change",function(){ue(e);const i=ot(7);return S().filesSelected(i.files)}),v(),m(8,"span",16),le(9,"stream-icon",17),v(),v(),v(),v()}if(2&t){const e=S();b(2),Ve(" ",Ge(3,3,"streamChat.Attach files")," "),b(4),x("accept",e.accept)("multiple",e.isMultipleFileUploadEnabled)}}function tx(t,n){if(1&t){const e=Ye();m(0,"button",18),Ee("click",function(){return ue(e),S().messageSent()})("keyup.enter",function(){return ue(e),S().messageSent()}),le(1,"stream-icon",19),v()}}const nx=["content"],md=["*"];function rx(t,n){if(1&t&&(m(0,"stream-notification",2),m(1,"div",3),fe(2),$e(3,"translate"),v(),v()),2&t){const e=n.$implicit;x("type",e.type),b(2),Ve(" ",pa(3,2,e.text,e.translateParams)," ")}}function ix(t,n){if(1&t){const e=Ye();m(0,"button",10),Ee("click",function(){return ue(e),S().quoteClicked()}),m(1,"li",11),fe(2),$e(3,"translate"),v(),v()}2&t&&(b(2),Ve(" ",Ge(3,1,"streamChat.Reply")," "))}function sx(t,n){if(1&t){const e=Ye();m(0,"button",12),Ee("click",function(){return ue(e),S().pinClicked()}),m(1,"li",11),fe(2),$e(3,"translate"),v(),v()}if(2&t){const e=S();b(2),Ve(" ",Ge(3,1,null!=e.message&&e.message.pinned?"streamChat.Unpin":"streamChat.Pin")," ")}}function ox(t,n){if(1&t){const e=Ye();m(0,"button",13),Ee("click",function(){return ue(e),S().flagClicked()}),m(1,"li",11),fe(2),$e(3,"translate"),v(),v()}2&t&&(b(2),Ve(" ",Ge(3,1,"streamChat.Flag")," "))}function ax(t,n){if(1&t){const e=Ye();m(0,"button",14),Ee("click",function(){return ue(e),S().muteClicked()}),m(1,"li",11),fe(2),$e(3,"translate"),v(),v()}2&t&&(b(2),Ve(" ",Ge(3,1,"streamChat.Mute")," "))}function lx(t,n){if(1&t){const e=Ye();m(0,"button",15),Ee("click",function(){return ue(e),S().editClicked()}),m(1,"li",11),fe(2),$e(3,"translate"),v(),v()}2&t&&(b(2),Ve(" ",Ge(3,1,"streamChat.Edit Message")," "))}function ux(t,n){if(1&t){const e=Ye();m(0,"button",16),Ee("click",function(){return ue(e),S().deleteClicked()}),m(1,"li",11),fe(2),$e(3,"translate"),v(),v()}2&t&&(b(2),Ve(" ",Ge(3,1,"streamChat.Delete")," "))}function cx(t,n){1&t&&Zt(0)}const dx=function(t,n){return{message:t,messageUpdateHandler:n}};function fx(t,n){if(1&t&&(It(0),O(1,cx,1,0,"ng-container",23),At()),2&t){const e=S(2);b(1),x("ngTemplateOutlet",e.messageInputTemplate)("ngTemplateOutletContext",nc(2,dx,e.message,e.modalClosed))}}function hx(t,n){if(1&t){const e=Ye();m(0,"stream-message-input",24),Ee("messageUpdate",function(){return ue(e),S(2).modalClosed()}),v()}2&t&&x("message",S(2).message)}function px(t,n){if(1&t){const e=Ye();m(0,"div",17),O(1,fx,2,5,"ng-container",18),O(2,hx,1,1,"ng-template",null,19,ht),le(4,"stream-notification-list"),m(5,"div",20),le(6,"div"),m(7,"div"),m(8,"button",21),Ee("click",function(){return ue(e),S().modalClosed()}),fe(9," streamChat.Cancel "),v(),m(10,"button",22),Ee("click",function(){return ue(e),S().sendClicked()})("keyup.enter",function(){return ue(e),S().sendClicked()}),fe(11," streamChat.Send "),v(),v(),v(),v()}if(2&t){const e=ot(3),r=S();b(1),x("ngIf",r.messageInputTemplate)("ngIfElse",e)}}function gx(t,n){1&t&&(m(0,"div",1),m(1,"div",2),m(2,"div",3),ia(3),v(),v(),v())}const oy=["container"];function mx(t,n){1&t&&(m(0,"p",12),fe(1),$e(2,"translate"),v()),2&t&&(b(1),Ve(" ",Ge(2,1,"streamChat.You have no channels currently")," "))}function vx(t,n){1&t&&Zt(0)}const _x=function(t){return{channel:t}};function yx(t,n){if(1&t){const e=Ye();It(0),m(1,"div",15),Ee("click",function(){return ue(e),S(3).channelSelected()})("keyup.enter",function(){return ue(e),S(3).channelSelected()}),O(2,vx,1,0,"ng-container",16),v(),At()}if(2&t){const e=S().$implicit,r=S(2);b(2),x("ngTemplateOutlet",r.customChannelPreviewTemplate)("ngTemplateOutletContext",jr(2,_x,e))}}function wx(t,n){if(1&t){const e=Ye();m(0,"stream-channel-preview",17),Ee("click",function(){return ue(e),S(3).channelSelected()})("keyup.enter",function(){return ue(e),S(3).channelSelected()}),v()}2&t&&x("channel",S().$implicit)}function Cx(t,n){if(1&t&&(It(0),O(1,yx,3,4,"ng-container",13),O(2,wx,1,1,"ng-template",null,14,ht),At()),2&t){const e=ot(3),r=S(2);b(1),x("ngIf",r.customChannelPreviewTemplate)("ngIfElse",e)}}function bx(t,n){1&t&&(m(0,"span"),fe(1),$e(2,"translate"),v()),2&t&&(b(1),Qn(Ge(2,1,"Load more")))}function Dx(t,n){1&t&&le(0,"stream-loading-indicator")}function Ex(t,n){if(1&t){const e=Ye();m(0,"div",18),Ee("click",function(){return ue(e),S(2).loadMoreChannels()})("keyup.enter",function(){return ue(e),S(2).loadMoreChannels()}),m(1,"button",19),O(2,bx,3,3,"span",13),O(3,Dx,1,0,"ng-template",null,20,ht),v(),v()}if(2&t){const e=ot(4),r=S(2);b(1),x("disabled",r.isLoadingMoreChannels),b(1),x("ngIf",!r.isLoadingMoreChannels)("ngIfElse",e)}}function Sx(t,n){if(1&t&&(m(0,"div",7),m(1,"div",8),O(2,mx,3,3,"p",9),$e(3,"async"),O(4,Cx,4,2,"ng-container",10),$e(5,"async"),O(6,Ex,5,3,"div",11),$e(7,"async"),v(),v()),2&t){const e=S();let r;b(2),x("ngIf",!(null!=(r=Ge(3,4,e.channels$))&&r.length)),b(2),x("ngForOf",Ge(5,6,e.channels$))("ngForTrackBy",e.trackByChannelId),b(2),x("ngIf",Ge(7,8,e.hasMoreChannels$))}}function Mx(t,n){1&t&&Zt(0)}function Tx(t,n){if(1&t&&(It(0),O(1,Mx,1,0,"ng-container",22),At()),2&t){S(2);const e=ot(9);b(1),x("ngTemplateOutlet",e)}}function Ix(t,n){1&t&&Zt(0)}function Ax(t,n){if(1&t&&(It(0),O(1,Ix,1,0,"ng-container",22),At()),2&t){S(2);const e=ot(11);b(1),x("ngTemplateOutlet",e)}}function kx(t,n){if(1&t&&(O(0,Tx,2,1,"ng-container",21),$e(1,"async"),O(2,Ax,2,1,"ng-container",21),$e(3,"async")),2&t){const e=S();x("ngIf",Ge(1,2,e.isError$)),b(2),x("ngIf",Ge(3,4,e.isInitializing$))}}function xx(t,n){1&t&&Zt(0)}function Rx(t,n){if(1&t&&(m(0,"div",23),O(1,xx,1,0,"ng-container",22),m(2,"div",24),le(3,"stream-icon",25),m(4,"h1"),fe(5),$e(6,"translate"),v(),m(7,"h3"),fe(8),$e(9,"translate"),v(),v(),v()),2&t){S();const e=ot(11);b(1),x("ngTemplateOutlet",e),b(4),Qn(Ge(6,3,"streamChat.Connection error")),b(3),Ve(" ",Ge(9,5,"streamChat.Error connecting to chat, refresh the page to try again.")," ")}}function Ox(t,n){1&t&&Zt(0)}function Fx(t,n){1&t&&Zt(0)}function Lx(t,n){1&t&&Zt(0)}function Px(t,n){if(1&t&&(m(0,"div",26),O(1,Ox,1,0,"ng-container",22),O(2,Fx,1,0,"ng-container",22),O(3,Lx,1,0,"ng-container",22),v()),2&t){S();const e=ot(13);b(1),x("ngTemplateOutlet",e),b(1),x("ngTemplateOutlet",e),b(1),x("ngTemplateOutlet",e)}}function Nx(t,n){1&t&&(m(0,"div",27),le(1,"div",28),m(2,"div",29),le(3,"div",30),le(4,"div",31),v(),v())}const Ux=["selectorContainer"],jx=["selectorTooltip"];function Bx(t,n){if(1&t&&(m(0,"li",5),m(1,"span",6),fe(2),v(),fe(3," \xa0 "),v()),2&t){const e=n.$implicit,r=S(2);b(2),Ve(" ",r.getEmojiByReaction(e)," ")}}function Vx(t,n){if(1&t&&(m(0,"div",2),m(1,"ul"),O(2,Bx,4,1,"li",3),m(3,"li"),m(4,"span",4),fe(5),v(),v(),v(),v()),2&t){const e=S();Nt("str-chat__reaction-list--reverse",!0),b(2),x("ngForOf",e.existingReactions)("ngForTrackBy",e.trackByMessageReaction),b(3),Qn(e.reactionsCount)}}const $x=function(t,n){return{left:t,visibility:n}},Hx=function(t){return{left:t}};function zx(t,n){if(1&t&&(m(0,"div",12,13),le(2,"div",14),m(3,"span",15),fe(4),v(),v()),2&t){const e=S(2);x("ngStyle",nc(3,$x,(null==e.tooltipPositions?null:e.tooltipPositions.tooltip)+"px",e.tooltipPositions?"visible":"hidden")),b(2),x("ngStyle",jr(6,Hx,(null==e.tooltipPositions?null:e.tooltipPositions.arrow)+"px")),b(2),Ve(" ",e.tooltipText," ")}}function Wx(t,n){if(1&t){const e=Ye();m(0,"div",20),Ee("click",function(){return ue(e),S(3).hideTooltip()})("keyup.enter",function(){return ue(e),S(3).hideTooltip()})("mouseenter",function(i){ue(e);const s=S().$implicit;return S(2).showTooltip(i,s)})("mouseleave",function(){return ue(e),S(3).hideTooltip()}),le(1,"stream-avatar",21),v()}if(2&t){const e=n.ngIf,r=S().$implicit;Is("data-testid","",r,"-last-user"),b(1),Is("data-testid","",r,"-avatar"),x("imageUrl",e.image)("name",e.name||e.id)("size",20)}}function Gx(t,n){if(1&t&&(m(0,"span",22),fe(1),v()),2&t){const e=S().$implicit,r=S(2);Is("data-testid","",e,"-reaction-count"),b(1),Ve(" ",r.messageReactionCounts[e]," ")}}function qx(t,n){if(1&t){const e=Ye();m(0,"li",16),Ee("click",function(){const s=ue(e).$implicit;return S(2).react(s)})("keyup.enter",function(){const s=ue(e).$implicit;return S(2).react(s)}),O(1,Wx,2,5,"div",17),m(2,"span",18),fe(3),v(),O(4,Gx,2,2,"span",19),v()}if(2&t){const e=n.$implicit,r=S(2);b(1),x("ngIf",r.getLatestUserByReaction(e)),b(2),Ve(" ",r.getEmojiByReaction(e)," "),b(1),x("ngIf",r.messageReactionCounts[e]&&r.messageReactionCounts[e]>0)}}function Kx(t,n){if(1&t&&(m(0,"div",7,8),O(2,zx,5,8,"div",9),m(3,"ul",10),O(4,qx,5,3,"li",11),v(),v()),2&t){const e=S();b(2),x("ngIf",e.tooltipText),b(2),x("ngForOf",e.reactionOptions)("ngForTrackBy",e.trackByMessageReaction)}}function Yx(t,n){if(1&t){const e=Ye();m(0,"img",5),Ee("load",function(){return ue(e),S(2).imageLoaded()}),v()}if(2&t){const e=S().$implicit;x("src",e.img_url||e.thumb_url||e.image_url,ir)("alt",null==e?null:e.fallback)}}function Zx(t,n){if(1&t&&(m(0,"span",11),fe(1),v()),2&t){const e=S(2).$implicit,r=S();b(1),Qn(r.getFileSize(e))}}function Qx(t,n){if(1&t&&(m(0,"div",6),le(1,"stream-icon",7),m(2,"div",8),m(3,"a",9),fe(4),v(),O(5,Zx,2,1,"span",10),v(),v()),2&t){const e=S().$implicit,r=S();b(1),x("size",30),b(2),Pt("href",e.asset_url,ir),b(1),Ve(" ",e.title," "),b(1),x("ngIf",r.hasFileSize(e))}}function Jx(t,n){if(1&t&&(m(0,"div",18),le(1,"img",19),v()),2&t){const e=S(2).$implicit;b(1),Pt("alt",e.image_url||e.thumb_url),Pt("src",e.image_url||e.thumb_url,ir)}}function Xx(t,n){if(1&t&&(m(0,"div",20),fe(1),v()),2&t){const e=S(2).$implicit;b(1),Ve(" ",e.title," ")}}function e2(t,n){if(1&t&&(m(0,"div",21),fe(1),v()),2&t){const e=S(2).$implicit;b(1),Ve(" ",e.text," ")}}function t2(t,n){if(1&t&&(m(0,"a",22),fe(1),v()),2&t){const e=S(2).$implicit,r=S();Pt("href",e.title_link||e.og_scrape_url,ir),b(1),Ve(" ",r.trimUrl(e.title_link||e.og_scrape_url)," ")}}function n2(t,n){if(1&t&&(m(0,"div"),O(1,Jx,2,2,"div",12),m(2,"div",13),m(3,"div",14),O(4,Xx,2,1,"div",15),O(5,e2,2,1,"div",16),O(6,t2,2,2,"a",17),v(),v(),v()),2&t){const e=S().$implicit;Nr("str-chat__message-attachment-card str-chat__message-attachment-card--",e.type,""),b(1),x("ngIf",e.image_url||e.thumb_url),b(3),x("ngIf",e.title),b(1),x("ngIf",e.text),b(1),x("ngIf",e.title_link||e.og_scrape_url)}}function r2(t,n){if(1&t&&(It(0),m(1,"div",1),O(2,Yx,1,2,"img",2),O(3,Qx,6,4,"div",3),O(4,n2,7,7,"div",4),v(),At()),2&t){const e=n.$implicit,r=S();b(1),Nr("str-chat__message-attachment str-chat__message-attachment--",e.type,""),Nt("str-chat__message-attachment--card",r.isCard(e))("str-chat-angular__message-attachment-file-single",r.isFile(e)),b(1),x("ngIf",r.isImage(e)),b(1),x("ngIf",r.isFile(e)),b(1),x("ngIf",r.isCard(e))}}function i2(t,n){1&t&&Zt(0)}function s2(t,n){if(1&t&&(It(0),O(1,i2,1,0,"ng-container",19),At()),2&t){S(4);const e=ot(4);b(1),x("ngTemplateOutlet",e)}}function o2(t,n){1&t&&Zt(0)}function a2(t,n){if(1&t&&(It(0),O(1,o2,1,0,"ng-container",19),At()),2&t){S(5);const e=ot(6);b(1),x("ngTemplateOutlet",e)}}function l2(t,n){if(1&t&&O(0,a2,2,1,"ng-container",2),2&t){const e=S(4),r=ot(8);x("ngIf",e.isMessageDeliveredAndRead&&e.canReceiveReadEvents)("ngIfElse",r)}}function u2(t,n){if(1&t&&(It(0),O(1,s2,2,1,"ng-container",2),O(2,l2,1,2,"ng-template",null,18,ht),At()),2&t){const e=ot(3),r=S(3);b(1),x("ngIf","sending"===(null==r.message?null:r.message.status))("ngIfElse",e)}}function c2(t,n){if(1&t){const e=Ye();m(0,"stream-icon",25),Ee("keyup.enter",function(){ue(e);const i=S(4);return i.isActionBoxOpen=!i.isActionBoxOpen})("click",function(){ue(e);const i=S(4);return i.isActionBoxOpen=!i.isActionBoxOpen}),v()}}function d2(t,n){if(1&t){const e=Ye();m(0,"div",26),Ee("click",function(){ue(e);const i=S(4);return i.isReactionSelectorOpen=!i.isReactionSelectorOpen})("keyup.enter",function(){ue(e);const i=S(4);return i.isReactionSelectorOpen=!i.isReactionSelectorOpen}),le(1,"stream-icon",27),v()}}function f2(t,n){if(1&t){const e=Ye();m(0,"div",20),m(1,"div",21),m(2,"stream-message-actions-box",22),Ee("displayedActionsCount",function(i){return ue(e),S(3).visibleMessageActionsCount=i})("isEditing",function(i){ue(e);const s=S(3);return s.isEditing=i,s.isActionBoxOpen=!s.isEditing}),v(),O(3,c2,1,0,"stream-icon",23),v(),O(4,d2,2,0,"div",24),v()}if(2&t){const e=S(3);b(1),Nt("str-chat-angular__message-simple__actions__action--options--editing",e.isEditing),b(1),x("isOpen",e.isActionBoxOpen)("isMine",e.isSentByCurrentUser)("enabledActions",e.enabledMessageActions)("message",e.message)("messageInputTemplate",e.messageInputTemplate),b(1),x("ngIf",e.visibleMessageActionsCount>0),b(1),x("ngIf",e.areReactionsEnabled&&e.canReactToMessage)}}const h2=function(){return{}},ay=function(){return[]};function p2(t,n){if(1&t){const e=Ye();m(0,"stream-message-reactions",28),Ee("isSelectorOpenChange",function(i){return ue(e),S(3).isReactionSelectorOpen=i}),v()}if(2&t){const e=S(3);x("messageReactionCounts",(null==e.message?null:e.message.reaction_counts)||ha(5,h2))("latestReactions",(null==e.message?null:e.message.latest_reactions)||ha(6,ay))("isSelectorOpen",e.isReactionSelectorOpen)("messageId",null==e.message?null:e.message.id)("ownReactions",(null==e.message?null:e.message.own_reactions)||ha(7,ay))}}function g2(t,n){1&t&&le(0,"stream-attachment-list",29),2&t&&x("attachments",S(3).message.attachments)}function m2(t,n){1&t&&(m(0,"div",36),fe(1),$e(2,"translate"),v()),2&t&&(b(1),Ve(" ",Ge(2,1,"streamChat.Error \xb7 Unsent")," "))}function v2(t,n){if(1&t&&(m(0,"div",37),fe(1),$e(2,"translate"),v()),2&t){const e=S(4);b(1),Ve(" ",Ge(2,1,403===(null==e.message?null:e.message.errorStatusCode)?"streamChat.Message Failed \xb7 Unauthorized":"streamChat.Message Failed \xb7 Click to try again")," ")}}function _2(t,n){1&t&&le(0,"span",40),2&t&&x("innerHTML",S().$implicit.content,dh)}function y2(t,n){1&t&&Zt(0)}const w2=function(t){return{user:t}};function C2(t,n){if(1&t&&(It(0),O(1,y2,1,0,"ng-container",42),At()),2&t){const e=S(2).$implicit,r=S(4);b(1),x("ngTemplateOutlet",r.mentionTemplate)("ngTemplateOutletContext",jr(2,w2,e.user))}}function b2(t,n){if(1&t&&(m(0,"b"),fe(1),v()),2&t){const e=S(2).$implicit;b(1),Qn(e.content)}}function D2(t,n){if(1&t&&(O(0,C2,2,4,"ng-container",2),O(1,b2,2,1,"ng-template",null,41,ht)),2&t){const e=ot(2);x("ngIf",S(5).mentionTemplate)("ngIfElse",e)}}function E2(t,n){if(1&t&&(It(0),O(1,_2,1,1,"span",38),O(2,D2,3,2,"ng-template",null,39,ht),At()),2&t){const e=n.$implicit,r=ot(3);b(1),x("ngIf","text"===e.type)("ngIfElse",r)}}function S2(t,n){if(1&t){const e=Ye();m(0,"div",30),m(1,"div",31),Ee("click",function(){ue(e);const i=S(3);return"failed"===(null==i.message?null:i.message.status)&&403!==(null==i.message?null:i.message.errorStatusCode)?i.resendMessage():void 0})("keyup.enter",function(){ue(e);const i=S(3);return"failed"===(null==i.message?null:i.message.status)&&403!==(null==i.message?null:i.message.errorStatusCode)?i.resendMessage():void 0}),O(2,m2,3,3,"div",32),O(3,v2,3,3,"div",33),m(4,"div",34),Ee("click",function(){return ue(e),S(3).textClicked()})("keyup.enter",function(){return ue(e),S(3).textClicked()}),m(5,"p"),O(6,E2,4,2,"ng-container",35),v(),v(),v(),v()}if(2&t){const e=S(3);b(1),Nt("str-chat__message-light-text-inner--has-attachment",e.hasAttachment),b(1),x("ngIf","error"===(null==e.message?null:e.message.type)),b(1),x("ngIf","failed"===(null==e.message?null:e.message.status)),b(3),x("ngForOf",e.messageTextParts)}}function M2(t,n){if(1&t&&(m(0,"span",43),fe(1),v()),2&t){const e=S(3);b(1),Ve(" ",null!=e.message&&null!=e.message.user&&e.message.user.name?null==e.message||null==e.message.user?null:e.message.user.name:null==e.message||null==e.message.user?null:e.message.user.id," ")}}function T2(t,n){if(1&t&&(It(0),O(1,u2,4,2,"ng-container",8),le(2,"stream-avatar",9),m(3,"div",10),O(4,f2,5,9,"div",11),O(5,p2,1,8,"stream-message-reactions",12),O(6,g2,1,1,"stream-attachment-list",13),O(7,S2,7,5,"div",14),m(8,"div",15),O(9,M2,2,1,"span",16),m(10,"span",17),fe(11),v(),v(),v(),At()),2&t){const e=S(2);b(1),x("ngIf",e.isSentByCurrentUser&&(e.isLastSentMessage&&"received"===(null==e.message?null:e.message.status)||"sending"===(null==e.message?null:e.message.status))),b(1),x("imageUrl",null==e.message||null==e.message.user?null:e.message.user.image)("name",(null==e.message||null==e.message.user?null:e.message.user.name)||(null==e.message||null==e.message.user?null:e.message.user.id)),b(2),x("ngIf",e.areOptionsVisible),b(1),x("ngIf",e.areReactionsEnabled),b(1),x("ngIf",e.hasAttachment),b(1),x("ngIf",null==e.message?null:e.message.text),b(2),x("ngIf",!e.isSentByCurrentUser),b(2),Ve(" ",e.parsedDate," ")}}function I2(t,n){if(1&t&&(It(0),O(1,T2,12,9,"ng-container",2),At()),2&t){const e=S(),r=ot(12);b(1),x("ngIf","system"!==(null==e.message?null:e.message.type))("ngIfElse",r)}}function A2(t,n){1&t&&(m(0,"span",44),m(1,"div",45),fe(2),$e(3,"translate"),v(),le(4,"stream-loading-indicator",46),v()),2&t&&(b(2),Ve(" ",Ge(3,1,"streamChat.Sending...")," "))}function k2(t,n){if(1&t&&(m(0,"span",51),fe(1),v()),2&t){const e=S(2);b(1),Ve(" ",(null==e.message?null:e.message.readBy).length," ")}}function x2(t,n){if(1&t&&(m(0,"span",47),m(1,"div",48),fe(2),v(),le(3,"stream-avatar",49),O(4,k2,2,1,"span",50),v()),2&t){const e=S();b(2),Ve(" ",e.readByText," "),b(1),x("size",15)("imageUrl",null==e.lastReadUser?null:e.lastReadUser.image)("name",(null==e.lastReadUser?null:e.lastReadUser.name)||(null==e.lastReadUser?null:e.lastReadUser.id)),b(1),x("ngIf",e.isReadByMultipleUsers)}}function R2(t,n){1&t&&(m(0,"span",52),m(1,"div",45),fe(2),$e(3,"translate"),v(),le(4,"stream-icon",53),v()),2&t&&(b(2),Ve(" ",Ge(3,1,"streamChat.Delivered")," "))}function O2(t,n){1&t&&(m(0,"div",54),m(1,"div",55),fe(2," streamChat.This message was deleted... "),v(),v())}function F2(t,n){if(1&t&&(m(0,"div",56),m(1,"div",57),le(2,"div",58),m(3,"p"),fe(4),v(),le(5,"div",58),v(),m(6,"div",59),fe(7),v(),v()),2&t){const e=S();b(4),Qn(null==e.message?null:e.message.text),b(3),Ve(" ",e.parsedDate," ")}}const L2=["input"];function P2(t,n){1&t&&Zt(0)}const N2=function(t){return{item:t}};function U2(t,n){if(1&t&&(m(0,"div",6),O(1,P2,1,0,"ng-container",7),v()),2&t){const e=S().item,r=S(),i=ot(6);b(1),x("ngTemplateOutlet",r.mentionAutocompleteItemTemplate||i)("ngTemplateOutletContext",jr(2,N2,e))}}function j2(t,n){1&t&&(m(0,"div",4),O(1,U2,2,4,"div",5),v()),2&t&&(x("ngSwitch",n.item.type),b(1),x("ngSwitchCase","mention"))}function B2(t,n){if(1&t&&(m(0,"div",8),le(1,"stream-avatar",9),m(2,"span",10),fe(3),v(),v()),2&t){const e=n.item;b(1),x("size",20)("imageUrl",e.image||(null==e.user?null:e.user.image))("name",e.autocompleteLabel),b(2),Qn(e.autocompleteLabel)}}const V2=["scrollContainer"];function $2(t,n){1&t&&Zt(0)}const H2=function(t,n,e,r,i,s,o){return{message:t,areReactionsEnabled:n,canReactToMessage:e,lastSentMessageId:r,canReceiveReadEvents:i,messageInputTemplate:s,mentionTemplate:o}};function z2(t,n){if(1&t&&(It(0),O(1,$2,1,0,"ng-container",10),At()),2&t){const e=S().$implicit,r=S();b(1),x("ngTemplateOutlet",r.messageTemplate)("ngTemplateOutletContext",function(t,n,e,r,i,s,o,a,l,u){const c=Vt()+t,d=N();let f=vn(d,c,e,r,i,s);return ta(d,c+4,o,a,l)||f?Yn(d,c+7,u?n.call(u,e,r,i,s,o,a,l):n(e,r,i,s,o,a,l)):Ms(d,c+7)}(2,H2,e,r.areReactionsEnabled,r.canReactToMessage,!(!r.lastSentMessageId||(null==e?null:e.id)!==r.lastSentMessageId),r.canReceiveReadEvents,r.messageInputTemplate,r.mentionTemplate))}}function W2(t,n){if(1&t&&le(0,"stream-message",11),2&t){const e=S().$implicit,r=S();x("message",e)("areReactionsEnabled",r.areReactionsEnabled)("canReactToMessage",r.canReactToMessage)("isLastSentMessage",!(!r.lastSentMessageId||(null==e?null:e.id)!==r.lastSentMessageId))("enabledMessageActions",r.enabledMessageActions)("canReceiveReadEvents",r.canReceiveReadEvents)("messageInputTemplate",r.messageInputTemplate)("mentionTemplate",r.mentionTemplate)}}function G2(t,n){if(1&t&&(m(0,"li",7),O(1,z2,2,10,"ng-container",8),O(2,W2,1,8,"ng-template",null,9,ht),v()),2&t){const e=n.index,r=ot(3),i=S();Nr("str-chat__li str-chat__li--",i.groupStyles[e],""),b(1),x("ngIf",i.messageTemplate)("ngIfElse",r)}}function q2(t,n){if(1&t&&(m(0,"div",14),fe(1),v()),2&t){const e=S(2);b(1),Ve(" ",e.unreadMessageCount," ")}}function K2(t,n){if(1&t){const e=Ye();m(0,"button",12),Ee("keyup.enter",function(){return ue(e),S().scrollToBottom()})("click",function(){return ue(e),S().scrollToBottom()}),O(1,q2,2,1,"div",13),v()}if(2&t){const e=S();b(1),x("ngIf",e.unreadMessageCount>0)}}let ao=(()=>{class t{constructor(){this.notificationsSubject=new fr([]),this.notifications$=this.notificationsSubject.asObservable()}addTemporaryNotification(e,r="error",i=5e3,s){this.addNotification(e,r,s);const o=setTimeout(()=>this.removeNotification(e),i);return()=>{clearTimeout(o),this.removeNotification(e)}}addPermanentNotification(e,r="error",i){return this.addNotification(e,r,i),()=>this.removeNotification(e)}addNotification(e,r,i){this.notificationsSubject.next([...this.notificationsSubject.getValue(),{text:e,type:r,translateParams:i}])}removeNotification(e){const r=this.notificationsSubject.getValue(),i=r.findIndex(s=>s.text===e);-1!==i&&(r.splice(i,1),this.notificationsSubject.next([...r]))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Hr=(()=>{class t{constructor(e,r){this.ngZone=e,this.notificationService=r,this.notificationSubject=new qs(1),this.connectionStateSubject=new qs(1),this.appSettingsSubject=new fr(void 0),this.notification$=this.notificationSubject.asObservable(),this.connectionState$=this.connectionStateSubject.asObservable(),this.appSettings$=this.appSettingsSubject.asObservable()}init(e,r,i){return Le(this,void 0,void 0,function*(){let s;this.chatClient=G_.getInstance(e),yield this.ngZone.runOutsideAngular(()=>Le(this,void 0,void 0,function*(){yield this.chatClient.connectUser({id:r},i),this.chatClient.setUserAgent(`stream-chat-angular-2.6.2-${this.chatClient.getUserAgent()}`)})),this.appSettingsSubject.next(void 0),this.chatClient.on(o=>{this.notificationSubject.next({eventType:o.type,event:o})}),this.chatClient.on("connection.changed",o=>{this.ngZone.run(()=>{const a=o.online;a?s&&s():s=this.notificationService.addPermanentNotification("streamChat.Connection failure, reconnecting now..."),this.connectionStateSubject.next(a?"online":"offline")})})})}getAppSettings(){return Le(this,void 0,void 0,function*(){if(this.appSettingsSubject.getValue())return;const e=yield this.chatClient.getAppSettings();this.appSettingsSubject.next(e.app||{})})}flagMessage(e){return Le(this,void 0,void 0,function*(){yield this.chatClient.flagMessage(e)})}autocompleteUsers(e){return Le(this,void 0,void 0,function*(){return e?(yield this.chatClient.queryUsers({$or:[{id:{$autocomplete:e}},{name:{$autocomplete:e}}],id:{$ne:this.chatClient.userID}})).users:[]})}}return t.\u0275fac=function(e){return new(e||t)(De(_t),De(ao))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Za=(t,n)=>{const e=[];return Object.keys(n.state.read).forEach(r=>{var i;n.state.read[r].last_read.getTime()>=t.updated_at.getTime()&&(null===(i=t.user)||void 0===i?void 0:i.id)!==r&&e.push(n.state.read[r].user)}),e};let Sn=(()=>{class t{constructor(e,r){this.chatClientService=e,this.ngZone=r,this.channelsSubject=new fr(void 0),this.activeChannelSubject=new fr(void 0),this.activeChannelMessagesSubject=new fr([]),this.hasMoreChannelsSubject=new qs(1),this.activeChannelSubscriptions=[],this.channelListSetter=i=>{this.channelsSubject.next(i)},this.messageListSetter=i=>{this.activeChannelMessagesSubject.next(i)},this.channels$=this.channelsSubject.asObservable(),this.activeChannel$=this.activeChannelSubject.asObservable(),this.activeChannelMessages$=this.activeChannelMessagesSubject.pipe(Ze(i=>{const s=this.activeChannelSubject.getValue();return i.map(o=>{if(this.isStreamMessage(o)&&this.isFormatMessageResponse(o))return o;if(this.isFormatMessageResponse(o))return Object.assign(Object.assign({},o),{readBy:Za(o,s)});{const a=this.formatMessage(o);return Object.assign(Object.assign({},a),{readBy:Za(a,s)})}})})),this.hasMoreChannels$=this.hasMoreChannelsSubject.asObservable()}setAsActiveChannel(e){const r=this.activeChannelSubject.getValue();this.stopWatchForActiveChannelEvents(r),this.watchForActiveChannelEvents(e),this.activeChannelSubject.next(e),e.state.messages.forEach(i=>{i.readBy=Za(i,e)}),this.canSendReadEvents&&e.markRead(),this.activeChannelMessagesSubject.next([...e.state.messages])}loadMoreMessages(){var e,r,i,s;return Le(this,void 0,void 0,function*(){const o=this.activeChannelSubject.getValue(),a=null===(e=this.activeChannelMessagesSubject.getValue()[0])||void 0===e?void 0:e.id;yield null==o?void 0:o.query({messages:{limit:25,id_lt:a},members:{limit:0},watchers:{limit:0}}),(null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.id)===(null===(s=null===(i=this.activeChannelSubject.getValue())||void 0===i?void 0:i.data)||void 0===s?void 0:s.id)&&this.activeChannelMessagesSubject.next([...o.state.messages])})}init(e,r,i){return Le(this,void 0,void 0,function*(){this.filters=e,this.options=i||{offset:0,limit:25,state:!0,presence:!0,watch:!0,message_limit:25},this.sort=r||{last_message_at:-1,updated_at:-1},yield this.queryChannels(),this.chatClientService.notification$.subscribe(s=>{this.handleNotification(s)})})}loadMoreChannels(){return Le(this,void 0,void 0,function*(){this.options.offset=this.channels.length,yield this.queryChannels()})}addReaction(e,r){var i;return Le(this,void 0,void 0,function*(){yield null===(i=this.activeChannelSubject.getValue())||void 0===i?void 0:i.sendReaction(e,{type:r})})}removeReaction(e,r){var i;return Le(this,void 0,void 0,function*(){yield null===(i=this.activeChannelSubject.getValue())||void 0===i?void 0:i.deleteReaction(e,r)})}sendMessage(e,r=[],i=[]){return Le(this,void 0,void 0,function*(){const s=((t,n,e,r)=>{const i=`${t.id}-${QA()}`;return{__html:n,created_at:new Date,html:n,id:i,reactions:[],status:"sending",text:n,type:"regular",user:t,attachments:e,mentioned_users:r}})(this.chatClientService.chatClient.user,e,r,i),o=this.activeChannelSubject.getValue();s.readBy=[],o.state.addMessageSorted(s,!0),yield this.sendMessageRequest(s)})}resendMessage(e){return Le(this,void 0,void 0,function*(){this.activeChannelSubject.getValue().state.addMessageSorted(Object.assign(Object.assign({},e),{errorStatusCode:void 0,status:"sending"}),!0),yield this.sendMessageRequest(e)})}updateMessage(e){return Le(this,void 0,void 0,function*(){yield this.chatClientService.chatClient.updateMessage(e)})}deleteMessage(e){return Le(this,void 0,void 0,function*(){yield this.chatClientService.chatClient.deleteMessage(e.id)})}uploadAttachments(e){return Le(this,void 0,void 0,function*(){const r=[],i=this.activeChannelSubject.getValue();return(yield Promise.allSettled(e.map(o=>"image"===o.type?i.sendImage(o.file):i.sendFile(o.file)))).forEach((o,a)=>{const l=e[a].file,u=e[a].type;r.push("fulfilled"===o.status?{file:l,type:u,state:"success",url:o.value.file}:{file:l,type:u,state:"error"})}),r})}deleteAttachment(e){return Le(this,void 0,void 0,function*(){const r=this.activeChannelSubject.getValue();yield"image"===e.type?r.deleteImage(e.url):r.deleteFile(e.url)})}autocompleteMembers(e){return Le(this,void 0,void 0,function*(){const r=this.activeChannelSubject.getValue();if(!r)return[];if(Object.keys(r.state.members).length<=100)return Object.values(r.state.members).filter(i=>{var s;return(null===(s=i.user)||void 0===s?void 0:s.id)!==this.chatClientService.chatClient.userID});{if(!e)return[];const i=yield r.queryMembers({name:{$autocomplete:e},id:{$ne:this.chatClientService.chatClient.userID}});return Object.values(i.members)}})}sendMessageRequest(e){var r;return Le(this,void 0,void 0,function*(){const i=this.activeChannelSubject.getValue();this.activeChannelMessagesSubject.next([...i.state.messages]);try{yield i.sendMessage({text:e.text,attachments:e.attachments,mentioned_users:null===(r=e.mentioned_users)||void 0===r?void 0:r.map(s=>s.id),id:e.id})}catch(s){const o=JSON.stringify(s),a=o?JSON.parse(o):{};i.state.addMessageSorted(Object.assign(Object.assign({},e),{errorStatusCode:a.status||void 0,status:"failed"}),!0),this.activeChannelMessagesSubject.next([...i.state.messages])}})}handleNotification(e){return Le(this,void 0,void 0,function*(){switch(e.eventType){case"notification.message_new":yield this.ngZone.run(()=>Le(this,void 0,void 0,function*(){this.customNewMessageNotificationHandler?this.customNewMessageNotificationHandler(e,this.channelListSetter):yield this.handleNewMessageNotification(e)}));break;case"notification.added_to_channel":yield this.ngZone.run(()=>Le(this,void 0,void 0,function*(){this.customAddedToChannelNotificationHandler?this.customAddedToChannelNotificationHandler(e,this.channelListSetter):yield this.handleAddedToChannelNotification(e)}));break;case"notification.removed_from_channel":this.ngZone.run(()=>{this.customRemovedFromChannelNotificationHandler?this.customRemovedFromChannelNotificationHandler(e,this.channelListSetter):this.handleRemovedFromChannelNotification(e)})}})}handleRemovedFromChannelNotification(e){this.removeFromChannelList(e.event.channel.cid)}handleNewMessageNotification(e){return Le(this,void 0,void 0,function*(){yield this.addChannelFromNotification(e)})}handleAddedToChannelNotification(e){return Le(this,void 0,void 0,function*(){yield this.addChannelFromNotification(e)})}addChannelFromNotification(e){var r,i;return Le(this,void 0,void 0,function*(){const s=this.chatClientService.chatClient.channel(null===(r=e.event.channel)||void 0===r?void 0:r.type,null===(i=e.event.channel)||void 0===i?void 0:i.id);yield s.watch(),this.watchForChannelEvents(s),this.channelsSubject.next([s,...this.channelsSubject.getValue()||[]])})}removeFromChannelList(e){const r=this.channels.filter(i=>i.cid!==e);r.length<this.channels.length&&(this.channelsSubject.next(r),this.activeChannelSubject.getValue().cid===e&&this.setAsActiveChannel(r[0]))}watchForActiveChannelEvents(e){this.activeChannelSubscriptions.push(e.on("message.new",()=>{this.ngZone.run(()=>{this.activeChannelMessagesSubject.next([...e.state.messages]),this.activeChannel$.pipe(ro()).subscribe(r=>{this.canSendReadEvents&&(null==r||r.markRead())})})})),this.activeChannelSubscriptions.push(e.on("message.updated",r=>this.messageUpdated(r))),this.activeChannelSubscriptions.push(e.on("message.deleted",r=>this.messageUpdated(r))),this.activeChannelSubscriptions.push(e.on("reaction.new",r=>this.messageReactionEventReceived(r))),this.activeChannelSubscriptions.push(e.on("reaction.deleted",r=>this.messageReactionEventReceived(r))),this.activeChannelSubscriptions.push(e.on("reaction.updated",r=>this.messageReactionEventReceived(r))),this.activeChannelSubscriptions.push(e.on("message.read",r=>{this.ngZone.run(()=>{let i;this.activeChannelMessages$.pipe(ro()).subscribe(s=>{i=s[s.length-1]}),i&&r.user&&(i.readBy=Za(i,e),this.activeChannelMessagesSubject.next(this.activeChannelMessagesSubject.getValue()))})}))}messageUpdated(e){this.ngZone.run(()=>{const r=this.activeChannelMessagesSubject.getValue(),i=r.findIndex(s=>{var o;return s.id===(null===(o=e.message)||void 0===o?void 0:o.id)});-1!==i&&e.message&&(r[i]=e.message,this.activeChannelMessagesSubject.next([...r]))})}messageReactionEventReceived(e){this.ngZone.run(()=>{var r,i,s,o;let a;this.activeChannelMessages$.pipe(ro()).subscribe(u=>a=u);const l=a.find(u=>{var c;return u.id===(null===(c=null==e?void 0:e.message)||void 0===c?void 0:c.id)});!l||(l.reaction_counts=Object.assign({},null===(r=e.message)||void 0===r?void 0:r.reaction_counts),l.reaction_scores=Object.assign({},null===(i=e.message)||void 0===i?void 0:i.reaction_scores),l.latest_reactions=[...(null===(s=e.message)||void 0===s?void 0:s.latest_reactions)||[]],l.own_reactions=[...(null===(o=e.message)||void 0===o?void 0:o.own_reactions)||[]],this.activeChannelMessagesSubject.next([...a]))})}formatMessage(e){return Object.assign(Object.assign({},e),{pinned_at:e.pinned_at?new Date(e.pinned_at):null,created_at:e.created_at?new Date(e.created_at):new Date,updated_at:e.updated_at?new Date(e.updated_at):new Date,status:e.status||"received"})}isStreamMessage(e){return!!e.readBy}isFormatMessageResponse(e){return e.created_at instanceof Date}stopWatchForActiveChannelEvents(e){!e||(this.activeChannelSubscriptions.forEach(r=>r.unsubscribe()),this.activeChannelSubscriptions=[])}queryChannels(){return Le(this,void 0,void 0,function*(){try{const e=yield this.chatClientService.chatClient.queryChannels(this.filters,this.sort,this.options);e.forEach(i=>this.watchForChannelEvents(i));const r=this.channelsSubject.getValue()||[];this.channelsSubject.next([...r,...e]),e.length>0&&!this.activeChannelSubject.getValue()&&this.setAsActiveChannel(e[0]),this.hasMoreChannelsSubject.next(e.length>=this.options.limit)}catch(e){this.channelsSubject.error(e)}})}watchForChannelEvents(e){e.on(r=>{switch(r.type){case"message.new":this.ngZone.run(()=>{this.customNewMessageHandler?this.customNewMessageHandler(r,e,this.channelListSetter,this.messageListSetter):this.handleNewMessage(r,e)});break;case"channel.hidden":this.ngZone.run(()=>{this.customChannelHiddenHandler?this.customChannelHiddenHandler(r,e,this.channelListSetter,this.messageListSetter):this.handleChannelHidden(r)});break;case"channel.deleted":this.ngZone.run(()=>{this.customChannelDeletedHandler?this.customChannelDeletedHandler(r,e,this.channelListSetter,this.messageListSetter):this.handleChannelDeleted(r)});break;case"channel.visible":this.ngZone.run(()=>{this.customChannelVisibleHandler?this.customChannelVisibleHandler(r,e,this.channelListSetter,this.messageListSetter):this.handleChannelVisible(r,e)});break;case"channel.updated":this.ngZone.run(()=>{this.customChannelUpdatedHandler?this.customChannelUpdatedHandler(r,e,this.channelListSetter,this.messageListSetter):this.handleChannelUpdate(r)});break;case"channel.truncated":this.ngZone.run(()=>{this.customChannelTruncatedHandler?this.customChannelTruncatedHandler(r,e,this.channelListSetter,this.messageListSetter):this.handleChannelTruncate(r)})}})}handleNewMessage(e,r){const i=this.channels.findIndex(s=>s.cid===r.cid);this.channels.splice(i,1),this.channelsSubject.next([r,...this.channels])}handleChannelHidden(e){this.removeFromChannelList(e.channel.cid)}handleChannelDeleted(e){this.removeFromChannelList(e.channel.cid)}handleChannelVisible(e,r){this.channels.find(i=>i.cid===e.cid)||this.ngZone.run(()=>this.channelsSubject.next([...this.channels,r]))}handleChannelUpdate(e){var r,i;const s=this.channels.findIndex(o=>o.cid===e.channel.cid);if(-1!==s&&(this.channels[s].data=e.channel,this.channelsSubject.next([...this.channels]),(null===(r=e.channel)||void 0===r?void 0:r.cid)===(null===(i=this.activeChannelSubject.getValue())||void 0===i?void 0:i.cid))){const o=this.activeChannelSubject.getValue();o.data=e.channel,this.activeChannelSubject.next(o)}}handleChannelTruncate(e){var r,i;const s=this.channels.findIndex(o=>o.cid===e.channel.cid);if(-1!==s&&(this.channels[s].state.messages=[],this.channelsSubject.next([...this.channels]),(null===(r=e.channel)||void 0===r?void 0:r.cid)===(null===(i=this.activeChannelSubject.getValue())||void 0===i?void 0:i.cid))){const o=this.activeChannelSubject.getValue();o.state.messages=[],this.activeChannelSubject.next(o),this.activeChannelMessagesSubject.next([])}}get channels(){return this.channelsSubject.getValue()||[]}get canSendReadEvents(){var e;const r=this.activeChannelSubject.getValue();return!!r&&-1!==(null===(e=r.data)||void 0===e?void 0:e.own_capabilities).indexOf("read-events")}}return t.\u0275fac=function(e){return new(e||t)(De(Hr),De(_t))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ly=t=>t.type.startsWith("image/")&&!t.type.endsWith(".photoshop"),uy=t=>"image"===t.type&&!t.title_link&&!t.og_scrape_url;let vd=(()=>{class t{constructor(e,r){this.channelService=e,this.notificationService=r,this.attachmentUploadInProgressCounterSubject=new fr(0),this.attachmentUploadsSubject=new fr([]),this.attachmentUploadInProgressCounter$=this.attachmentUploadInProgressCounterSubject.asObservable(),this.attachmentUploads$=this.attachmentUploadsSubject.asObservable()}resetAttachmentUploads(){this.attachmentUploadsSubject.next([])}filesSelected(e){return Le(this,void 0,void 0,function*(){if(!e)return;const r=[],i=[];Array.from(e).forEach(o=>{ly(o)?r.push(o):i.push(o)}),r.forEach(o=>this.createPreview(o));const s=[...r.map(o=>({file:o,state:"uploading",type:"image"})),...i.map(o=>({file:o,state:"uploading",type:"file"}))];this.attachmentUploadsSubject.next([...this.attachmentUploadsSubject.getValue(),...s]),yield this.uploadAttachments(s)})}retryAttachmentUpload(e){return Le(this,void 0,void 0,function*(){const r=this.attachmentUploadsSubject.getValue(),i=r.find(s=>s.file===e);!i||(i.state="uploading",this.attachmentUploadsSubject.next([...r]),yield this.uploadAttachments([i]))})}deleteAttachment(e){return Le(this,void 0,void 0,function*(){const r=this.attachmentUploadsSubject.getValue();if("success"===e.state)try{yield this.channelService.deleteAttachment(e),r.splice(r.indexOf(e),1)}catch(i){this.notificationService.addTemporaryNotification("streamChat.Error deleting attachment")}else r.splice(r.indexOf(e),1);this.attachmentUploadsSubject.next([...r])})}mapToAttachments(){return this.attachmentUploadsSubject.getValue().filter(r=>"success"===r.state).map(r=>{var i,s,o;const a={type:r.type};return"image"===r.type?(a.fallback=null===(i=r.file)||void 0===i?void 0:i.name,a.image_url=r.url):(a.asset_url=r.url,a.title=null===(s=r.file)||void 0===s?void 0:s.name,a.file_size=null===(o=r.file)||void 0===o?void 0:o.size),a})}createFromAttachments(e){const r=[];e.forEach(i=>{uy(i)?r.push({url:i.img_url||i.thumb_url||i.image_url,state:"success",type:"image",file:{name:i.fallback}}):"file"===i.type&&r.push({url:i.asset_url,state:"success",file:{name:i.title,size:i.file_size},type:"file"})}),r.length>0&&this.attachmentUploadsSubject.next([...this.attachmentUploadsSubject.getValue(),...r])}createPreview(e){const r=new FileReader;r.onload=i=>{var s;const o=this.attachmentUploadsSubject.getValue(),a=o.find(l=>l.file===e);!a||(a.previewUri=(null===(s=i.target)||void 0===s?void 0:s.result)||void 0,this.attachmentUploadsSubject.next([...o]))},r.readAsDataURL(e)}uploadAttachments(e){return Le(this,void 0,void 0,function*(){const r=this.attachmentUploadsSubject.getValue();this.attachmentUploadInProgressCounterSubject.next(this.attachmentUploadInProgressCounterSubject.getValue()+1),(yield this.channelService.uploadAttachments(e)).forEach(s=>{const o=r.find(a=>a.file===s.file);o?(o.state=s.state,o.url=s.url,"error"===o.state&&this.notificationService.addTemporaryNotification("image"===o.type?"streamChat.Error uploading image":"streamChat.Error uploading file")):s.url&&this.channelService.deleteAttachment(s)}),this.attachmentUploadInProgressCounterSubject.next(this.attachmentUploadInProgressCounterSubject.getValue()-1),this.attachmentUploadsSubject.next([...r])})}}return t.\u0275fac=function(e){return new(e||t)(De(Sn),De(ao))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Q2_streamChat={"1 reply":"1 reply","Attach files":"Attach files",Cancel:"Cancel","Channel Missing":"Channel Missing",Close:"Close","Close emoji picker":"Close emoji picker","Commands matching":"Commands matching","Connection failure, reconnecting now...":"Connection failure, reconnecting now...",Delete:"Delete",Delivered:"Delivered","Edit Message":"Edit Message","Edit message request failed":"Edit message request failed","Emoji matching":"Emoji matching","Empty message...":"Empty message...","Error adding flag":"Error adding flag","Error connecting to chat, refresh the page to try again.":"Error connecting to chat, refresh the page to try again.","Error deleting message":"Error deleting message","Error muting a user ...":"Error muting a user ...","Error pinning message":"Error pinning message","Error removing message pin":"Error removing message pin","Error unmuting a user ...":"Error unmuting a user ...","Error uploading file":"Error uploading file","Error uploading image":"Error uploading image","Error deleting attachment":"Error deleting attachment","Error \xb7 Unsent":"Error \xb7 Unsent","Error: {{ errorMessage }}":"Error: {{ errorMessage }}",Flag:"Flag","Message Failed":"Message Failed","Message Failed \xb7 Unauthorized":"Message Failed \xb7 Unauthorized","Message deleted":"Message deleted","Message has been successfully flagged":"Message has been successfully flagged","Message pinned":"Message pinned",Mute:"Mute",New:"New","New Messages!":"New Messages!","No results found":"No results found","Nothing yet...":"Nothing yet...","Only visible to you":"Only visible to you","Open emoji picker":"Open emoji picker","People matching":"People matching","Pick your emoji":"Pick your emoji",Pin:"Pin","Pinned by":"Pinned by",Reply:"Reply","Reply to Message":"Reply to Message",Search:"Search","Searching...":"Searching...",Send:"Send","Send message request failed":"Send message request failed","Sending...":"Sending...","Slow Mode ON":"Slow Mode ON","Start of a new thread":"Start of a new thread","This message was deleted...":"This message was deleted...",Thread:"Thread","Type your message":"Type your message",Unmute:"Unmute",Unpin:"Unpin","Wait until all attachments have uploaded":"Wait until all attachments have uploaded","You have no channels currently":"You have no channels currently","You've reached the maximum number of files":"You've reached the maximum number of files",live:"live","this content could not be displayed":"this content could not be displayed","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} and {{ moreCount }} more","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}, and {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} and {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} more","{{ memberCount }} members":"{{ memberCount }} members","{{ replyCount }} replies":"{{ replyCount }} replies","{{ user }} has been muted":"{{ user }} has been muted","{{ user }} has been unmuted":"{{ user }} has been unmuted","{{ watcherCount }} online":"{{ watcherCount }} online","\u{1f3d9} Attachment...":"\u{1f3d9} Attachment...","Connection error":"Connection error","Load more":"Load more",failed:"failed",retry:"retry",test:"success","Sending links is not allowed in this conversation":"Sending links is not allowed in this conversation","You can't send messages in this channel":"You can't send messages in this channel","Unsupported file type: {{type}}":"Unsupported file type: {{type}}"};let J2=(()=>{class t{constructor(e){this.translteService=e}setTranslation(e="en",r){this.translteService.defaultLang||(this.translteService.defaultLang=e),this.translteService.setTranslation(e,{streamChat:Object.assign(Object.assign({},Q2_streamChat),r)},!0)}}return t.\u0275fac=function(e){return new(e||t)(De(Ys))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lo=(()=>{class t{constructor(){this.size=32,this.isLoaded=!1,this.isError=!1}get initials(){var e;return((null===(e=this.name)||void 0===e?void 0:e.toString())||"").charAt(0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ut({type:t,selectors:[["stream-avatar"]],inputs:{name:"name",imageUrl:"imageUrl",size:"size"},decls:4,vars:11,consts:[[1,"str-chat__avatar","str-chat__avatar--circle",3,"title"],["data-testid","avatar-img",3,"class","src","alt","style","load","error",4,"ngIf","ngIfElse"],["fallback",""],["data-testid","avatar-img",3,"src","alt","load","error"],["data-testid","fallback-img",1,"str-chat__avatar-fallback"]],template:function(e,r){if(1&e&&(m(0,"div",0),O(1,Ak,1,11,"img",1),O(2,kk,2,1,"ng-template",null,2,ht),v()),2&e){const i=ot(3);_n(function(t,n,e,r,i,s,o,a){const l=Vt()+t,u=N(),c=vn(u,l,e,r,i,s);return Lt(u,l+4,o)||c?Yn(u,l+5,a?n.call(a,e,r,i,s,o):n(e,r,i,s,o)):Ms(u,l+5)}(5,xk,r.size+"px",r.size/2+"px",r.size+"px",r.size+"px",r.size+"px")),Pt("title",r.name),b(1),x("ngIf",r.imageUrl&&!r.isError)("ngIfElse",i)}},directives:[bn],styles:[""]}),t})(),Qi=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ut({type:t,selectors:[["stream-icon"]],inputs:{icon:"icon",size:"size"},decls:9,vars:9,consts:[["data-testid","action-icon","height","4","viewBox","0 0 11 4","width","11","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["height","16","width","16","xmlns","http://www.w3.org/2000/svg","data-testid","delivered-icon",4,"ngIf"],["height","12","viewBox","0 0 12 12","width","12","xmlns","http://www.w3.org/2000/svg","data-testid","reaction-icon",4,"ngIf"],["data-testid","connection-error","width","78px","height","78px","viewBox","0 0 78 78","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",4,"ngIf"],["data-testid","send","height","17","viewBox","0 0 18 17","width","18","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","file-upload","height","14","width","14","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","retry","width","22","height","20","viewBox","0 0 22 20","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","close","width","28","height","28","viewBox","0 0 28 28","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",4,"ngIf"],["data-testid","file","className","rfu-file-icon--small fa-file-fallback","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512",4,"ngIf"],["data-testid","action-icon","height","4","viewBox","0 0 11 4","width","11","xmlns","http://www.w3.org/2000/svg"],["d","M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z","fillRule","nonzero"],["height","16","width","16","xmlns","http://www.w3.org/2000/svg","data-testid","delivered-icon"],["d","M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm3.72 6.633a.955.955 0 1 0-1.352-1.352L6.986 8.663 5.633 7.31A.956.956 0 1 0 4.28 8.663l2.029 2.028a.956.956 0 0 0 1.353 0l4.058-4.058z","fill","#006CFF","fillRule","evenodd"],["height","12","viewBox","0 0 12 12","width","12","xmlns","http://www.w3.org/2000/svg","data-testid","reaction-icon"],["clipRule","evenodd","fillRule","evenodd"],["d","M6 1.2C3.3 1.2 1.2 3.3 1.2 6c0 2.7 2.1 4.8 4.8 4.8 2.7 0 4.8-2.1 4.8-4.8 0-2.7-2.1-4.8-4.8-4.8zM0 6c0-3.3 2.7-6 6-6s6 2.7 6 6-2.7 6-6 6-6-2.7-6-6z"],["d","M5.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM8.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM3.3 6.7c.3-.2.6-.1.8.1.3.4.8.9 1.5 1 .6.2 1.4.1 2.4-1 .2-.2.6-.3.8 0 .2.2.3.6 0 .8-1.1 1.3-2.4 1.7-3.5 1.5-1-.2-1.8-.9-2.2-1.5-.2-.3-.1-.7.2-.9z"],["data-testid","connection-error","width","78px","height","78px","viewBox","0 0 78 78","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Interactions","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","Connection-Error-_-Connectivity","transform","translate(-270.000000, -30.000000)","fill","#CF1F25"],["id","109-network-connection","transform","translate(270.000000, 30.000000)"],["d","M66.4609744,11.414231 C81.6225232,26.5757798 81.6225232,51.157545 66.4609744,66.3188467 C51.2994256,81.4803954 26.7176604,81.4803954 11.5563587,66.3188467 C-3.60519004,51.1572979 -3.60519004,26.5755327 11.5563587,11.414231 C26.7179075,-3.74731776 51.2996727,-3.74731776 66.4609744,11.414231 Z M54.7853215,45.8823776 L54.7853215,40.5882574 C54.7853215,39.613638 53.9952341,38.8235506 53.0206147,38.8235506 L44.9576695,38.8235506 L41.428256,42.3529641 L51.255555,42.3529641 L51.255555,45.8823776 L54.7853215,45.8823776 Z M40.6659027,43.1153174 L37.8988425,45.8823776 L40.6659027,45.8823776 L40.6659027,43.1153174 Z M51.1764962,56.4702653 L58.2353232,56.4702653 C59.2099355,56.4702653 60.00003,55.6801708 60.00003,54.7055585 L60.00003,51.176145 C60.00003,50.2015327 59.2099355,49.4114382 58.2353232,49.4114382 L51.1764962,49.4114382 C50.2018839,49.4114382 49.4117894,50.2015327 49.4117894,51.176145 L49.4117894,54.7055585 C49.4117894,55.6801708 50.2018839,56.4702653 51.1764962,56.4702653 Z M35.2941353,56.4702653 L42.3529624,56.4702653 C43.3275746,56.4702653 44.1176691,55.6801708 44.1176691,54.7055585 L44.1176691,51.176145 C44.1176691,50.2015327 43.3275746,49.4114382 42.3529624,49.4114382 L35.2941353,49.4114382 C34.319523,49.4114382 33.5294285,50.2015327 33.5294285,51.176145 L33.5294285,54.7055585 C33.5294285,55.6801708 34.319523,56.4702653 35.2941353,56.4702653 Z M56.6964989,19.0874231 C56.007381,18.3985134 54.8903216,18.3985134 54.2012036,19.087423 L45.882376,27.4062507 L45.882376,19.4117761 C45.882376,18.4371568 45.0922885,17.6470693 44.1176692,17.6470693 L33.5294286,17.6470693 C32.5548092,17.6470694 31.7647218,18.4371568 31.7647218,19.4117761 L31.7647218,30.0000167 C31.7647219,30.9746363 32.5548092,31.7647237 33.5294285,31.7647237 L41.5239031,31.7647237 L34.4650761,38.8235508 L24.7058947,38.8235508 C23.7312753,38.8235508 22.9411879,39.6136382 22.9411879,40.5882575 L22.9411879,45.8823778 L26.4706014,45.8823778 L26.4706014,42.3529643 L30.9356624,42.3529643 L23.8768354,49.4117914 L19.4117743,49.4117914 C18.4371549,49.4117914 17.6470675,50.2018788 17.6470675,51.1764981 L17.6470675,54.7059117 C17.6504049,54.9674302 17.7129076,55.2248042 17.8298886,55.4587302 L16.4456526,56.8429662 C15.7446193,57.5200453 15.7252005,58.6372282 16.4022825,59.3382615 C17.0793616,60.0392948 18.1965445,60.0587136 18.8975778,59.3816316 C18.9122847,59.3674273 18.9267436,59.3529684 18.940948,59.3382615 L56.6964963,21.5830662 C57.3856425,20.8939094 57.3856425,19.7765747 56.6964963,19.0874179 Z","id","Combined-Shape"],["data-testid","send","height","17","viewBox","0 0 18 17","width","18","xmlns","http://www.w3.org/2000/svg"],["translate",""],["d","M0 17.015l17.333-8.508L0 0v6.617l12.417 1.89L0 10.397z","fill","#006cff","fillRule","evenodd"],["data-testid","file-upload","height","14","width","14","xmlns","http://www.w3.org/2000/svg"],["d","M1.667.333h10.666c.737 0 1.334.597 1.334 1.334v10.666c0 .737-.597 1.334-1.334 1.334H1.667a1.333 1.333 0 0 1-1.334-1.334V1.667C.333.93.93.333 1.667.333zm2 1.334a1.667 1.667 0 1 0 0 3.333 1.667 1.667 0 0 0 0-3.333zm-2 9.333v1.333h10.666v-4l-2-2-4 4-2-2L1.667 11z","fillRule","nonzero"],["data-testid","retry","width","22","height","20","viewBox","0 0 22 20","xmlns","http://www.w3.org/2000/svg"],["d","M20 5.535V2a1 1 0 0 1 2 0v6a1 1 0 0 1-1 1h-6a1 1 0 0 1 0-2h3.638l-2.975-2.653a8 8 0 1 0 1.884 8.32 1 1 0 1 1 1.886.666A10 10 0 1 1 5.175 1.245c3.901-2.15 8.754-1.462 11.88 1.667L20 5.535z","fill","#FFF","fill-rule","nonzero"],["data-testid","close","width","28","height","28","viewBox","0 0 28 28","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["d","M465 5c5.53 0 10 4.47 10 10s-4.47 10-10 10-10-4.47-10-10 4.47-10 10-10zm3.59 5L465 13.59 461.41 10 460 11.41l3.59 3.59-3.59 3.59 1.41 1.41 3.59-3.59 3.59 3.59 1.41-1.41-3.59-3.59 3.59-3.59-1.41-1.41z","id","b"],["x","-30%","y","-30%","width","160%","height","160%","filterUnits","objectBoundingBox","id","a"],["in","SourceAlpha","result","shadowOffsetOuter1"],["stdDeviation","2","in","shadowOffsetOuter1","result","shadowBlurOuter1"],["values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0","in","shadowBlurOuter1"],["transform","translate(-451 -1)","fill-rule","nonzero","fill","none"],["fill","#000","filter","url(#a)",0,"xlink","href","#b"],["fill","#FFF","fill-rule","evenodd",0,"xlink","href","#b"],["data-testid","file","className","rfu-file-icon--small fa-file-fallback","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512"],["d","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z","fill","#414D54"]],template:function(e,r){1&e&&(O(0,Rk,2,0,"svg",0),O(1,Ok,2,0,"svg",1),O(2,Fk,4,0,"svg",2),O(3,Lk,9,0,"svg",3),O(4,Pk,4,0,"svg",4),O(5,Nk,4,0,"svg",5),O(6,Uk,2,0,"svg",6),O(7,jk,10,0,"svg",7),O(8,Bk,2,2,"svg",8)),2&e&&(x("ngIf","action-icon"===r.icon),b(1),x("ngIf","delivered-icon"===r.icon),b(1),x("ngIf","reaction-icon"===r.icon),b(1),x("ngIf","connection-error"===r.icon),b(1),x("ngIf","send"===r.icon),b(1),x("ngIf","file-upload"===r.icon),b(1),x("ngIf","retry"===r.icon),b(1),x("ngIf","close"===r.icon),b(1),x("ngIf","file"===r.icon))},directives:[bn,Zs],encapsulation:2}),t})(),_d=(()=>{class t{constructor(){this.size=15,this.color="#006CFF"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ut({type:t,selectors:[["stream-loading-indicator"]],inputs:{size:"size",color:"color"},decls:7,vars:6,consts:[[1,"str-chat__loading-indicator"],["viewBox","0 0 30 30","data-testid","loading-indicator","xmlns","http://www.w3.org/2000/svg"],["id","a","x1","50%","x2","50%","y1","0%","y2","100%"],["offset","0%","stop-color","#FFF","stop-opacity","0"],["data-testid","stop-color","offset","100%","stop-opacity","1",3,"ngStyle"],["d","M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z","fill","url(#a)","fillRule","evenodd"]],template:function(e,r){1&e&&(m(0,"div",0),xn(),m(1,"svg",1),m(2,"defs"),m(3,"linearGradient",2),le(4,"stop",3),le(5,"stop",4),v(),v(),le(6,"path",5),v(),v()),2&e&&(b(1),Ts("height",r.size)("width",r.size),b(4),x("ngStyle",jr(4,Vk,r.color)),Ts("stop-color",r.color))},directives:[Uc],encapsulation:2}),t})();const cy=new We("textareaInjectionToken");let dy=(()=>{class t{constructor(e){this.viewContainerRef=e,this.value="",this.valueChange=new Ke,this.send=new Ke,this.userMentions=new Ke,this.subscriptions=[],this.unpropagatedChanges=[]}ngOnChanges(e){if(this.unpropagatedChanges.push(e),!this.componentRef)return;e.componentRef&&(this.subscriptions.forEach(i=>i.unsubscribe()),this.componentRef&&(this.subscriptions.push(this.componentRef.instance.valueChange.subscribe(i=>this.valueChange.next(i))),this.subscriptions.push(this.componentRef.instance.send.subscribe(i=>this.send.next(i))),this.componentRef.instance.userMentions&&this.subscriptions.push(this.componentRef.instance.userMentions.subscribe(i=>this.userMentions.next(i))),this.componentRef.instance.areMentionsEnabled=this.areMentionsEnabled,this.componentRef.instance.mentionAutocompleteItemTemplate=this.mentionAutocompleteItemTemplate,this.componentRef.instance.mentionScope=this.mentionScope,this.componentRef.instance.value=this.value)),e.areMentionsEnabled&&(this.componentRef.instance.areMentionsEnabled=this.areMentionsEnabled),e.mentionAutocompleteItemTemplate&&(this.componentRef.instance.mentionAutocompleteItemTemplate=this.mentionAutocompleteItemTemplate),e.mentionScope&&(this.componentRef.instance.mentionScope=this.mentionScope),e.value&&(this.componentRef.instance.value=this.value);let r={};this.unpropagatedChanges.forEach(i=>r=Object.assign(Object.assign({},r),i)),this.componentRef.instance.ngOnChanges(r),this.unpropagatedChanges=[]}}return t.\u0275fac=function(e){return new(e||t)(Y(yn))},t.\u0275dir=jt({type:t,selectors:[["","streamTextarea",""]],inputs:{componentRef:"componentRef",areMentionsEnabled:"areMentionsEnabled",mentionAutocompleteItemTemplate:"mentionAutocompleteItemTemplate",mentionScope:"mentionScope",value:"value"},outputs:{valueChange:"valueChange",send:"send",userMentions:"userMentions"},features:[Kt]}),t})(),X2=(()=>{class t{constructor(){this.isFileUploadEnabled=!0,this.areMentionsEnabled=!0,this.isMultipleFileUploadEnabled=!0,this.mentionScope="channel"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),eR=(()=>{class t{constructor(e){this.attachmentService=e,this.attachmentUploads$=this.attachmentService.attachmentUploads$}retryAttachmentUpload(e){return Le(this,void 0,void 0,function*(){yield this.attachmentService.retryAttachmentUpload(e)})}deleteAttachment(e){return Le(this,void 0,void 0,function*(){yield this.attachmentService.deleteAttachment(e)})}trackByFile(e,r){return r.file}}return t.\u0275fac=function(e){return new(e||t)(Y(vd))},t.\u0275cmp=ut({type:t,selectors:[["stream-attachment-preview-list"]],decls:3,vars:4,consts:[[1,"rfu-image-previewer"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","rfu-image-previewer__image","data-testclass","attachment-image-preview",3,"rfu-image-previewer__image--loaded",4,"ngIf"],["class","rfu-file-previewer","data-testclass","attachment-file-preview",4,"ngIf"],["data-testclass","attachment-image-preview",1,"rfu-image-previewer__image"],["class","rfu-image-previewer__retry","data-testclass","upload-error",3,"click","keyup.enter",4,"ngIf"],[1,"rfu-thumbnail__wrapper",2,"width","100","height","100"],[1,"rfu-thumbnail__overlay"],["data-testclass","delete-attachment","role","button",1,"rfu-icon-button",3,"click","keyup.enter"],["icon","close"],["alt","attachmentUpload.file.name","class","rfu-thumbnail__image","data-testclass","attachment-image",3,"src",4,"ngIf"],["data-testclass","loading-indicator","color","rgba(255,255,255,0.7)",4,"ngIf"],["data-testclass","upload-error",1,"rfu-image-previewer__retry",3,"click","keyup.enter"],["icon","retry"],["alt","attachmentUpload.file.name","data-testclass","attachment-image",1,"rfu-thumbnail__image",3,"src"],["data-testclass","loading-indicator","color","rgba(255,255,255,0.7)"],["data-testclass","attachment-file-preview",1,"rfu-file-previewer"],[1,"rfu-file-previewer__file"],["icon","file"],["data-testclass","file-download-link","download","",3,"href","click","keyup.enter"],[4,"ngIf"],["data-testclass","file-delete",1,"rfu-file-previewer__close-button",3,"click","keyup.enter"],["class","rfu-file-previewer__loading-indicator",4,"ngIf"],["data-testclass","file-upload-retry","translate","",1,"rfu-file-previewer__failed",3,"click","keyup.enter"],["translate","",1,"rfu-file-previewer__retry",3,"click","keyup.enter"],[1,"rfu-file-previewer__loading-indicator"]],template:function(e,r){1&e&&(m(0,"div",0),O(1,Yk,3,2,"ng-container",1),$e(2,"async"),v()),2&e&&(b(1),x("ngForOf",Ge(2,2,r.attachmentUploads$))("ngForTrackBy",r.trackByFile))},directives:[dr,bn,Qi,_d,Zs],pipes:[$r],encapsulation:2}),t})(),yd=(()=>{class t{constructor(e,r,i,s,o,a,l,u){this.channelService=e,this.notificationService=r,this.attachmentService=i,this.configService=s,this.textareaType=o,this.componentFactoryResolver=a,this.cdRef=l,this.chatClient=u,this.messageUpdate=new Ke,this.textareaValue="",this.mentionedUsers=[],this.subscriptions=[],this.isViewInited=!1,this.subscriptions.push(this.attachmentService.attachmentUploadInProgressCounter$.subscribe(c=>{0===c&&this.hideNotification&&(this.hideNotification(),this.hideNotification=void 0)})),this.subscriptions.push(this.channelService.activeChannel$.subscribe(c=>{var d;this.textareaValue="",this.attachmentService.resetAttachmentUploads();const f=null===(d=null==c?void 0:c.data)||void 0===d?void 0:d.own_capabilities;f&&(this.isFileUploadAuthorized=-1!==f.indexOf("upload-file"),this.canSendLinks=-1!==f.indexOf("send-links"),this.canSendMessages=-1!==f.indexOf("send-message"),this.isViewInited&&(this.cdRef.detectChanges(),this.initTextarea()))})),this.subscriptions.push(this.chatClient.appSettings$.subscribe(c=>this.appSettings=c)),this.attachmentUploads$=this.attachmentService.attachmentUploads$,this.isFileUploadEnabled=this.configService.isFileUploadEnabled,this.acceptedFileTypes=this.configService.acceptedFileTypes,this.isMultipleFileUploadEnabled=this.configService.isMultipleFileUploadEnabled,this.areMentionsEnabled=this.configService.areMentionsEnabled,this.mentionAutocompleteItemTemplate=this.configService.mentionAutocompleteItemTemplate,this.mentionScope=this.configService.mentionScope}ngAfterViewInit(){this.isViewInited=!0,this.initTextarea()}ngOnChanges(e){e.message&&(this.attachmentService.resetAttachmentUploads(),this.isUpdate&&(this.attachmentService.createFromAttachments(this.message.attachments||[]),this.textareaValue=this.message.text||"")),e.isFileUploadEnabled&&(this.configService.isFileUploadEnabled=this.isFileUploadEnabled),e.acceptedFileTypes&&(this.configService.acceptedFileTypes=this.acceptedFileTypes),e.isMultipleFileUploadEnabled&&(this.configService.isMultipleFileUploadEnabled=this.isMultipleFileUploadEnabled),e.areMentionsEnabled&&(this.configService.areMentionsEnabled=this.areMentionsEnabled),e.mentionAutocompleteItemTemplate&&(this.configService.mentionAutocompleteItemTemplate=this.mentionAutocompleteItemTemplate),e.mentionScope&&(this.configService.mentionScope=this.mentionScope)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}messageSent(){return Le(this,void 0,void 0,function*(){let e;if(this.attachmentService.attachmentUploadInProgressCounter$.pipe(ro()).subscribe(s=>e=s),e>0)return void(this.hideNotification||(this.hideNotification=this.notificationService.addPermanentNotification("streamChat.Wait until all attachments have uploaded")));const r=this.attachmentService.mapToAttachments(),i=this.textareaValue;if(i||r&&0!==r.length){if(this.containsLinks&&!this.canSendLinks)return void this.notificationService.addTemporaryNotification("streamChat.Sending links is not allowed in this conversation");this.isUpdate||(this.textareaValue="");try{yield this.isUpdate?this.channelService.updateMessage(Object.assign(Object.assign({},this.message),{text:i,attachments:r})):this.channelService.sendMessage(i,r,this.mentionedUsers),this.messageUpdate.emit(),this.isUpdate||this.attachmentService.resetAttachmentUploads()}catch(s){this.isUpdate&&this.notificationService.addTemporaryNotification("streamChat.Edit message request failed")}}})}get containsLinks(){return/(?:(?:https?|ftp):\/\/)?[\w/\-?=%.]+\.[\w/\-&?=%.]+/.test(this.textareaValue)}get accept(){var e;return this.acceptedFileTypes?null===(e=this.acceptedFileTypes)||void 0===e?void 0:e.join(","):""}filesSelected(e){return Le(this,void 0,void 0,function*(){!(yield this.areAttachemntsValid(e))||(yield this.attachmentService.filesSelected(e),this.clearFileInput())})}clearFileInput(){this.fileInput.nativeElement.value=""}get isUpdate(){return!!this.message}initTextarea(){if(!this.canSendMessages||this.textareaRef||!this.textareaAnchor)return;const e=this.componentFactoryResolver.resolveComponentFactory(this.textareaType);this.textareaRef=this.textareaAnchor.viewContainerRef.createComponent(e),this.cdRef.detectChanges()}areAttachemntsValid(e){return Le(this,void 0,void 0,function*(){if(!e||this.acceptedFileTypes)return!0;this.appSettings||(yield this.chatClient.getAppSettings());let r=!0;return Array.from(e).forEach(i=>{var s,o,a,l,u,c,d,f,h,g,I,F,C,_,L,K,ce,we,Ct,zr,Wr,Gr,qr,Kr,Yr,Zr,Qr,Jr,bd,Dd,Ed,Sd,Md,Td,Id,Ad;let kd,xd,Rd,Od;ly(i)?(kd=!!(null===(a=null===(o=null===(s=this.appSettings)||void 0===s?void 0:s.image_upload_config)||void 0===o?void 0:o.blocked_file_extensions)||void 0===a?void 0:a.find(Gt=>i.name.endsWith(Gt))),xd=!!(null===(c=null===(u=null===(l=this.appSettings)||void 0===l?void 0:l.image_upload_config)||void 0===u?void 0:u.blocked_mime_types)||void 0===c?void 0:c.find(Gt=>i.type===Gt)),Rd=!!(null===(h=null===(f=null===(d=this.appSettings)||void 0===d?void 0:d.image_upload_config)||void 0===f?void 0:f.allowed_file_extensions)||void 0===h?void 0:h.length)&&!(null===(F=null===(I=null===(g=this.appSettings)||void 0===g?void 0:g.image_upload_config)||void 0===I?void 0:I.allowed_file_extensions)||void 0===F?void 0:F.find(Gt=>i.name.endsWith(Gt))),Od=!!(null===(L=null===(_=null===(C=this.appSettings)||void 0===C?void 0:C.image_upload_config)||void 0===_?void 0:_.allowed_mime_types)||void 0===L?void 0:L.length)&&!(null===(we=null===(ce=null===(K=this.appSettings)||void 0===K?void 0:K.image_upload_config)||void 0===ce?void 0:ce.allowed_mime_types)||void 0===we?void 0:we.find(Gt=>i.type===Gt))):(kd=!!(null===(Wr=null===(zr=null===(Ct=this.appSettings)||void 0===Ct?void 0:Ct.file_upload_config)||void 0===zr?void 0:zr.blocked_file_extensions)||void 0===Wr?void 0:Wr.find(Gt=>i.name.endsWith(Gt))),xd=!!(null===(Kr=null===(qr=null===(Gr=this.appSettings)||void 0===Gr?void 0:Gr.file_upload_config)||void 0===qr?void 0:qr.blocked_mime_types)||void 0===Kr?void 0:Kr.find(Gt=>i.type===Gt)),Rd=!!(null===(Qr=null===(Zr=null===(Yr=this.appSettings)||void 0===Yr?void 0:Yr.file_upload_config)||void 0===Zr?void 0:Zr.allowed_file_extensions)||void 0===Qr?void 0:Qr.length)&&!(null===(Dd=null===(bd=null===(Jr=this.appSettings)||void 0===Jr?void 0:Jr.file_upload_config)||void 0===bd?void 0:bd.allowed_file_extensions)||void 0===Dd?void 0:Dd.find(Gt=>i.name.endsWith(Gt))),Od=!!(null===(Md=null===(Sd=null===(Ed=this.appSettings)||void 0===Ed?void 0:Ed.file_upload_config)||void 0===Sd?void 0:Sd.allowed_mime_types)||void 0===Md?void 0:Md.length)&&!(null===(Ad=null===(Id=null===(Td=this.appSettings)||void 0===Td?void 0:Td.file_upload_config)||void 0===Id?void 0:Id.allowed_mime_types)||void 0===Ad?void 0:Ad.find(Gt=>i.type===Gt))),(kd||xd||Rd||Od)&&(this.notificationService.addTemporaryNotification("streamChat.Unsupported file type: {{type}}",void 0,void 0,{type:i.type}),r=!1)}),r})}}return t.\u0275fac=function(e){return new(e||t)(Y(Sn),Y(ao),Y(vd),Y(X2),Y(cy),Y(ar),Y(Wi),Y(Hr))},t.\u0275cmp=ut({type:t,selectors:[["stream-message-input"]],viewQuery:function(e,r){if(1&e&&(ln(Zk,5),ln(dy,5)),2&e){let i;an(i=un())&&(r.fileInput=i.first),an(i=un())&&(r.textareaAnchor=i.first)}},inputs:{isFileUploadEnabled:"isFileUploadEnabled",areMentionsEnabled:"areMentionsEnabled",mentionScope:"mentionScope",mentionAutocompleteItemTemplate:"mentionAutocompleteItemTemplate",acceptedFileTypes:"acceptedFileTypes",isMultipleFileUploadEnabled:"isMultipleFileUploadEnabled",message:"message"},outputs:{messageUpdate:"messageUpdate"},features:[Em([vd]),Kt],decls:11,vars:8,consts:[[1,"str-chat__input-flat"],[1,"str-chat__input-flat-wrapper"],[1,"str-chat__input-flat--textarea-wrapper"],[1,"rfu-image-previewer-angular-host"],[1,"rta","str-chat__textarea"],[4,"ngIf","ngIfElse"],["notAllowed",""],["class","str-chat__fileupload-wrapper","data-testid","file-upload-button",4,"ngIf"],["data-testid","send-button","class","str-chat__send-button",3,"click","keyup.enter",4,"ngIf"],["streamTextarea","",3,"value","componentRef","areMentionsEnabled","mentionAutocompleteItemTemplate","mentionScope","valueChange","send","userMentions"],["disabled","","rows","1",1,"rta__textarea","str-chat__textarea__textarea",3,"value"],["data-testid","file-upload-button",1,"str-chat__fileupload-wrapper"],[1,"str-chat__tooltip"],[1,"rfu-file-upload-button"],["type","file","data-testid","file-input",1,"rfu-file-input",3,"accept","multiple","change"],["fileInput",""],[1,"str-chat__input-flat-fileupload"],["icon","file-upload"],["data-testid","send-button",1,"str-chat__send-button",3,"click","keyup.enter"],["icon","send"]],template:function(e,r){if(1&e&&(m(0,"div",0),$e(1,"async"),m(2,"div",1),m(3,"div",2),le(4,"stream-attachment-preview-list",3),m(5,"div",4),O(6,Jk,1,5,void 0,5),O(7,Xk,2,3,"ng-template",null,6,ht),v(),O(9,ex,10,5,"div",7),v(),O(10,tx,2,0,"button",8),v(),v()),2&e){const i=ot(8);Nt("str-chat__input-flat-has-attachments",Ge(1,6,r.attachmentUploads$).length>0),b(6),x("ngIf",r.canSendMessages)("ngIfElse",i),b(3),x("ngIf",r.isFileUploadEnabled&&r.isFileUploadAuthorized&&r.canSendMessages),b(1),x("ngIf",r.canSendMessages)}},directives:[eR,bn,dy,Qi],pipes:[$r,Tr],encapsulation:2}),t})(),tR=(()=>{class t{constructor(){this.isOpen=!1,this.isOpenChange=new Ke,this.watchForEscPress=e=>{"Escape"===e.key&&this.close()},this.stopWatchForEscPress=()=>{window.removeEventListener("keyup",this.watchForEscPress)},this.watchForOutsideClicks=e=>{var r;(null===(r=this.content)||void 0===r?void 0:r.nativeElement.contains(e.target))||this.close()}}ngOnChanges(e){e.isOpen&&(this.isOpen?(window.addEventListener("keyup",this.watchForEscPress),setTimeout(()=>window.addEventListener("click",this.watchForOutsideClicks),0)):(this.stopWatchForOutsideClicks(),this.stopWatchForEscPress()))}close(){this.isOpen=!1,this.isOpenChange.emit(!1),this.stopWatchForOutsideClicks(),this.stopWatchForEscPress()}stopWatchForOutsideClicks(){window.removeEventListener("click",this.watchForOutsideClicks)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ut({type:t,selectors:[["stream-modal"]],viewQuery:function(e,r){if(1&e&&ln(nx,5),2&e){let i;an(i=un())&&(r.content=i.first)}},inputs:{isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},features:[Kt],ngContentSelectors:md,decls:7,vars:3,consts:[["data-testid","modal"],["data-testid","close","translate","",1,"str-chat__modal__close-button",3,"click","keyup.enter"],["icon","close"],[1,"str-chat__modal__inner"],["content",""]],template:function(e,r){1&e&&(ra(),m(0,"div",0),m(1,"div",1),Ee("click",function(){return r.close()})("keyup.enter",function(){return r.close()}),fe(2," streamChat.Close "),le(3,"stream-icon",2),v(),m(4,"div",3,4),ia(6),v(),v()),2&e&&Nr("str-chat__modal str-chat__modal--",r.isOpen?"open":"close","")},directives:[Zs,Qi],encapsulation:2}),t})(),nR=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ut({type:t,selectors:[["stream-notification"]],inputs:{type:"type"},ngContentSelectors:md,decls:2,vars:3,consts:[["data-testid","custom-notification"]],template:function(e,r){1&e&&(ra(),m(0,"div",0),ia(1),v()),2&e&&Nr("str-chat__custom-notification notification-",r.type,"")},encapsulation:2}),t})(),fy=(()=>{class t{constructor(e){this.notificationService=e,this.notifications$=this.notificationService.notifications$}trackByItem(e,r){return r}}return t.\u0275fac=function(e){return new(e||t)(Y(ao))},t.\u0275cmp=ut({type:t,selectors:[["stream-notification-list"]],decls:3,vars:4,consts:[[1,"str-chat__list-notifications"],[3,"type",4,"ngFor","ngForOf","ngForTrackBy"],[3,"type"],["data-testclass","notification-content"]],template:function(e,r){1&e&&(m(0,"div",0),O(1,rx,4,5,"stream-notification",1),$e(2,"async"),v()),2&e&&(b(1),x("ngForOf",Ge(2,2,r.notifications$))("ngForTrackBy",r.trackByItem))},directives:[dr,nR],pipes:[$r,Tr],encapsulation:2}),t})(),rR=(()=>{class t{constructor(e,r,i){this.chatClientService=e,this.notificationService=r,this.channelService=i,this.isOpen=!1,this.isMine=!1,this.enabledActions=[],this.displayedActionsCount=new Ke,this.isEditing=new Ke,this.isEditModalOpen=!1,this.modalClosed=()=>{this.isEditModalOpen=!1,this.isEditing.emit(!1)}}ngOnChanges(e){if(e.isMine||e.enabledActions){let r=0;this.isQuoteVisible&&r++,this.isEditVisible&&r++,this.isDeleteVisible&&r++,this.isMuteVisible&&r++,this.isFlagVisible&&r++,this.isPinVisible&&r++,this.displayedActionsCount.next(r)}}get isQuoteVisible(){return-1!==this.enabledActions.indexOf("quote")}get isEditVisible(){return-1!==this.enabledActions.indexOf("edit")&&this.isMine||-1!==this.enabledActions.indexOf("edit-any")}get isDeleteVisible(){return-1!==this.enabledActions.indexOf("delete")&&this.isMine||-1!==this.enabledActions.indexOf("delete-any")}get isMuteVisible(){return-1!==this.enabledActions.indexOf("mute")}get isFlagVisible(){return-1!==this.enabledActions.indexOf("flag")&&!this.isMine}get isPinVisible(){return-1!==this.enabledActions.indexOf("pin")}pinClicked(){alert("Feature not yet implemented")}flagClicked(){return Le(this,void 0,void 0,function*(){try{yield this.chatClientService.flagMessage(this.message.id),this.notificationService.addTemporaryNotification("streamChat.Message has been successfully flagged","success")}catch(e){this.notificationService.addTemporaryNotification("streamChat.Error adding flag")}})}muteClicked(){alert("Feature not yet implemented")}quoteClicked(){alert("Feature not yet implemented")}editClicked(){this.isEditing.emit(!0),this.isEditModalOpen=!0}sendClicked(){var e;null===(e=this.messageInput)||void 0===e||e.messageSent()}deleteClicked(){return Le(this,void 0,void 0,function*(){try{yield this.channelService.deleteMessage(this.message)}catch(e){this.notificationService.addTemporaryNotification("streamChat.Error deleting message")}})}}return t.\u0275fac=function(e){return new(e||t)(Y(Hr),Y(ao),Y(Sn))},t.\u0275cmp=ut({type:t,selectors:[["stream-message-actions-box"]],viewQuery:function(e,r){if(1&e&&ln(yd,5),2&e){let i;an(i=un())&&(r.messageInput=i.first)}},inputs:{messageInputTemplate:"messageInputTemplate",isOpen:"isOpen",isMine:"isMine",message:"message",enabledActions:"enabledActions"},outputs:{displayedActionsCount:"displayedActionsCount",isEditing:"isEditing"},features:[Kt],decls:10,vars:12,consts:[["data-testid","action-box",1,"str-chat__message-actions-box"],[1,"str-chat__message-actions-list"],["data-testid","quote-action",3,"click",4,"ngIf"],["data-testid","pin-action",3,"click",4,"ngIf"],["data-testid","flag-action",3,"click",4,"ngIf"],["data-testid","mute-action",3,"click",4,"ngIf"],["data-testid","edit-action",3,"click",4,"ngIf"],["data-testid","delete-action",3,"click",4,"ngIf"],[3,"isOpen","isOpenChange"],["class","str-chat__edit-message-form",4,"ngIf"],["data-testid","quote-action",3,"click"],[1,"str-chat__message-actions-list-item"],["data-testid","pin-action",3,"click"],["data-testid","flag-action",3,"click"],["data-testid","mute-action",3,"click"],["data-testid","edit-action",3,"click"],["data-testid","delete-action",3,"click"],[1,"str-chat__edit-message-form"],[4,"ngIf","ngIfElse"],["defaultInput",""],[1,"str-chat__message-team-form-footer"],["translate","","data-testid","cancel-button",3,"click"],["type","submit","translate","","data-testid","send-button",3,"click","keyup.enter"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"message","messageUpdate"]],template:function(e,r){1&e&&(m(0,"div",0),m(1,"ul",1),O(2,ix,4,3,"button",2),O(3,sx,4,3,"button",3),O(4,ox,4,3,"button",4),O(5,ax,4,3,"button",5),O(6,lx,4,3,"button",6),O(7,ux,4,3,"button",7),v(),v(),m(8,"stream-modal",8),Ee("isOpenChange",function(s){return r.isEditModalOpen=s,r.isEditModalOpen?"":r.modalClosed()}),O(9,px,12,2,"div",9),v()),2&e&&(Nt("str-chat__message-actions-box--open",r.isOpen)("str-chat__message-actions-box--mine",r.isMine),b(2),x("ngIf",r.isQuoteVisible),b(1),x("ngIf",r.isPinVisible),b(1),x("ngIf",r.isFlagVisible),b(1),x("ngIf",r.isMuteVisible),b(1),x("ngIf",r.isEditVisible),b(1),x("ngIf",r.isDeleteVisible),b(1),x("isOpen",r.isEditModalOpen),b(1),x("ngIf",r.isEditModalOpen))},directives:[bn,tR,fy,Zs,Vr,yd],pipes:[Tr],encapsulation:2}),t})(),iR=(()=>{class t{constructor(e){this.channelService=e,this.subscriptions=[],this.isError$=this.channelService.channels$.pipe(Ze(()=>!1),io(()=>Dn(!0)),Z_(!1)),this.isInitializing$=this.channelService.channels$.pipe(Ze(r=>!r),io(()=>Dn(!1)))}}return t.\u0275fac=function(e){return new(e||t)(Y(Sn))},t.\u0275cmp=ut({type:t,selectors:[["stream-channel"]],ngContentSelectors:md,decls:3,vars:5,consts:[["class","str-chat str-chat-channel messaging",4,"ngIf"],[1,"str-chat","str-chat-channel","messaging"],[1,"str-chat__container"],[1,"str-chat__main-panel"]],template:function(e,r){1&e&&(ra(),O(0,gx,4,0,"div",0),$e(1,"async"),$e(2,"async")),2&e&&x("ngIf",!1===Ge(1,1,r.isError$)&&!1===Ge(2,3,r.isInitializing$))},directives:[bn],pipes:[$r],encapsulation:2}),t})();const wd=()=>{const t=window.innerWidth;return t<768?{device:"mobile",width:t}:t<1024?{device:"tablet",width:t}:{device:"full",width:t}};let hy=(()=>{class t{constructor(){this.isOpenSubject=new fr(!1),this.isOpen$=this.isOpenSubject.asObservable().pipe(Q_()),this.isOpen$.pipe(cd(e=>e)).subscribe(()=>{"mobile"===wd().device&&this.watchForOutsideClicks()})}open(){this.isOpenSubject.next(!0)}close(){this.isOpenSubject.next(!1)}toggle(){this.isOpenSubject.getValue()?this.close():this.open()}setMenuElement(e){this.menuElement=e}channelSelected(){"mobile"===wd().device&&this.close()}watchForOutsideClicks(){if(!this.menuElement)return;const e=r=>{this.menuElement.contains(r.target)||(this.close(),window.removeEventListener("click",e))};window.addEventListener("click",e),this.isOpen$.pipe(cd(r=>!r),ro()).subscribe(()=>window.removeEventListener("click",e))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sR=(()=>{class t{constructor(e,r){this.channelService=e,this.channelListToggleService=r,this.channelService.activeChannel$.subscribe(i=>{var s,o;this.activeChannel=i;const a=null===(o=null===(s=this.activeChannel)||void 0===s?void 0:s.data)||void 0===o?void 0:o.own_capabilities;!a||(this.canReceiveConnectEvents=-1!==a.indexOf("connect-events"))})}toggleMenu(e){e.stopPropagation(),this.channelListToggleService.toggle()}get memberCountParam(){var e,r;return{memberCount:(null===(r=null===(e=this.activeChannel)||void 0===e?void 0:e.data)||void 0===r?void 0:r.member_count)||0}}get watcherCountParam(){var e,r;return{watcherCount:(null===(r=null===(e=this.activeChannel)||void 0===e?void 0:e.state)||void 0===r?void 0:r.watcher_count)||0}}}return t.\u0275fac=function(e){return new(e||t)(Y(Sn),Y(hy))},t.\u0275cmp=ut({type:t,selectors:[["stream-channel-header"]],decls:13,vars:11,consts:[[1,"str-chat__header-livestream"],[1,"str-chat__header-hamburger",3,"click","keyup.enter"],[1,"str-chat__header-hamburger--line"],[3,"imageUrl","name"],[1,"str-chat__header-livestream-left"],["data-testid","name",1,"str-chat__header-livestream-left--title"],["data-testid","info",1,"str-chat__header-livestream-left--members"]],template:function(e,r){1&e&&(m(0,"div",0),m(1,"div",1),Ee("click",function(s){return r.toggleMenu(s)})("keyup.enter",function(s){return r.toggleMenu(s)}),le(2,"span",2),le(3,"span",2),le(4,"span",2),v(),le(5,"stream-avatar",3),m(6,"div",4),m(7,"p",5),fe(8),v(),m(9,"p",6),fe(10),$e(11,"translate"),$e(12,"translate"),v(),v(),v()),2&e&&(b(5),Pt("imageUrl",null==r.activeChannel||null==r.activeChannel.data?null:r.activeChannel.data.image),Pt("name",null==r.activeChannel||null==r.activeChannel.data?null:r.activeChannel.data.name),b(3),Ve(" ",null==r.activeChannel||null==r.activeChannel.data?null:r.activeChannel.data.name," "),b(2),Gu(" ",pa(11,5,"streamChat.{{ memberCount }} members",r.memberCountParam)," ",r.canReceiveConnectEvents?pa(12,8,"streamChat.{{ watcherCount }} online",r.watcherCountParam):""," "))},directives:[lo],pipes:[Tr],encapsulation:2}),t})(),oR=(()=>{class t{constructor(e,r){this.channelService=e,this.ngZone=r,this.isActive=!1,this.isUnread=!1,this.latestMessage="Nothing yet...",this.subscriptions=[],this.canSendReadEvents=!0}ngOnInit(){var e,r,i,s;this.subscriptions.push(this.channelService.activeChannel$.subscribe(l=>{var u;return this.isActive=(null==l?void 0:l.id)===(null===(u=this.channel)||void 0===u?void 0:u.id)}));const o=null===(r=null===(e=this.channel)||void 0===e?void 0:e.state)||void 0===r?void 0:r.messages;o&&o.length>0&&this.setLatestMessage(o[o.length-1]),this.isUnread=!!this.channel.countUnread()&&this.canSendReadEvents;const a=(null===(s=null===(i=this.channel)||void 0===i?void 0:i.data)||void 0===s?void 0:s.own_capabilities)||[];this.canSendReadEvents=-1!==a.indexOf("read-events"),this.subscriptions.push(this.channel.on("message.new",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.updated",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.deleted",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("channel.truncated",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.read",()=>this.ngZone.run(()=>{this.isUnread=!!this.channel.countUnread()&&this.canSendReadEvents})))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}get avatarImage(){var e,r;return null===(r=null===(e=this.channel)||void 0===e?void 0:e.data)||void 0===r?void 0:r.image}get avatarName(){var e,r;return null===(r=null===(e=this.channel)||void 0===e?void 0:e.data)||void 0===r?void 0:r.name}get title(){var e,r;return null===(r=null===(e=this.channel)||void 0===e?void 0:e.data)||void 0===r?void 0:r.name}setAsActiveChannel(){this.channelService.setAsActiveChannel(this.channel)}handleMessageEvent(e){this.ngZone.run(()=>{var r,i,s;0!==(null===(r=this.channel)||void 0===r?void 0:r.state.messages.length)?!e.message||(null===(i=this.channel)||void 0===i?void 0:i.state.messages[(null===(s=this.channel)||void 0===s?void 0:s.state.messages.length)-1].id)!==e.message.id||(this.setLatestMessage(e.message),this.isUnread=!!this.channel.countUnread()&&this.canSendReadEvents):this.latestMessage="Nothing yet..."})}setLatestMessage(e){(null==e?void 0:e.deleted_at)?this.latestMessage="streamChat.Message deleted":(null==e?void 0:e.text)?this.latestMessage=e.text:(null==e?void 0:e.attachments)&&e.attachments.length&&(this.latestMessage="streamChat.\u{1f3d9} Attachment...")}}return t.\u0275fac=function(e){return new(e||t)(Y(Sn),Y(_t))},t.\u0275cmp=ut({type:t,selectors:[["stream-channel-preview"]],inputs:{channel:"channel"},decls:10,vars:11,consts:[["data-testid","channel-preview-container",1,"str-chat__channel-preview-messenger",3,"click"],[1,"str-chat__channel-preview-messenger--left"],[3,"imageUrl","name","size"],[1,"str-chat__channel-preview-messenger--right"],[1,"str-chat__channel-preview-messenger--name"],["data-testid","channel-preview-title"],["data-testid","latest-message",1,"str-chat__channel-preview-messenger--last-message"]],template:function(e,r){1&e&&(m(0,"button",0),Ee("click",function(){return r.setAsActiveChannel()}),m(1,"div",1),le(2,"stream-avatar",2),v(),m(3,"div",3),m(4,"div",4),m(5,"span",5),fe(6),v(),v(),m(7,"div",6),fe(8),$e(9,"translate"),v(),v(),v()),2&e&&(Nt("str-chat__channel-preview-messenger--active",r.isActive)("str-chat__channel-preview-messenger--unread",r.isUnread),b(2),Pt("imageUrl",r.avatarImage),Pt("name",r.avatarName),x("size",40),b(4),Qn(r.title),b(2),Ve(" ",Ge(9,9,r.latestMessage)," "))},directives:[lo],pipes:[Tr],encapsulation:2}),t})(),aR=(()=>{class t{constructor(e,r){this.channelService=e,this.channelListToggleService=r,this.isLoadingMoreChannels=!1,this.isOpen$=this.channelListToggleService.isOpen$,this.channels$=this.channelService.channels$,this.hasMoreChannels$=this.channelService.hasMoreChannels$,this.isError$=this.channels$.pipe(Ze(()=>!1),io(()=>Dn(!0)),Z_(!1)),this.isInitializing$=this.channels$.pipe(Ze(i=>!i),io(()=>Dn(!1)))}ngAfterViewInit(){this.channelListToggleService.setMenuElement(this.container.nativeElement)}loadMoreChannels(){return Le(this,void 0,void 0,function*(){this.isLoadingMoreChannels=!0,yield this.channelService.loadMoreChannels(),this.isLoadingMoreChannels=!1})}trackByChannelId(e,r){return r.cid}channelSelected(){this.channelListToggleService.channelSelected()}}return t.\u0275fac=function(e){return new(e||t)(Y(Sn),Y(hy))},t.\u0275cmp=ut({type:t,selectors:[["stream-channel-list"]],viewQuery:function(e,r){if(1&e&&ln(oy,5),2&e){let i;an(i=un())&&(r.container=i.first)}},inputs:{customChannelPreviewTemplate:"customChannelPreviewTemplate"},decls:14,vars:10,consts:[["data-testid","channel-list-container",1,"str-chat","str-chat-channel-list","messaging"],["container",""],["class","str-chat__channel-list-messenger",4,"ngIf","ngIfElse"],["statusIndicator",""],["chatDown",""],["loadingChannels",""],["loadingChannel",""],[1,"str-chat__channel-list-messenger"],[1,"str-chat__channel-list-messenger__main"],["data-testid","empty-channel-list-indicator",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","str-chat__load-more-button","data-testid","load-more",3,"click","keyup.enter",4,"ngIf"],["data-testid","empty-channel-list-indicator"],[4,"ngIf","ngIfElse"],["defaultTemplate",""],[3,"click","keyup.enter"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testclass","channel-preview",3,"channel","click","keyup.enter"],["data-testid","load-more",1,"str-chat__load-more-button",3,"click","keyup.enter"],["data-testid","load-more-button",1,"str-chat__load-more-button__button",3,"disabled"],["loadingIndicator",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["data-testid","chatdown-container",1,"str-chat__down"],[1,"str-chat__down-main"],["icon","connection-error"],["data-testid","loading-indicator",1,"str-chat__loading-channels"],[1,"str-chat__loading-channels-item"],[1,"str-chat__loading-channels-avatar"],[1,"str-chat__loading-channels-meta"],[1,"str-chat__loading-channels-username"],[1,"str-chat__loading-channels-status"]],template:function(e,r){if(1&e&&(m(0,"div",0,1),$e(2,"async"),O(3,Sx,8,10,"div",2),$e(4,"async"),$e(5,"async"),v(),O(6,kx,4,6,"ng-template",null,3,ht),O(8,Rx,10,7,"ng-template",null,4,ht),O(10,Px,4,3,"ng-template",null,5,ht),O(12,Nx,5,0,"ng-template",null,6,ht)),2&e){const i=ot(7);Nt("str-chat-channel-list--open",!0===Ge(2,4,r.isOpen$)),b(3),x("ngIf",!1===Ge(4,6,r.isError$)&&!1===Ge(5,8,r.isInitializing$))("ngIfElse",i)}},directives:[bn,dr,Vr,oR,_d,Qi],pipes:[$r,Tr],encapsulation:2}),t})();J_().extend(ek());const cR={like:"\u{1f44d}",angry:"\u{1f620}",love:"\u2764\ufe0f",haha:"\u{1f602}",wow:"\u{1f62e}",sad:"\u{1f61e}"};let dR=(()=>{class t{constructor(e,r){this.cdRef=e,this.channelService=r,this.messageReactionCounts={},this.isSelectorOpen=!1,this.isSelectorOpenChange=new Ke,this.latestReactions=[],this.ownReactions=[],this.eventHandler=i=>{var s;(null===(s=this.selectorContainer)||void 0===s?void 0:s.nativeElement.contains(i.target))||this.isSelectorOpenChange.emit(!1)}}ngOnChanges(e){e.isSelectorOpen&&(this.isSelectorOpen?setTimeout(()=>this.watchForOutsideClicks()):this.stopWatchForOutsideClicks())}ngAfterViewChecked(){this.tooltipText&&!this.tooltipPositions&&(this.setTooltipPosition(),this.cdRef.detectChanges())}get existingReactions(){return Object.keys(this.messageReactionCounts).filter(e=>this.messageReactionCounts[e]>0)}get reactionsCount(){return Object.values(this.messageReactionCounts).reduce((e,r)=>e+r,0)}get reactionOptions(){return["like","love","haha","wow","sad","angry"]}getLatestUserByReaction(e){var r;return null===(r=this.latestReactions.find(i=>i.type===e&&i.user))||void 0===r?void 0:r.user}getEmojiByReaction(e){return cR[e]}getUsersByReaction(e){return this.latestReactions.filter(r=>r.type===e).map(r=>{var i,s;return(null===(i=r.user)||void 0===i?void 0:i.name)||(null===(s=r.user)||void 0===s?void 0:s.id)}).filter(r=>!!r).join(", ")}showTooltip(e,r){this.currentTooltipTarget=e.target,this.tooltipText=this.getUsersByReaction(r)}hideTooltip(){this.tooltipText=void 0,this.currentTooltipTarget=void 0,this.tooltipPositions=void 0}trackByMessageReaction(e,r){return r}react(e){this.ownReactions.find(r=>r.type===e)?this.channelService.removeReaction(this.messageId,e):this.channelService.addReaction(this.messageId,e)}watchForOutsideClicks(){window.addEventListener("click",this.eventHandler)}stopWatchForOutsideClicks(){window.removeEventListener("click",this.eventHandler)}setTooltipPosition(){var e,r,i;const s=null===(e=this.selectorTooltip)||void 0===e?void 0:e.nativeElement.getBoundingClientRect(),o=null===(r=this.currentTooltipTarget)||void 0===r?void 0:r.getBoundingClientRect(),a=null===(i=this.selectorContainer)||void 0===i?void 0:i.nativeElement.getBoundingClientRect();if(!s||!o||!a)return;const l=s.width===a.width||s.x<a.x?0:o.left+o.width/2-a.left-s.width/2;this.tooltipPositions={tooltip:l,arrow:o.x-s.x+o.width/2-l}}}return t.\u0275fac=function(e){return new(e||t)(Y(Wi),Y(Sn))},t.\u0275cmp=ut({type:t,selectors:[["stream-message-reactions"]],viewQuery:function(e,r){if(1&e&&(ln(Ux,5),ln(jx,5)),2&e){let i;an(i=un())&&(r.selectorContainer=i.first),an(i=un())&&(r.selectorTooltip=i.first)}},inputs:{messageId:"messageId",messageReactionCounts:"messageReactionCounts",isSelectorOpen:"isSelectorOpen",latestReactions:"latestReactions",ownReactions:"ownReactions"},outputs:{isSelectorOpenChange:"isSelectorOpenChange"},features:[Kt],decls:2,vars:2,consts:[["class","str-chat__reaction-list","data-testid","reaction-list",3,"str-chat__reaction-list--reverse",4,"ngIf"],["class","str-chat__reaction-selector","data-testid","reaction-selector",4,"ngIf"],["data-testid","reaction-list",1,"str-chat__reaction-list"],["data-testclass","emoji",4,"ngFor","ngForOf","ngForTrackBy"],["data-testid","reactions-count",1,"str-chat__reaction-list--counter"],["data-testclass","emoji"],[1,"emoji"],["data-testid","reaction-selector",1,"str-chat__reaction-selector"],["selectorContainer",""],["data-testid","tooltip","class","str-chat__reaction-selector-tooltip",3,"ngStyle",4,"ngIf"],[1,"str-chat__message-reactions-list"],["class","str-chat__message-reactions-list-item","data-testclass","emoji-option",3,"click","keyup.enter",4,"ngFor","ngForOf","ngForTrackBy"],["data-testid","tooltip",1,"str-chat__reaction-selector-tooltip",3,"ngStyle"],["selectorTooltip",""],[1,"arrow",3,"ngStyle"],[1,"latest-user-username"],["data-testclass","emoji-option",1,"str-chat__message-reactions-list-item",3,"click","keyup.enter"],["class","latest-user",3,"click","keyup.enter","mouseenter","mouseleave",4,"ngIf"],[1,"emoji",2,"width","20px","height","20px","top","10px"],["class","str-chat__message-reactions-list-item__count",4,"ngIf"],[1,"latest-user",3,"click","keyup.enter","mouseenter","mouseleave"],[3,"imageUrl","name","size"],[1,"str-chat__message-reactions-list-item__count"]],template:function(e,r){1&e&&(O(0,Vx,6,5,"div",0),O(1,Kx,5,3,"div",1)),2&e&&(x("ngIf",r.existingReactions.length>0&&!r.isSelectorOpen),b(1),x("ngIf",r.isSelectorOpen))},directives:[bn,dr,Uc,lo],styles:[".emoji[_ngcontent-%COMP%] {position: relative; display: inline-block; }"]}),t})(),py=(()=>{class t{constructor(){this.imageLoad$=new te}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fR=(()=>{class t{constructor(e){this.imageLoadService=e,this.attachments=[],this.orderedAttachments=[]}ngOnChanges(){this.orderedAttachments=[...this.attachments.filter(e=>this.isImage(e)),...this.attachments.filter(e=>this.isFile(e)),...this.attachments.filter(e=>this.isCard(e))]}trackById(e){return e}isImage(e){return uy(e)}isFile(e){return"file"===e.type}isCard(e){return!e.type||"image"===e.type&&!this.isImage(e)}imageLoaded(){this.imageLoadService.imageLoad$.next()}hasFileSize(e){return e.file_size&&Number.isFinite(Number(e.file_size))}getFileSize(e){return nk()(e.file_size)}trimUrl(e){if(null!=e){const[r]=e.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/");return r}return null}}return t.\u0275fac=function(e){return new(e||t)(Y(py))},t.\u0275cmp=ut({type:t,selectors:[["stream-attachment-list"]],inputs:{attachments:"attachments"},features:[Kt],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["data-testclass","attachment-container"],["class","str-chat__message-attachment--img","data-testclass","image",3,"src","alt","load",4,"ngIf"],["class","\n        str-chat__message-attachment-file--item\n        str-chat-angular__message-attachment-file-single\n      ",4,"ngIf"],[3,"class",4,"ngIf"],["data-testclass","image",1,"str-chat__message-attachment--img",3,"src","alt","load"],[1,"str-chat__message-attachment-file--item","str-chat-angular__message-attachment-file-single"],["icon","file",3,"size"],[1,"str-chat__message-attachment-file--item-text"],["data-testclass","file-link","download","","target","_blank",3,"href"],["data-testclass","size",4,"ngIf"],["data-testclass","size"],["class","str-chat__message-attachment-card--header",4,"ngIf"],[1,"str-chat__message-attachment-card--content"],[1,"str-chat__message-attachment-card--flex"],["data-testclass","card-title","class","str-chat__message-attachment-card--title",4,"ngIf"],["class","str-chat__message-attachment-card--text","data-testclass","card-text",4,"ngIf"],["class","str-chat__message-attachment-card--url","data-testclass","url-link","noopener","","noreferrer","","target","_blank",3,"href",4,"ngIf"],[1,"str-chat__message-attachment-card--header"],["data-testclass","card-img",3,"alt","src"],["data-testclass","card-title",1,"str-chat__message-attachment-card--title"],["data-testclass","card-text",1,"str-chat__message-attachment-card--text"],["data-testclass","url-link","noopener","","noreferrer","","target","_blank",1,"str-chat__message-attachment-card--url",3,"href"]],template:function(e,r){1&e&&O(0,r2,5,10,"ng-container",0),2&e&&x("ngForOf",r.orderedAttachments)("ngForTrackBy",r.trackById)},directives:[dr,bn,Qi],encapsulation:2}),t})(),hR=(()=>{class t{constructor(e,r){this.chatClientService=e,this.channelService=r,this.enabledMessageActions=[],this.isActionBoxOpen=!1,this.isReactionSelectorOpen=!1,this.isPressedOnMobile=!1,this.visibleMessageActionsCount=0,this.messageTextParts=[],this.user=this.chatClientService.chatClient.user}ngOnChanges(e){var r,i;if(e.message){let s=(null===(r=this.message)||void 0===r?void 0:r.html)||(null===(i=this.message)||void 0===i?void 0:i.text);if(s)if(s.startsWith("<p>")&&(s=s.replace("<p>","")),s.endsWith("</p>\n")&&(s=s.replace("</p>\n","")),this.message.mentioned_users&&0!==this.message.mentioned_users.length){this.messageTextParts=[];let o=s;this.message.mentioned_users.forEach(a=>{const l=`@${a.name||a.id}`,u=o.substring(0,o.indexOf(l));this.messageTextParts.push({content:u,type:"text"}),this.messageTextParts.push({content:l,type:"mention",user:a}),o=o.replace(u+l,"")}),o&&this.messageTextParts.push({content:o,type:"text"})}else this.messageTextParts=[{content:s,type:"text"}];else this.messageTextParts=[]}}get isSentByCurrentUser(){var e,r,i;return(null===(r=null===(e=this.message)||void 0===e?void 0:e.user)||void 0===r?void 0:r.id)===(null===(i=this.user)||void 0===i?void 0:i.id)}get readByText(){return(t=>{let n="";const e=t.map(i=>i.name||i.id).slice(0,5),r=t.length-e.length;if(1===e.length)n=`${e[0]} `;else if(2===e.length)n=`${e[0]} and ${e[1]}`;else if(e.length>2)if(0===r){const i=e.splice(e.length-2,1)[0];n=`${e.join(", ")}, and ${i}`}else n=`${e.join(", ")} and ${r} more`;return n})(this.message.readBy)}get lastReadUser(){var e;return null===(e=this.message)||void 0===e?void 0:e.readBy.filter(r=>{var i;return r.id!==(null===(i=this.user)||void 0===i?void 0:i.id)})[0]}get isOnlyReadByMe(){return this.message&&0===this.message.readBy.length}get isReadByMultipleUsers(){return this.message&&this.message.readBy.length>1}get isMessageDeliveredAndRead(){return this.message&&this.message.readBy&&"received"===this.message.status&&this.message.readBy.length>0}get parsedDate(){var e;if(this.message&&(null===(e=this.message)||void 0===e?void 0:e.created_at))return(t=>J_()(t).calendar())(this.message.created_at)}get areOptionsVisible(){return!!this.message&&!(!this.message.type||"error"===this.message.type||"system"===this.message.type||"ephemeral"===this.message.type||"failed"===this.message.status||"sending"===this.message.status)}get hasAttachment(){var e;return!!(null===(e=this.message)||void 0===e?void 0:e.attachments)&&!!this.message.attachments.length}get hasReactions(){var e;return!!(null===(e=this.message)||void 0===e?void 0:e.reaction_counts)&&Object.keys(this.message.reaction_counts).length>0}resendMessage(){this.channelService.resendMessage(this.message)}textClicked(){if("mobile"!==wd().device)return void(this.isPressedOnMobile=!1);if(this.isPressedOnMobile)return;this.isPressedOnMobile=!0;const e=r=>{var i;(null===(i=this.container)||void 0===i?void 0:i.nativeElement.contains(r.target))||(this.isPressedOnMobile=!1,window.removeEventListener("click",e))};window.addEventListener("click",e)}}return t.\u0275fac=function(e){return new(e||t)(Y(Hr),Y(Sn))},t.\u0275cmp=ut({type:t,selectors:[["stream-message"]],viewQuery:function(e,r){if(1&e&&ln(oy,5),2&e){let i;an(i=un())&&(r.container=i.first)}},inputs:{messageInputTemplate:"messageInputTemplate",mentionTemplate:"mentionTemplate",message:"message",enabledMessageActions:"enabledMessageActions",areReactionsEnabled:"areReactionsEnabled",canReactToMessage:"canReactToMessage",isLastSentMessage:"isLastSentMessage",canReceiveReadEvents:"canReceiveReadEvents"},features:[Kt],decls:13,vars:17,consts:[["data-testid","message-container"],["container",""],[4,"ngIf","ngIfElse"],["sendingStatus",""],["readStatus",""],["deliveredStatus",""],["deletedMessage",""],["systemMessage",""],[4,"ngIf"],["data-testid","avatar",1,"str-chat-angular__avatar-host",3,"imageUrl","name"],[1,"str-chat__message-inner"],["class","str-chat__message-simple__actions","data-testid","message-options",4,"ngIf"],[3,"messageReactionCounts","latestReactions","isSelectorOpen","messageId","ownReactions","isSelectorOpenChange",4,"ngIf"],[3,"attachments",4,"ngIf"],["class","str-chat__message-text",4,"ngIf"],[1,"str-chat__message-data","str-chat__message-simple-data"],["data-testid","sender","class","str-chat__message-simple-name",4,"ngIf"],["data-testid","date",1,"str-chat__message-simple-timestamp"],["sentStatus",""],[4,"ngTemplateOutlet"],["data-testid","message-options",1,"str-chat__message-simple__actions"],["data-testid","message-actions-container",1,"str-chat__message-simple__actions__action","str-chat__message-simple__actions__action--options"],[3,"isOpen","isMine","enabledActions","message","messageInputTemplate","displayedActionsCount","isEditing"],["data-testid","action-icon","icon","action-icon",3,"keyup.enter","click",4,"ngIf"],["class","\n              str-chat__message-simple__actions__action\n              str-chat__message-simple__actions__action--reactions\n            ","data-testid","reaction-icon",3,"click","keyup.enter",4,"ngIf"],["data-testid","action-icon","icon","action-icon",3,"keyup.enter","click"],["data-testid","reaction-icon",1,"str-chat__message-simple__actions__action","str-chat__message-simple__actions__action--reactions",3,"click","keyup.enter"],["icon","reaction-icon"],[3,"messageReactionCounts","latestReactions","isSelectorOpen","messageId","ownReactions","isSelectorOpenChange"],[3,"attachments"],[1,"str-chat__message-text"],["data-testid","inner-message",1,"str-chat__message-text-inner","str-chat__message-simple-text-inner",3,"click","keyup.enter"],["data-testid","client-error-message","class","str-chat__simple-message--error-message",4,"ngIf"],["data-testid","error-message","class","str-chat__simple-message--error-message",4,"ngIf"],["data-testid","text",3,"click","keyup.enter"],[4,"ngFor","ngForOf"],["data-testid","client-error-message",1,"str-chat__simple-message--error-message"],["data-testid","error-message",1,"str-chat__simple-message--error-message"],[3,"innerHTML",4,"ngIf","ngIfElse"],["mention",""],[3,"innerHTML"],["defaultMention",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testid","sender",1,"str-chat__message-simple-name"],["data-testid","sending-indicator",1,"str-chat__message-simple-status"],[1,"str-chat__tooltip"],["data-testid","loading-indicator"],["data-testid","read-indicator",1,"str-chat__message-simple-status"],["data-testid","read-by-tooltip",1,"str-chat__tooltip"],["data-test-id","last-read-user-avatar",1,"str-chat-angular__avatar-host",3,"size","imageUrl","name"],["data-test-id","read-by-length","class","str-chat__message-simple-status-number",4,"ngIf"],["data-test-id","read-by-length",1,"str-chat__message-simple-status-number"],["data-testid","delivered-indicator",1,"str-chat__message-simple-status"],["data-testid","delivered-icon","icon","delivered-icon"],["data-testid","message-deleted-component"],["translate","",1,"str-chat__message--deleted-inner"],["data-testid","system-message",1,"str-chat__message--system"],[1,"str-chat__message--system__text"],[1,"str-chat__message--system__line"],[1,"str-chat__message--system__date"]],template:function(e,r){if(1&e&&(m(0,"div",0,1),O(2,I2,2,2,"ng-container",2),v(),O(3,A2,5,3,"ng-template",null,3,ht),O(5,x2,5,5,"ng-template",null,4,ht),O(7,R2,5,3,"ng-template",null,5,ht),O(9,O2,3,0,"ng-template",null,6,ht),O(11,F2,8,2,"ng-template",null,7,ht)),2&e){const i=ot(10);jg("str-chat__message-simple str-chat__message str-chat__message--",null==r.message?null:r.message.type," str-chat__message--",null==r.message?null:r.message.status," ",null!=r.message&&r.message.text?"str-chat__message--has-text":"has-no-text",""),Nt("str-chat__message--me",r.isSentByCurrentUser)("str-chat__message-simple--me",r.isSentByCurrentUser)("mobile-press",r.isPressedOnMobile)("str-chat__message--has-attachment",r.hasAttachment)("str-chat__message--with-reactions",r.areReactionsEnabled&&r.hasReactions),b(2),x("ngIf",!(null!=r.message&&r.message.deleted_at))("ngIfElse",i)}},directives:[bn,lo,Vr,rR,Qi,dR,fR,dr,_d,Zs],pipes:[Tr],encapsulation:2}),t})(),pR=(()=>{class t{constructor(){}transliterate(e){return function(t,n){if("string"!=typeof t)throw new TypeError(`Expected a string, got \`${typeof t}\``);n=hd({customReplacements:[]},n);const e=new Map([...ok,...n.customReplacements]);return t=((r,i)=>{for(const[s,o]of i)r=r.replace(new RegExp(sk(s),"g"),o);return r})(t=t.normalize(),e),rk(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gR=(()=>{class t{constructor(e,r,i){this.channelService=e,this.chatClientService=r,this.transliterationService=i,this.class="str-chat__textarea",this.value="",this.areMentionsEnabled=!0,this.mentionScope="channel",this.valueChange=new Ke,this.send=new Ke,this.userMentions=new Ke,this.labelKey="autocompleteLabel",this.mentionTriggerChar="@",this.autocompleteConfig={mentions:[]},this.subscriptions=[],this.mentionedUsers=[],this.userMentionConfig={triggerChar:this.mentionTriggerChar,dropUp:!0,labelKey:this.labelKey,returnTrigger:!0,mentionFilter:(s,o)=>this.filter(s,o),mentionSelect:(s,o)=>this.itemSelectedFromAutocompleteList(s,o)},this.searchTerm$=new fr(""),this.searchTerm$.pipe(function(t,n=VA){return ke((e,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function l(){const u=o+t,c=n.now();if(c<u)return i=this.schedule(void 0,u-c),void r.add(i);a()}e.subscribe(new Be(r,u=>{s=u,o=n.now(),i||(i=n.schedule(l,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(300),Q_()).subscribe(s=>{s.startsWith(this.mentionTriggerChar)&&this.updateMentionOptions(s)}),this.subscriptions.push(this.channelService.activeChannel$.subscribe(()=>{this.mentionedUsers=[],this.userMentions.next([...this.mentionedUsers]),this.updateMentionOptions(this.searchTerm$.getValue())}))}ngOnChanges(e){e.areMentionsEnabled&&(this.areMentionsEnabled?(this.autocompleteConfig.mentions=[this.userMentionConfig],this.autocompleteConfig=Object.assign({},this.autocompleteConfig)):(this.autocompleteConfig.mentions=[],this.autocompleteConfig=Object.assign({},this.autocompleteConfig))),e.mentionScope&&this.updateMentionOptions(this.searchTerm$.getValue())}filter(e,r){return r.filter(i=>this.transliterate(i.autocompleteLabel.toLowerCase()).includes(this.transliterate(e.toLowerCase())))}itemSelectedFromAutocompleteList(e,r=""){return r===this.mentionTriggerChar&&(this.mentionedUsers.push(e.user?e.user:e),this.userMentions.next([...this.mentionedUsers])),r+e.autocompleteLabel}autcompleteSearchTermChanged(e){e===this.mentionTriggerChar?this.updateMentionOptions():this.searchTerm$.next(e)}inputChanged(){this.valueChange.emit(this.messageInput.nativeElement.value)}inputLeft(){this.updateMentionedUsersFromText()}sent(e){e.preventDefault(),this.updateMentionedUsersFromText(),this.send.next()}transliterate(e){return this.transliterationService?this.transliterationService.transliterate(e):e}updateMentionOptions(e){return Le(this,void 0,void 0,function*(){if(!this.areMentionsEnabled)return;e=null==e?void 0:e.replace(this.mentionTriggerChar,"");const i=yield("application"===this.mentionScope?o=>this.chatClientService.autocompleteUsers(o):o=>this.channelService.autocompleteMembers(o))(e||""),s=this.filter(e||"",i.map(o=>{const a=o.user?o.user:o;return Object.assign(Object.assign({},o),{autocompleteLabel:a.name||a.id,type:"mention"})}));this.userMentionConfig.items=s,this.autocompleteConfig.mentions=[this.userMentionConfig],this.autocompleteConfig=Object.assign({},this.autocompleteConfig)})}updateMentionedUsersFromText(){const e=[];this.mentionedUsers.forEach(r=>{this.value.includes(`${this.mentionTriggerChar}${r.name||r.id}`)&&e.push(r)}),e.length!==this.mentionedUsers.length&&(this.userMentions.next([...e]),this.mentionedUsers=e)}}return t.\u0275fac=function(e){return new(e||t)(Y(Sn),Y(Hr),Y(pR))},t.\u0275cmp=ut({type:t,selectors:[["stream-autocomplete-textarea"]],viewQuery:function(e,r){if(1&e&&ln(L2,5),2&e){let i;an(i=un())&&(r.messageInput=i.first)}},hostVars:2,hostBindings:function(e,r){2&e&&zu(r.class)},inputs:{value:"value",areMentionsEnabled:"areMentionsEnabled",mentionAutocompleteItemTemplate:"mentionAutocompleteItemTemplate",mentionScope:"mentionScope"},outputs:{valueChange:"valueChange",send:"send",userMentions:"userMentions"},features:[Kt],decls:7,vars:6,consts:[["autofocus","","data-testid","textarea","rows","1",1,"rta__textarea","str-chat__textarea__textarea",3,"value","placeholder","mentionConfig","mentionListTemplate","input","keydown.enter","searchTerm","blur"],["input",""],["autocompleteItem",""],["defaultMentionTemplate",""],[1,"rta","rta__item","str-chat__emojisearch__item",3,"ngSwitch"],["class","rta__entity",4,"ngSwitchCase"],[1,"rta__entity"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"str-chat__user-item"],["data-testclass","avatar",1,"str-chat__avatar","str-chat__avatar--circle",2,"height","20px",3,"size","imageUrl","name"],["data-testclass","username",1,"str-chat__user-item--name"]],template:function(e,r){if(1&e&&(m(0,"textarea",0,1),Ee("input",function(){return r.inputChanged()})("keydown.enter",function(s){return r.sent(s)})("searchTerm",function(s){return r.autcompleteSearchTermChanged(s)})("blur",function(){return r.inputLeft()}),$e(2,"translate"),v(),O(3,j2,2,2,"ng-template",null,2,ht),O(5,B2,4,4,"ng-template",null,3,ht)),2&e){const i=ot(4);Pt("placeholder",Ge(2,4,"streamChat.Type your message")),x("value",r.value||"")("mentionConfig",r.autocompleteConfig)("mentionListTemplate",i)}},directives:[Mk,xa,Yv,Vr,lo],pipes:[Tr],encapsulation:2}),t})();const gy=(t,n)=>t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate();let vR=(()=>{class t{constructor(e,r,i){this.channelService=e,this.chatClientService=r,this.imageLoadService=i,this.areReactionsEnabled=!0,this.enabledMessageActionsInput=["flag","edit","edit-any","delete","delete-any"],this.enabledMessageActions=[],this.class="str-chat-angular__main-panel-inner str-chat-angular__message-list-host",this.unreadMessageCount=0,this.groupStyles=[],this.authorizedMessageActions=["flag"],this.isUserScrolledUpThreshold=300,this.channelService.activeChannel$.subscribe(s=>{var o;this.latestMessageDate=void 0,this.hasNewMessages=!0,this.isUserScrolledUp=!1,this.containerHeight=void 0,this.olderMassagesLoaded=!1,this.oldestMessageDate=void 0,this.unreadMessageCount=0,this.isNewMessageSentByUser=void 0;const a=null===(o=null==s?void 0:s.data)||void 0===o?void 0:o.own_capabilities;a&&(this.canReactToMessage=-1!==a.indexOf("send-reaction"),this.canReceiveReadEvents=-1!==a.indexOf("read-events"),this.authorizedMessageActions=[],-1!==a.indexOf("flag-message")&&this.authorizedMessageActions.push("flag"),-1!==a.indexOf("update-own-message")&&this.authorizedMessageActions.push("edit"),-1!==a.indexOf("update-any-message")&&(this.authorizedMessageActions.push("edit"),this.authorizedMessageActions.push("edit-any")),-1!==a.indexOf("delete-own-message")&&this.authorizedMessageActions.push("delete"),-1!==a.indexOf("delete-any-message")&&(this.authorizedMessageActions.push("delete"),this.authorizedMessageActions.push("delete-any")),this.setEnabledActions())}),this.messages$=this.channelService.activeChannelMessages$.pipe(dd(s=>{var o,a,l,u,c;if(0===s.length)return;const d=s[s.length-1].created_at;(!this.latestMessageDate||(null===(o=this.latestMessageDate)||void 0===o?void 0:o.getTime())<d.getTime())&&(this.latestMessageDate=d,this.hasNewMessages=!0,this.isNewMessageSentByUser=(null===(a=s[s.length-1].user)||void 0===a?void 0:a.id)===(null===(u=null===(l=this.chatClientService.chatClient)||void 0===l?void 0:l.user)||void 0===u?void 0:u.id),this.isUserScrolledUp&&this.unreadMessageCount++);const f=s[0].created_at;this.oldestMessageDate?(null===(c=this.oldestMessageDate)||void 0===c?void 0:c.getTime())>f.getTime()&&(this.oldestMessageDate=f,this.olderMassagesLoaded=!0):this.oldestMessageDate=f}),dd(s=>{this.groupStyles=s.map((o,a)=>((t,n,e,r=!1)=>{var i,s,o,a,l,u;if(r||t.attachments&&0!==t.attachments.length)return"single";const c=!n||!gy(n.created_at,t.created_at)||"system"===n.type||n.attachments&&0!==(null===(i=n.attachments)||void 0===i?void 0:i.length)||(null===(s=t.user)||void 0===s?void 0:s.id)!==(null===(o=n.user)||void 0===o?void 0:o.id)||"error"===n.type||n.deleted_at,d=!e||!gy(t.created_at,e.created_at)||"system"===e.type||e.attachments&&0!==(null===(a=e.attachments)||void 0===a?void 0:a.length)||(null===(l=t.user)||void 0===l?void 0:l.id)!==(null===(u=e.user)||void 0===u?void 0:u.id)||"error"===e.type||e.deleted_at;return c||d?d?c||t.deleted_at||"error"===t.type?"single":"bottom":c?"top":"":t.deleted_at||"error"===t.type?"single":"middle"})(o,s[a-1],s[a+1]))}),dd(s=>{var o;return this.lastSentMessageId=null===(o=[...s].reverse().find(a=>{var l,u,c;return(null===(l=a.user)||void 0===l?void 0:l.id)===(null===(c=null===(u=this.chatClientService.chatClient)||void 0===u?void 0:u.user)||void 0===c?void 0:c.id)&&"sending"!==a.status}))||void 0===o?void 0:o.id})),this.imageLoadService.imageLoad$.subscribe(()=>{this.isUserScrolledUp||(this.scrollToBottom(),setTimeout(()=>{this.scrollToBottom()},300))})}ngOnChanges(e){e.enabledMessageActionsInput&&this.setEnabledActions()}ngAfterViewChecked(){this.hasNewMessages?((!this.isUserScrolledUp||this.isNewMessageSentByUser)&&(this.scrollToBottom(),setTimeout(()=>{this.scrollToBottom()},300)),this.hasNewMessages=!1,this.containerHeight=this.scrollContainer.nativeElement.scrollHeight):this.olderMassagesLoaded&&(this.preserveScrollbarPosition(),this.containerHeight=this.scrollContainer.nativeElement.scrollHeight,this.olderMassagesLoaded=!1)}trackByMessageId(e,r){return r.id}scrollToBottom(){this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight}scrolled(){this.isUserScrolledUp=this.scrollContainer.nativeElement.scrollHeight-(this.scrollContainer.nativeElement.scrollTop+this.scrollContainer.nativeElement.clientHeight)>this.isUserScrolledUpThreshold,this.isUserScrolledUp||(this.unreadMessageCount=0),0===this.scrollContainer.nativeElement.scrollTop&&(this.containerHeight=this.scrollContainer.nativeElement.scrollHeight,this.channelService.loadMoreMessages())}preserveScrollbarPosition(){this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight-this.containerHeight}setEnabledActions(){this.enabledMessageActions=[],this.enabledMessageActionsInput&&this.enabledMessageActionsInput.forEach(e=>{-1!==this.authorizedMessageActions.indexOf(e)&&this.enabledMessageActions.push(e)})}}return t.\u0275fac=function(e){return new(e||t)(Y(Sn),Y(Hr),Y(py))},t.\u0275cmp=ut({type:t,selectors:[["stream-message-list"]],viewQuery:function(e,r){if(1&e&&ln(V2,5),2&e){let i;an(i=un())&&(r.scrollContainer=i.first)}},hostVars:2,hostBindings:function(e,r){2&e&&zu(r.class)},inputs:{messageTemplate:"messageTemplate",messageInputTemplate:"messageInputTemplate",mentionTemplate:"mentionTemplate",areReactionsEnabled:"areReactionsEnabled",enabledMessageActionsInput:["enabledMessageActions","enabledMessageActionsInput"]},features:[Kt],decls:8,vars:5,consts:[["data-testid","scroll-container",1,"str-chat__list",3,"scroll"],["scrollContainer",""],[1,"str-chat__reverse-infinite-scroll"],[1,"str-chat__ul"],["data-testclass","message",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],[1,"str-chat__list-notifications"],["data-testid","scroll-to-bottom","class","\n      str-chat__message-notification\n      str-chat__message-notification-right\n      str-chat__message-notification-scroll-down\n    ",3,"keyup.enter","click",4,"ngIf"],["data-testclass","message"],[4,"ngIf","ngIfElse"],["defaultMessageTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"message","areReactionsEnabled","canReactToMessage","isLastSentMessage","enabledMessageActions","canReceiveReadEvents","messageInputTemplate","mentionTemplate"],["data-testid","scroll-to-bottom",1,"str-chat__message-notification","str-chat__message-notification-right","str-chat__message-notification-scroll-down",3,"keyup.enter","click"],["class","\n        str-chat__message-notification\n        str-chat__message-notification-scroll-down-unread-count\n      ",4,"ngIf"],[1,"str-chat__message-notification","str-chat__message-notification-scroll-down-unread-count"]],template:function(e,r){1&e&&(m(0,"div",0,1),Ee("scroll",function(){return r.scrolled()}),m(2,"div",2),m(3,"ul",3),O(4,G2,4,5,"li",4),$e(5,"async"),v(),v(),v(),m(6,"div",5),O(7,K2,2,1,"button",6),v()),2&e&&(b(4),x("ngForOf",Ge(5,3,r.messages$))("ngForTrackBy",r.trackByMessageId),b(3),x("ngIf",r.isUserScrolledUp))},directives:[dr,bn,Vr,hR],pipes:[$r],encapsulation:2}),t})(),Cd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$n({type:t}),t.\u0275inj=Mn({imports:[[zs,Ba]]}),t})(),_R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$n({type:t}),t.\u0275inj=Mn({imports:[[zs,Ba,Cd],Cd]}),t})(),yR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$n({type:t}),t.\u0275inj=Mn({providers:[{provide:cy,useValue:gR}],imports:[[zs,Ba,Tk,Cd]]}),t})(),wR=(()=>{class t{constructor(e,r,i){this.chatService=e,this.channelService=r,this.streamI18nService=i,this.chatService.init("dz5f4d5kzrue","delicate-tree-7","eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiZGVsaWNhdGUtdHJlZS03IiwiZXhwIjoxNjQwODY4NjEwfQ.Fyf6cN0z_qnjmqDcyXIEWUwSAUlfvWf2yvgZZGLjqyE"),this.streamI18nService.setTranslation()}ngOnInit(){var e=this;return P(function*(){yield e.chatService.chatClient.channel("messaging","talking-about-angular",{image:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/2048px-Angular_full_color_logo.svg.png",name:"Talking about Angular"}).create(),e.channelService.init({type:"messaging",id:{$eq:"talking-about-angular"}})})()}}return t.\u0275fac=function(e){return new(e||t)(Y(Hr),Y(Sn),Y(J2))},t.\u0275cmp=ut({type:t,selectors:[["app-root"]],decls:6,vars:0,template:function(e,r){1&e&&(le(0,"stream-channel-list"),m(1,"stream-channel"),le(2,"stream-channel-header"),le(3,"stream-message-list"),le(4,"stream-notification-list"),le(5,"stream-message-input"),v())},directives:[aR,iR,sR,vR,fy,yd],styles:[""]}),t})(),CR=(()=>{class t{constructor(e){this.injector=e}ngDoBootstrap(){const e=function(t,n){const e=function(t,n){return n.get(ar).resolveComponentFactory(t).inputs}(t,n.injector),r=n.strategyFactory||new TI(t,n.injector),i=function(t){const n={};return t.forEach(({propName:e,templateName:r})=>{n[function(t){return t.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}(r)]=e}),n}(e);class s extends AI{constructor(a){super(),this.injector=a}get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=r.create(this.injector||n.injector);e.forEach(({propName:l})=>{if(!this.hasOwnProperty(l))return;const u=this[l];delete this[l],a.setInputValue(l,u)})}return this._ngElementStrategy}attributeChangedCallback(a,l,u,c){this.ngElementStrategy.setInputValue(i[a],u)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const l=function(t,n,e){if("function"!=typeof CustomEvent){const s=t.createEvent("CustomEvent");return s.initCustomEvent(n,!1,!1,e),s}return new CustomEvent(n,{bubbles:!1,cancelable:!1,detail:e})}(this.ownerDocument,a.name,a.value);this.dispatchEvent(l)})}}return s.observedAttributes=Object.keys(i),e.forEach(({propName:o})=>{Object.defineProperty(s.prototype,o,{get(){return this.ngElementStrategy.getInputValue(o)},set(a){this.ngElementStrategy.setInputValue(o,a)},configurable:!0,enumerable:!0})}),s}(wR,{injector:this.injector});customElements.define("chat-component",e)}}return t.\u0275fac=function(e){return new(e||t)(De(Yt))},t.\u0275mod=$n({type:t}),t.\u0275inj=Mn({providers:[],imports:[[GT,Ba.forRoot(),yR,_R]]}),t})();Ev=!1,zT().bootstrapModule(CR).catch(t=>console.error(t))},14:(Z,de,E)=>{Z.exports=E(114)},729:(Z,de,E)=>{"use strict";var D=E(701),V=E(858),j=E(738),M=E(625),T=E(215),W=E(99),R=E(100),B=E(593);Z.exports=function(y){return new Promise(function(he,Oe){var $=y.data,U=y.headers,ge=y.responseType;D.isFormData($)&&delete U["Content-Type"];var Q=new XMLHttpRequest;if(y.auth){var xe=y.auth.username||"",Re=y.auth.password?unescape(encodeURIComponent(y.auth.password)):"";U.Authorization="Basic "+btoa(xe+":"+Re)}var Pe=T(y.baseURL,y.url);function Ne(){if(Q){var _e="getAllResponseHeaders"in Q?W(Q.getAllResponseHeaders()):null;V(he,Oe,{data:ge&&"text"!==ge&&"json"!==ge?Q.response:Q.responseText,status:Q.status,statusText:Q.statusText,headers:_e,config:y,request:Q}),Q=null}}if(Q.open(y.method.toUpperCase(),M(Pe,y.params,y.paramsSerializer),!0),Q.timeout=y.timeout,"onloadend"in Q?Q.onloadend=Ne:Q.onreadystatechange=function(){!Q||4!==Q.readyState||0===Q.status&&(!Q.responseURL||0!==Q.responseURL.indexOf("file:"))||setTimeout(Ne)},Q.onabort=function(){!Q||(Oe(B("Request aborted",y,"ECONNABORTED",Q)),Q=null)},Q.onerror=function(){Oe(B("Network Error",y,null,Q)),Q=null},Q.ontimeout=function(){var it="timeout of "+y.timeout+"ms exceeded";y.timeoutErrorMessage&&(it=y.timeoutErrorMessage),Oe(B(it,y,y.transitional&&y.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Q)),Q=null},D.isStandardBrowserEnv()){var ee=(y.withCredentials||R(Pe))&&y.xsrfCookieName?j.read(y.xsrfCookieName):void 0;ee&&(U[y.xsrfHeaderName]=ee)}"setRequestHeader"in Q&&D.forEach(U,function(it,z){void 0===$&&"content-type"===z.toLowerCase()?delete U[z]:Q.setRequestHeader(z,it)}),D.isUndefined(y.withCredentials)||(Q.withCredentials=!!y.withCredentials),ge&&"json"!==ge&&(Q.responseType=y.responseType),"function"==typeof y.onDownloadProgress&&Q.addEventListener("progress",y.onDownloadProgress),"function"==typeof y.onUploadProgress&&Q.upload&&Q.upload.addEventListener("progress",y.onUploadProgress),y.cancelToken&&y.cancelToken.promise.then(function(it){!Q||(Q.abort(),Oe(it),Q=null)}),$||($=null),Q.send($)})}},114:(Z,de,E)=>{"use strict";var D=E(701),V=E(414),j=E(490),M=E(971);function W(B){var G=new j(B),y=V(j.prototype.request,G);return D.extend(y,j.prototype,G),D.extend(y,G),y}var R=W(E(324));R.Axios=j,R.create=function(G){return W(M(R.defaults,G))},R.Cancel=E(413),R.CancelToken=E(56),R.isCancel=E(827),R.all=function(G){return Promise.all(G)},R.spread=E(211),R.isAxiosError=E(603),Z.exports=R,Z.exports.default=R},413:Z=>{"use strict";function de(E){this.message=E}de.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},de.prototype.__CANCEL__=!0,Z.exports=de},56:(Z,de,E)=>{"use strict";var D=E(413);function V(j){if("function"!=typeof j)throw new TypeError("executor must be a function.");var M;this.promise=new Promise(function(R){M=R});var T=this;j(function(R){T.reason||(T.reason=new D(R),M(T.reason))})}V.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},V.source=function(){var M;return{token:new V(function(R){M=R}),cancel:M}},Z.exports=V},827:Z=>{"use strict";Z.exports=function(E){return!(!E||!E.__CANCEL__)}},490:(Z,de,E)=>{"use strict";var D=E(701),V=E(625),j=E(607),M=E(957),T=E(971),W=E(828),R=W.validators;function B(G){this.defaults=G,this.interceptors={request:new j,response:new j}}B.prototype.request=function(y){"string"==typeof y?(y=arguments[1]||{}).url=arguments[0]:y=y||{},(y=T(this.defaults,y)).method=y.method?y.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var ie=y.transitional;void 0!==ie&&W.assertOptions(ie,{silentJSONParsing:R.transitional(R.boolean,"1.0.0"),forcedJSONParsing:R.transitional(R.boolean,"1.0.0"),clarifyTimeoutError:R.transitional(R.boolean,"1.0.0")},!1);var he=[],Oe=!0;this.interceptors.request.forEach(function(Ne){"function"==typeof Ne.runWhen&&!1===Ne.runWhen(y)||(Oe=Oe&&Ne.synchronous,he.unshift(Ne.fulfilled,Ne.rejected))});var U,$=[];if(this.interceptors.response.forEach(function(Ne){$.push(Ne.fulfilled,Ne.rejected)}),!Oe){var ge=[M,void 0];for(Array.prototype.unshift.apply(ge,he),ge=ge.concat($),U=Promise.resolve(y);ge.length;)U=U.then(ge.shift(),ge.shift());return U}for(var Q=y;he.length;){var xe=he.shift(),Re=he.shift();try{Q=xe(Q)}catch(Pe){Re(Pe);break}}try{U=M(Q)}catch(Pe){return Promise.reject(Pe)}for(;$.length;)U=U.then($.shift(),$.shift());return U},B.prototype.getUri=function(y){return y=T(this.defaults,y),V(y.url,y.params,y.paramsSerializer).replace(/^\?/,"")},D.forEach(["delete","get","head","options"],function(y){B.prototype[y]=function(ie,he){return this.request(T(he||{},{method:y,url:ie,data:(he||{}).data}))}}),D.forEach(["post","put","patch"],function(y){B.prototype[y]=function(ie,he,Oe){return this.request(T(Oe||{},{method:y,url:ie,data:he}))}}),Z.exports=B},607:(Z,de,E)=>{"use strict";var D=E(701);function V(){this.handlers=[]}V.prototype.use=function(M,T,W){return this.handlers.push({fulfilled:M,rejected:T,synchronous:!!W&&W.synchronous,runWhen:W?W.runWhen:null}),this.handlers.length-1},V.prototype.eject=function(M){this.handlers[M]&&(this.handlers[M]=null)},V.prototype.forEach=function(M){D.forEach(this.handlers,function(W){null!==W&&M(W)})},Z.exports=V},215:(Z,de,E)=>{"use strict";var D=E(692),V=E(554);Z.exports=function(M,T){return M&&!D(T)?V(M,T):T}},593:(Z,de,E)=>{"use strict";var D=E(124);Z.exports=function(j,M,T,W,R){var B=new Error(j);return D(B,M,T,W,R)}},957:(Z,de,E)=>{"use strict";var D=E(701),V=E(134),j=E(827),M=E(324);function T(W){W.cancelToken&&W.cancelToken.throwIfRequested()}Z.exports=function(R){return T(R),R.headers=R.headers||{},R.data=V.call(R,R.data,R.headers,R.transformRequest),R.headers=D.merge(R.headers.common||{},R.headers[R.method]||{},R.headers),D.forEach(["delete","get","head","post","put","patch","common"],function(y){delete R.headers[y]}),(R.adapter||M.adapter)(R).then(function(y){return T(R),y.data=V.call(R,y.data,y.headers,R.transformResponse),y},function(y){return j(y)||(T(R),y&&y.response&&(y.response.data=V.call(R,y.response.data,y.response.headers,R.transformResponse))),Promise.reject(y)})}},124:Z=>{"use strict";Z.exports=function(E,D,V,j,M){return E.config=D,V&&(E.code=V),E.request=j,E.response=M,E.isAxiosError=!0,E.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},E}},971:(Z,de,E)=>{"use strict";var D=E(701);Z.exports=function(j,M){M=M||{};var T={},W=["url","method","data"],R=["headers","auth","proxy","params"],B=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],G=["validateStatus"];function y($,U){return D.isPlainObject($)&&D.isPlainObject(U)?D.merge($,U):D.isPlainObject(U)?D.merge({},U):D.isArray(U)?U.slice():U}function ie($){D.isUndefined(M[$])?D.isUndefined(j[$])||(T[$]=y(void 0,j[$])):T[$]=y(j[$],M[$])}D.forEach(W,function(U){D.isUndefined(M[U])||(T[U]=y(void 0,M[U]))}),D.forEach(R,ie),D.forEach(B,function(U){D.isUndefined(M[U])?D.isUndefined(j[U])||(T[U]=y(void 0,j[U])):T[U]=y(void 0,M[U])}),D.forEach(G,function(U){U in M?T[U]=y(j[U],M[U]):U in j&&(T[U]=y(void 0,j[U]))});var he=W.concat(R).concat(B).concat(G),Oe=Object.keys(j).concat(Object.keys(M)).filter(function(U){return-1===he.indexOf(U)});return D.forEach(Oe,ie),T}},858:(Z,de,E)=>{"use strict";var D=E(593);Z.exports=function(j,M,T){var W=T.config.validateStatus;T.status&&W&&!W(T.status)?M(D("Request failed with status code "+T.status,T.config,null,T.request,T)):j(T)}},134:(Z,de,E)=>{"use strict";var D=E(701),V=E(324);Z.exports=function(M,T,W){var R=this||V;return D.forEach(W,function(G){M=G.call(R,M,T)}),M}},324:(Z,de,E)=>{"use strict";var D=E(701),V=E(620),j=E(124),M={"Content-Type":"application/x-www-form-urlencoded"};function T(G,y){!D.isUndefined(G)&&D.isUndefined(G["Content-Type"])&&(G["Content-Type"]=y)}var G,B={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(G=E(729)),G),transformRequest:[function(y,ie){return V(ie,"Accept"),V(ie,"Content-Type"),D.isFormData(y)||D.isArrayBuffer(y)||D.isBuffer(y)||D.isStream(y)||D.isFile(y)||D.isBlob(y)?y:D.isArrayBufferView(y)?y.buffer:D.isURLSearchParams(y)?(T(ie,"application/x-www-form-urlencoded;charset=utf-8"),y.toString()):D.isObject(y)||ie&&"application/json"===ie["Content-Type"]?(T(ie,"application/json"),function(G,y,ie){if(D.isString(G))try{return(0,JSON.parse)(G),D.trim(G)}catch(he){if("SyntaxError"!==he.name)throw he}return(0,JSON.stringify)(G)}(y)):y}],transformResponse:[function(y){var ie=this.transitional,$=!(ie&&ie.silentJSONParsing)&&"json"===this.responseType;if($||ie&&ie.forcedJSONParsing&&D.isString(y)&&y.length)try{return JSON.parse(y)}catch(U){if($)throw"SyntaxError"===U.name?j(U,this,"E_JSON_PARSE"):U}return y}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(y){return y>=200&&y<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};D.forEach(["delete","get","head"],function(y){B.headers[y]={}}),D.forEach(["post","put","patch"],function(y){B.headers[y]=D.merge(M)}),Z.exports=B},414:Z=>{"use strict";Z.exports=function(E,D){return function(){for(var j=new Array(arguments.length),M=0;M<j.length;M++)j[M]=arguments[M];return E.apply(D,j)}}},625:(Z,de,E)=>{"use strict";var D=E(701);function V(j){return encodeURIComponent(j).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}Z.exports=function(M,T,W){if(!T)return M;var R;if(W)R=W(T);else if(D.isURLSearchParams(T))R=T.toString();else{var B=[];D.forEach(T,function(ie,he){null==ie||(D.isArray(ie)?he+="[]":ie=[ie],D.forEach(ie,function($){D.isDate($)?$=$.toISOString():D.isObject($)&&($=JSON.stringify($)),B.push(V(he)+"="+V($))}))}),R=B.join("&")}if(R){var G=M.indexOf("#");-1!==G&&(M=M.slice(0,G)),M+=(-1===M.indexOf("?")?"?":"&")+R}return M}},554:Z=>{"use strict";Z.exports=function(E,D){return D?E.replace(/\/+$/,"")+"/"+D.replace(/^\/+/,""):E}},738:(Z,de,E)=>{"use strict";var D=E(701);Z.exports=D.isStandardBrowserEnv()?{write:function(M,T,W,R,B,G){var y=[];y.push(M+"="+encodeURIComponent(T)),D.isNumber(W)&&y.push("expires="+new Date(W).toGMTString()),D.isString(R)&&y.push("path="+R),D.isString(B)&&y.push("domain="+B),!0===G&&y.push("secure"),document.cookie=y.join("; ")},read:function(M){var T=document.cookie.match(new RegExp("(^|;\\s*)("+M+")=([^;]*)"));return T?decodeURIComponent(T[3]):null},remove:function(M){this.write(M,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},692:Z=>{"use strict";Z.exports=function(E){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(E)}},603:Z=>{"use strict";Z.exports=function(E){return"object"==typeof E&&!0===E.isAxiosError}},100:(Z,de,E)=>{"use strict";var D=E(701);Z.exports=D.isStandardBrowserEnv()?function(){var T,j=/(msie|trident)/i.test(navigator.userAgent),M=document.createElement("a");function W(R){var B=R;return j&&(M.setAttribute("href",B),B=M.href),M.setAttribute("href",B),{href:M.href,protocol:M.protocol?M.protocol.replace(/:$/,""):"",host:M.host,search:M.search?M.search.replace(/^\?/,""):"",hash:M.hash?M.hash.replace(/^#/,""):"",hostname:M.hostname,port:M.port,pathname:"/"===M.pathname.charAt(0)?M.pathname:"/"+M.pathname}}return T=W(window.location.href),function(B){var G=D.isString(B)?W(B):B;return G.protocol===T.protocol&&G.host===T.host}}():function(){return!0}},620:(Z,de,E)=>{"use strict";var D=E(701);Z.exports=function(j,M){D.forEach(j,function(W,R){R!==M&&R.toUpperCase()===M.toUpperCase()&&(j[M]=W,delete j[R])})}},99:(Z,de,E)=>{"use strict";var D=E(701),V=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];Z.exports=function(M){var W,R,B,T={};return M&&D.forEach(M.split("\n"),function(y){if(B=y.indexOf(":"),W=D.trim(y.substr(0,B)).toLowerCase(),R=D.trim(y.substr(B+1)),W){if(T[W]&&V.indexOf(W)>=0)return;T[W]="set-cookie"===W?(T[W]?T[W]:[]).concat([R]):T[W]?T[W]+", "+R:R}}),T}},211:Z=>{"use strict";Z.exports=function(E){return function(V){return E.apply(null,V)}}},828:(Z,de,E)=>{"use strict";var D=E(50),V={};["object","boolean","number","function","string","symbol"].forEach(function(R,B){V[R]=function(y){return typeof y===R||"a"+(B<1?"n ":" ")+R}});var j={},M=D.version.split(".");function T(R,B){for(var G=B?B.split("."):M,y=R.split("."),ie=0;ie<3;ie++){if(G[ie]>y[ie])return!0;if(G[ie]<y[ie])return!1}return!1}V.transitional=function(B,G,y){var ie=G&&T(G);function he(Oe,$){return"[Axios v"+D.version+"] Transitional option '"+Oe+"'"+$+(y?". "+y:"")}return function(Oe,$,U){if(!1===B)throw new Error(he($," has been removed in "+G));return ie&&!j[$]&&(j[$]=!0,console.warn(he($," has been deprecated since v"+G+" and will be removed in the near future"))),!B||B(Oe,$,U)}},Z.exports={isOlderVersion:T,assertOptions:function(R,B,G){if("object"!=typeof R)throw new TypeError("options must be an object");for(var y=Object.keys(R),ie=y.length;ie-- >0;){var he=y[ie],Oe=B[he];if(Oe){var $=R[he],U=void 0===$||Oe($,he,R);if(!0!==U)throw new TypeError("option "+he+" must be "+U)}else if(!0!==G)throw Error("Unknown option "+he)}},validators:V}},701:(Z,de,E)=>{"use strict";var D=E(414),V=Object.prototype.toString;function j(z){return"[object Array]"===V.call(z)}function M(z){return void 0===z}function ie(z){return null!==z&&"object"==typeof z}function he(z){if("[object Object]"!==V.call(z))return!1;var ae=Object.getPrototypeOf(z);return null===ae||ae===Object.prototype}function ge(z){return"[object Function]"===V.call(z)}function Ne(z,ae){if(null!=z)if("object"!=typeof z&&(z=[z]),j(z))for(var X=0,J=z.length;X<J;X++)ae.call(null,z[X],X,z);else for(var se in z)Object.prototype.hasOwnProperty.call(z,se)&&ae.call(null,z[se],se,z)}Z.exports={isArray:j,isArrayBuffer:function(z){return"[object ArrayBuffer]"===V.call(z)},isBuffer:function(z){return null!==z&&!M(z)&&null!==z.constructor&&!M(z.constructor)&&"function"==typeof z.constructor.isBuffer&&z.constructor.isBuffer(z)},isFormData:function(z){return"undefined"!=typeof FormData&&z instanceof FormData},isArrayBufferView:function(z){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(z):z&&z.buffer&&z.buffer instanceof ArrayBuffer},isString:function(z){return"string"==typeof z},isNumber:function(z){return"number"==typeof z},isObject:ie,isPlainObject:he,isUndefined:M,isDate:function(z){return"[object Date]"===V.call(z)},isFile:function(z){return"[object File]"===V.call(z)},isBlob:function(z){return"[object Blob]"===V.call(z)},isFunction:ge,isStream:function(z){return ie(z)&&ge(z.pipe)},isURLSearchParams:function(z){return"undefined"!=typeof URLSearchParams&&z instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:Ne,merge:function ee(){var z={};function ae(se,H){z[H]=he(z[H])&&he(se)?ee(z[H],se):he(se)?ee({},se):j(se)?se.slice():se}for(var X=0,J=arguments.length;X<J;X++)Ne(arguments[X],ae);return z},extend:function(z,ae,X){return Ne(ae,function(se,H){z[H]=X&&"function"==typeof se?D(se,X):se}),z},trim:function(z){return z.trim?z.trim():z.replace(/^\s+|\s+$/g,"")},stripBOM:function(z){return 65279===z.charCodeAt(0)&&(z=z.slice(1)),z}}},343:(Z,de)=>{"use strict";de.JQ=function($){for(var U,ge=$.length,Q=ge%3,xe=[],Pe=0,Ne=ge-Q;Pe<Ne;Pe+=16383)xe.push(he($,Pe,Pe+16383>Ne?Ne:Pe+16383));return 1===Q?xe.push(D[(U=$[ge-1])>>2]+D[U<<4&63]+"=="):2===Q&&xe.push(D[(U=($[ge-2]<<8)+$[ge-1])>>10]+D[U>>4&63]+D[U<<2&63]+"="),xe.join("")};for(var D=[],V=[],M=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),T=0,W=M.length;T<W;++T)D[T]=M[T],V[M.charCodeAt(T)]=T;function ie($){return D[$>>18&63]+D[$>>12&63]+D[$>>6&63]+D[63&$]}function he($,U,ge){for(var xe=[],Re=U;Re<ge;Re+=3)xe.push(ie(($[Re]<<16&16711680)+($[Re+1]<<8&65280)+(255&$[Re+2])));return xe.join("")}V["-".charCodeAt(0)]=62,V["_".charCodeAt(0)]=63},764:function(Z){Z.exports=function(){"use strict";var E=6e4,D=36e5,V="millisecond",j="second",M="minute",T="hour",W="day",R="week",B="month",G="quarter",y="year",ie="date",he="Invalid Date",Oe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},ge=function(ae,X,J){var se=String(ae);return!se||se.length>=X?ae:""+Array(X+1-se.length).join(J)+ae},Q={s:ge,z:function(ae){var X=-ae.utcOffset(),J=Math.abs(X),se=Math.floor(J/60),H=J%60;return(X<=0?"+":"-")+ge(se,2,"0")+":"+ge(H,2,"0")},m:function ae(X,J){if(X.date()<J.date())return-ae(J,X);var se=12*(J.year()-X.year())+(J.month()-X.month()),H=X.clone().add(se,B),Se=J-H<0,A=X.clone().add(se+(Se?-1:1),B);return+(-(se+(J-H)/(Se?H-A:A-H))||0)},a:function(ae){return ae<0?Math.ceil(ae)||0:Math.floor(ae)},p:function(ae){return{M:B,y,w:R,d:W,D:ie,h:T,m:M,s:j,ms:V,Q:G}[ae]||String(ae||"").toLowerCase().replace(/s$/,"")},u:function(ae){return void 0===ae}},xe="en",Re={};Re[xe]=U;var Pe=function(ae){return ae instanceof it},Ne=function(ae,X,J){var se;if(!ae)return xe;if("string"==typeof ae)Re[ae]&&(se=ae),X&&(Re[ae]=X,se=ae);else{var H=ae.name;Re[H]=ae,se=H}return!J&&se&&(xe=se),se||!J&&xe},ee=function(ae,X){if(Pe(ae))return ae.clone();var J="object"==typeof X?X:{};return J.date=ae,J.args=arguments,new it(J)},_e=Q;_e.l=Ne,_e.i=Pe,_e.w=function(ae,X){return ee(ae,{locale:X.$L,utc:X.$u,x:X.$x,$offset:X.$offset})};var it=function(){function ae(J){this.$L=Ne(J.locale,null,!0),this.parse(J)}var X=ae.prototype;return X.parse=function(J){this.$d=function(se){var H=se.date,Se=se.utc;if(null===H)return new Date(NaN);if(_e.u(H))return new Date;if(H instanceof Date)return new Date(H);if("string"==typeof H&&!/Z$/i.test(H)){var A=H.match(Oe);if(A){var k=A[2]-1||0,q=(A[7]||"0").substring(0,3);return Se?new Date(Date.UTC(A[1],k,A[3]||1,A[4]||0,A[5]||0,A[6]||0,q)):new Date(A[1],k,A[3]||1,A[4]||0,A[5]||0,A[6]||0,q)}}return new Date(H)}(J),this.$x=J.x||{},this.init()},X.init=function(){var J=this.$d;this.$y=J.getFullYear(),this.$M=J.getMonth(),this.$D=J.getDate(),this.$W=J.getDay(),this.$H=J.getHours(),this.$m=J.getMinutes(),this.$s=J.getSeconds(),this.$ms=J.getMilliseconds()},X.$utils=function(){return _e},X.isValid=function(){return this.$d.toString()!==he},X.isSame=function(J,se){var H=ee(J);return this.startOf(se)<=H&&H<=this.endOf(se)},X.isAfter=function(J,se){return ee(J)<this.startOf(se)},X.isBefore=function(J,se){return this.endOf(se)<ee(J)},X.$g=function(J,se,H){return _e.u(J)?this[se]:this.set(H,J)},X.unix=function(){return Math.floor(this.valueOf()/1e3)},X.valueOf=function(){return this.$d.getTime()},X.startOf=function(J,se){var H=this,Se=!!_e.u(se)||se,A=_e.p(J),k=function(nt,bt){var kt=_e.w(H.$u?Date.UTC(H.$y,bt,nt):new Date(H.$y,bt,nt),H);return Se?kt:kt.endOf(W)},q=function(nt,bt){return _e.w(H.toDate()[nt].apply(H.toDate("s"),(Se?[0,0,0,0]:[23,59,59,999]).slice(bt)),H)},te=this.$W,oe=this.$M,qe=this.$D,ke="set"+(this.$u?"UTC":"");switch(A){case y:return Se?k(1,0):k(31,11);case B:return Se?k(1,oe):k(0,oe+1);case R:var Be=this.$locale().weekStart||0,Ze=(te<Be?te+7:te)-Be;return k(Se?qe-Ze:qe+(6-Ze),oe);case W:case ie:return q(ke+"Hours",0);case T:return q(ke+"Minutes",1);case M:return q(ke+"Seconds",2);case j:return q(ke+"Milliseconds",3);default:return this.clone()}},X.endOf=function(J){return this.startOf(J,!1)},X.$set=function(J,se){var H,Se=_e.p(J),A="set"+(this.$u?"UTC":""),k=(H={},H[W]=A+"Date",H[ie]=A+"Date",H[B]=A+"Month",H[y]=A+"FullYear",H[T]=A+"Hours",H[M]=A+"Minutes",H[j]=A+"Seconds",H[V]=A+"Milliseconds",H)[Se],q=Se===W?this.$D+(se-this.$W):se;if(Se===B||Se===y){var te=this.clone().set(ie,1);te.$d[k](q),te.init(),this.$d=te.set(ie,Math.min(this.$D,te.daysInMonth())).$d}else k&&this.$d[k](q);return this.init(),this},X.set=function(J,se){return this.clone().$set(J,se)},X.get=function(J){return this[_e.p(J)]()},X.add=function(J,se){var H,Se=this;J=Number(J);var A=_e.p(se),k=function(oe){var qe=ee(Se);return _e.w(qe.date(qe.date()+Math.round(oe*J)),Se)};if(A===B)return this.set(B,this.$M+J);if(A===y)return this.set(y,this.$y+J);if(A===W)return k(1);if(A===R)return k(7);var q=(H={},H[M]=E,H[T]=D,H[j]=1e3,H)[A]||1,te=this.$d.getTime()+J*q;return _e.w(te,this)},X.subtract=function(J,se){return this.add(-1*J,se)},X.format=function(J){var se=this,H=this.$locale();if(!this.isValid())return H.invalidDate||he;var Se=J||"YYYY-MM-DDTHH:mm:ssZ",A=_e.z(this),k=this.$H,q=this.$m,te=this.$M,oe=H.weekdays,qe=H.months,ke=function(bt,kt,dn,Ji){return bt&&(bt[kt]||bt(se,Se))||dn[kt].substr(0,Ji)},Be=function(bt){return _e.s(k%12||12,bt,"0")},Ze=H.meridiem||function(bt,kt,dn){var Ji=bt<12?"AM":"PM";return dn?Ji.toLowerCase():Ji},nt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:te+1,MM:_e.s(te+1,2,"0"),MMM:ke(H.monthsShort,te,qe,3),MMMM:ke(qe,te),D:this.$D,DD:_e.s(this.$D,2,"0"),d:String(this.$W),dd:ke(H.weekdaysMin,this.$W,oe,2),ddd:ke(H.weekdaysShort,this.$W,oe,3),dddd:oe[this.$W],H:String(k),HH:_e.s(k,2,"0"),h:Be(1),hh:Be(2),a:Ze(k,q,!0),A:Ze(k,q,!1),m:String(q),mm:_e.s(q,2,"0"),s:String(this.$s),ss:_e.s(this.$s,2,"0"),SSS:_e.s(this.$ms,3,"0"),Z:A};return Se.replace($,function(bt,kt){return kt||nt[bt]||A.replace(":","")})},X.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},X.diff=function(J,se,H){var Se,A=_e.p(se),k=ee(J),q=(k.utcOffset()-this.utcOffset())*E,te=this-k,oe=_e.m(this,k);return oe=(Se={},Se[y]=oe/12,Se[B]=oe,Se[G]=oe/3,Se[R]=(te-q)/6048e5,Se[W]=(te-q)/864e5,Se[T]=te/D,Se[M]=te/E,Se[j]=te/1e3,Se)[A]||te,H?oe:_e.a(oe)},X.daysInMonth=function(){return this.endOf(B).$D},X.$locale=function(){return Re[this.$L]},X.locale=function(J,se){if(!J)return this.$L;var H=this.clone(),Se=Ne(J,se,!0);return Se&&(H.$L=Se),H},X.clone=function(){return _e.w(this.$d,this)},X.toDate=function(){return new Date(this.valueOf())},X.toJSON=function(){return this.isValid()?this.toISOString():null},X.toISOString=function(){return this.$d.toISOString()},X.toString=function(){return this.$d.toUTCString()},ae}(),z=it.prototype;return ee.prototype=z,[["$ms",V],["$s",j],["$m",M],["$H",T],["$W",W],["$M",B],["$y",y],["$D",ie]].forEach(function(ae){z[ae[1]]=function(X){return this.$g(X,ae[0],ae[1])}}),ee.extend=function(ae,X){return ae.$i||(ae(X,it,ee),ae.$i=!0),ee},ee.locale=Ne,ee.isDayjs=Pe,ee.unix=function(ae){return ee(1e3*ae)},ee.en=Re[xe],ee.Ls=Re,ee.p={},ee}()},563:function(Z){Z.exports=function(){"use strict";return function(de,E,D){var V="h:mm A",j={lastDay:"[Yesterday at] "+V,sameDay:"[Today at] "+V,nextDay:"[Tomorrow at] "+V,nextWeek:"dddd [at] "+V,lastWeek:"[Last] dddd [at] "+V,sameElse:"MM/DD/YYYY"};E.prototype.calendar=function(M,T){var W=T||this.$locale().calendar||j,R=D(M||void 0).startOf("d"),B=this.diff(R,"d",!0),G="sameElse",y=B<-6?G:B<-1?"lastWeek":B<0?"lastDay":B<1?"sameDay":B<2?"nextDay":B<7?"nextWeek":G,ie=W[y]||j[y];return"function"==typeof ie?ie.call(this,D()):this.format(ie)}}}()},239:Z=>{Z.exports="object"==typeof self?self.FormData:window.FormData},151:Z=>{var de=null;"undefined"!=typeof WebSocket?de=WebSocket:"undefined"!=typeof MozWebSocket?de=MozWebSocket:"undefined"!=typeof global?de=global.WebSocket||global.MozWebSocket:"undefined"!=typeof window?de=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(de=self.WebSocket||self.MozWebSocket),Z.exports=de},711:Z=>{var ee,D=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,T=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),R="object"==typeof global&&global&&global.Object===Object&&global,B="object"==typeof self&&self&&self.Object===Object&&self,G=R||B||Function("return this")(),ie=(ee={\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"ss"},function(_e){return null==ee?void 0:ee[_e]}),Oe=Object.prototype.toString,$=G.Symbol,U=$?$.prototype:void 0,ge=U?U.toString:void 0;Z.exports=function(ee){return(ee=function(ee){return null==ee?"":function(ee){if("string"==typeof ee)return ee;if(function(ee){return"symbol"==typeof ee||function(ee){return!!ee&&"object"==typeof ee}(ee)&&"[object Symbol]"==Oe.call(ee)}(ee))return ge?ge.call(ee):"";var _e=ee+"";return"0"==_e&&1/ee==-1/0?"-0":_e}(ee)}(ee))&&ee.replace(D,ie).replace(T,"")}},431:Z=>{"use strict";const de=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],E=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],D=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],V=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],j=(M,T,W)=>{let R=M;return"string"==typeof T||Array.isArray(T)?R=M.toLocaleString(T,W):(!0===T||void 0!==W)&&(R=M.toLocaleString(void 0,W)),R};Z.exports=(M,T)=>{if(!Number.isFinite(M))throw new TypeError(`Expected a finite number, got ${typeof M}: ${M}`);const W=(T=Object.assign({bits:!1,binary:!1},T)).bits?T.binary?V:D:T.binary?E:de;if(T.signed&&0===M)return` 0 ${W[0]}`;const R=M<0,B=R?"-":T.signed?"+":"";let G;if(R&&(M=-M),void 0!==T.minimumFractionDigits&&(G={minimumFractionDigits:T.minimumFractionDigits}),void 0!==T.maximumFractionDigits&&(G=Object.assign({maximumFractionDigits:T.maximumFractionDigits},G)),M<1)return B+j(M,T.locale,G)+" "+W[0];const y=Math.min(Math.floor(T.binary?Math.log(M)/Math.log(1024):Math.log10(M)/3),W.length-1);return M/=Math.pow(T.binary?1024:1e3,y),G||(M=M.toPrecision(3)),B+j(Number(M),T.locale,G)+" "+W[y]}},854:Z=>{var de=function(E){"use strict";var j,D=Object.prototype,V=D.hasOwnProperty,M="function"==typeof Symbol?Symbol:{},T=M.iterator||"@@iterator",W=M.asyncIterator||"@@asyncIterator",R=M.toStringTag||"@@toStringTag";function B(A,k,q){return Object.defineProperty(A,k,{value:q,enumerable:!0,configurable:!0,writable:!0}),A[k]}try{B({},"")}catch(A){B=function(k,q,te){return k[q]=te}}function G(A,k,q,te){var qe=Object.create((k&&k.prototype instanceof ge?k:ge).prototype),ke=new se(te||[]);return qe._invoke=function(A,k,q){var te=ie;return function(qe,ke){if(te===Oe)throw new Error("Generator is already running");if(te===$){if("throw"===qe)throw ke;return Se()}for(q.method=qe,q.arg=ke;;){var Be=q.delegate;if(Be){var Ze=ae(Be,q);if(Ze){if(Ze===U)continue;return Ze}}if("next"===q.method)q.sent=q._sent=q.arg;else if("throw"===q.method){if(te===ie)throw te=$,q.arg;q.dispatchException(q.arg)}else"return"===q.method&&q.abrupt("return",q.arg);te=Oe;var nt=y(A,k,q);if("normal"===nt.type){if(te=q.done?$:he,nt.arg===U)continue;return{value:nt.arg,done:q.done}}"throw"===nt.type&&(te=$,q.method="throw",q.arg=nt.arg)}}}(A,q,ke),qe}function y(A,k,q){try{return{type:"normal",arg:A.call(k,q)}}catch(te){return{type:"throw",arg:te}}}E.wrap=G;var ie="suspendedStart",he="suspendedYield",Oe="executing",$="completed",U={};function ge(){}function Q(){}function xe(){}var Re={};B(Re,T,function(){return this});var Pe=Object.getPrototypeOf,Ne=Pe&&Pe(Pe(H([])));Ne&&Ne!==D&&V.call(Ne,T)&&(Re=Ne);var ee=xe.prototype=ge.prototype=Object.create(Re);function _e(A){["next","throw","return"].forEach(function(k){B(A,k,function(q){return this._invoke(k,q)})})}function it(A,k){function q(qe,ke,Be,Ze){var nt=y(A[qe],A,ke);if("throw"!==nt.type){var bt=nt.arg,kt=bt.value;return kt&&"object"==typeof kt&&V.call(kt,"__await")?k.resolve(kt.__await).then(function(dn){q("next",dn,Be,Ze)},function(dn){q("throw",dn,Be,Ze)}):k.resolve(kt).then(function(dn){bt.value=dn,Be(bt)},function(dn){return q("throw",dn,Be,Ze)})}Ze(nt.arg)}var te;this._invoke=function(qe,ke){function Be(){return new k(function(Ze,nt){q(qe,ke,Ze,nt)})}return te=te?te.then(Be,Be):Be()}}function ae(A,k){var q=A.iterator[k.method];if(q===j){if(k.delegate=null,"throw"===k.method){if(A.iterator.return&&(k.method="return",k.arg=j,ae(A,k),"throw"===k.method))return U;k.method="throw",k.arg=new TypeError("The iterator does not provide a 'throw' method")}return U}var te=y(q,A.iterator,k.arg);if("throw"===te.type)return k.method="throw",k.arg=te.arg,k.delegate=null,U;var oe=te.arg;return oe?oe.done?(k[A.resultName]=oe.value,k.next=A.nextLoc,"return"!==k.method&&(k.method="next",k.arg=j),k.delegate=null,U):oe:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,U)}function X(A){var k={tryLoc:A[0]};1 in A&&(k.catchLoc=A[1]),2 in A&&(k.finallyLoc=A[2],k.afterLoc=A[3]),this.tryEntries.push(k)}function J(A){var k=A.completion||{};k.type="normal",delete k.arg,A.completion=k}function se(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(X,this),this.reset(!0)}function H(A){if(A){var k=A[T];if(k)return k.call(A);if("function"==typeof A.next)return A;if(!isNaN(A.length)){var q=-1,te=function oe(){for(;++q<A.length;)if(V.call(A,q))return oe.value=A[q],oe.done=!1,oe;return oe.value=j,oe.done=!0,oe};return te.next=te}}return{next:Se}}function Se(){return{value:j,done:!0}}return Q.prototype=xe,B(ee,"constructor",xe),B(xe,"constructor",Q),Q.displayName=B(xe,R,"GeneratorFunction"),E.isGeneratorFunction=function(A){var k="function"==typeof A&&A.constructor;return!!k&&(k===Q||"GeneratorFunction"===(k.displayName||k.name))},E.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,xe):(A.__proto__=xe,B(A,R,"GeneratorFunction")),A.prototype=Object.create(ee),A},E.awrap=function(A){return{__await:A}},_e(it.prototype),B(it.prototype,W,function(){return this}),E.AsyncIterator=it,E.async=function(A,k,q,te,oe){void 0===oe&&(oe=Promise);var qe=new it(G(A,k,q,te),oe);return E.isGeneratorFunction(k)?qe:qe.next().then(function(ke){return ke.done?ke.value:qe.next()})},_e(ee),B(ee,R,"Generator"),B(ee,T,function(){return this}),B(ee,"toString",function(){return"[object Generator]"}),E.keys=function(A){var k=[];for(var q in A)k.push(q);return k.reverse(),function te(){for(;k.length;){var oe=k.pop();if(oe in A)return te.value=oe,te.done=!1,te}return te.done=!0,te}},E.values=H,se.prototype={constructor:se,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=j,this.done=!1,this.delegate=null,this.method="next",this.arg=j,this.tryEntries.forEach(J),!A)for(var k in this)"t"===k.charAt(0)&&V.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=j)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if("throw"===k.type)throw k.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var k=this;function q(Ze,nt){return qe.type="throw",qe.arg=A,k.next=Ze,nt&&(k.method="next",k.arg=j),!!nt}for(var te=this.tryEntries.length-1;te>=0;--te){var oe=this.tryEntries[te],qe=oe.completion;if("root"===oe.tryLoc)return q("end");if(oe.tryLoc<=this.prev){var ke=V.call(oe,"catchLoc"),Be=V.call(oe,"finallyLoc");if(ke&&Be){if(this.prev<oe.catchLoc)return q(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return q(oe.finallyLoc)}else if(ke){if(this.prev<oe.catchLoc)return q(oe.catchLoc,!0)}else{if(!Be)throw new Error("try statement without catch or finally");if(this.prev<oe.finallyLoc)return q(oe.finallyLoc)}}}},abrupt:function(A,k){for(var q=this.tryEntries.length-1;q>=0;--q){var te=this.tryEntries[q];if(te.tryLoc<=this.prev&&V.call(te,"finallyLoc")&&this.prev<te.finallyLoc){var oe=te;break}}oe&&("break"===A||"continue"===A)&&oe.tryLoc<=k&&k<=oe.finallyLoc&&(oe=null);var qe=oe?oe.completion:{};return qe.type=A,qe.arg=k,oe?(this.method="next",this.next=oe.finallyLoc,U):this.complete(qe)},complete:function(A,k){if("throw"===A.type)throw A.arg;return"break"===A.type||"continue"===A.type?this.next=A.arg:"return"===A.type?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):"normal"===A.type&&k&&(this.next=k),U},finish:function(A){for(var k=this.tryEntries.length-1;k>=0;--k){var q=this.tryEntries[k];if(q.finallyLoc===A)return this.complete(q.completion,q.afterLoc),J(q),U}},catch:function(A){for(var k=this.tryEntries.length-1;k>=0;--k){var q=this.tryEntries[k];if(q.tryLoc===A){var te=q.completion;if("throw"===te.type){var oe=te.arg;J(q)}return oe}}throw new Error("illegal catch attempt")},delegateYield:function(A,k,q){return this.delegate={iterator:H(A),resultName:k,nextLoc:q},"next"===this.method&&(this.arg=j),U}},E}(Z.exports);try{regeneratorRuntime=de}catch(E){"object"==typeof globalThis?globalThis.regeneratorRuntime=de:Function("r","regeneratorRuntime = r")(de)}},757:(Z,de,E)=>{Z.exports=E(854)},50:Z=>{"use strict";Z.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},Z=>{Z(Z.s=766)}]);